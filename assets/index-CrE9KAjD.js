var tk=Object.defineProperty;var rk=(e,t,r)=>t in e?tk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ch=(e,t,r)=>rk(e,typeof t!="symbol"?t+"":t,r);function nk(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var sk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rh={exports:{}},Ya={},Eh={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HS;function ok(){if(HS)return et;HS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function R(U,G,ne){this.props=U,this.context=G,this.refs=E,this.updater=ne||w}R.prototype.isReactComponent={},R.prototype.setState=function(U,G){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,G,"setState")},R.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function T(){}T.prototype=R.prototype;function x(U,G,ne){this.props=U,this.context=G,this.refs=E,this.updater=ne||w}var p=x.prototype=new T;p.constructor=x,b(p,R.prototype),p.isPureReactComponent=!0;var h=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function j(U,G,ne){var ue,Q={},se=null,le=null;if(G!=null)for(ue in G.ref!==void 0&&(le=G.ref),G.key!==void 0&&(se=""+G.key),G)S.call(G,ue)&&!D.hasOwnProperty(ue)&&(Q[ue]=G[ue]);var ge=arguments.length-2;if(ge===1)Q.children=ne;else if(1<ge){for(var te=Array(ge),he=0;he<ge;he++)te[he]=arguments[he+2];Q.children=te}if(U&&U.defaultProps)for(ue in ge=U.defaultProps,ge)Q[ue]===void 0&&(Q[ue]=ge[ue]);return{$$typeof:e,type:U,key:se,ref:le,props:Q,_owner:C.current}}function L(U,G){return{$$typeof:e,type:U.type,key:G,ref:U.ref,props:U.props,_owner:U._owner}}function N(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function A(U){var G={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ne){return G[ne]})}var O=/\/+/g;function V(U,G){return typeof U=="object"&&U!==null&&U.key!=null?A(""+U.key):G.toString(36)}function W(U,G,ne,ue,Q){var se=typeof U;(se==="undefined"||se==="boolean")&&(U=null);var le=!1;if(U===null)le=!0;else switch(se){case"string":case"number":le=!0;break;case"object":switch(U.$$typeof){case e:case t:le=!0}}if(le)return le=U,Q=Q(le),U=ue===""?"."+V(le,0):ue,h(Q)?(ne="",U!=null&&(ne=U.replace(O,"$&/")+"/"),W(Q,G,ne,"",function(he){return he})):Q!=null&&(N(Q)&&(Q=L(Q,ne+(!Q.key||le&&le.key===Q.key?"":(""+Q.key).replace(O,"$&/")+"/")+U)),G.push(Q)),1;if(le=0,ue=ue===""?".":ue+":",h(U))for(var ge=0;ge<U.length;ge++){se=U[ge];var te=ue+V(se,ge);le+=W(se,G,ne,te,Q)}else if(te=g(U),typeof te=="function")for(U=te.call(U),ge=0;!(se=U.next()).done;)se=se.value,te=ue+V(se,ge++),le+=W(se,G,ne,te,Q);else if(se==="object")throw G=String(U),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return le}function X(U,G,ne){if(U==null)return U;var ue=[],Q=0;return W(U,ue,"","",function(se){return G.call(ne,se,Q++)}),ue}function M(U){if(U._status===-1){var G=U._result;G=G(),G.then(function(ne){(U._status===0||U._status===-1)&&(U._status=1,U._result=ne)},function(ne){(U._status===0||U._status===-1)&&(U._status=2,U._result=ne)}),U._status===-1&&(U._status=0,U._result=G)}if(U._status===1)return U._result.default;throw U._result}var B={current:null},$={transition:null},F={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:$,ReactCurrentOwner:C};function H(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:X,forEach:function(U,G,ne){X(U,function(){G.apply(this,arguments)},ne)},count:function(U){var G=0;return X(U,function(){G++}),G},toArray:function(U){return X(U,function(G){return G})||[]},only:function(U){if(!N(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},et.Component=R,et.Fragment=r,et.Profiler=o,et.PureComponent=x,et.StrictMode=n,et.Suspense=d,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,et.act=H,et.cloneElement=function(U,G,ne){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ue=b({},U.props),Q=U.key,se=U.ref,le=U._owner;if(G!=null){if(G.ref!==void 0&&(se=G.ref,le=C.current),G.key!==void 0&&(Q=""+G.key),U.type&&U.type.defaultProps)var ge=U.type.defaultProps;for(te in G)S.call(G,te)&&!D.hasOwnProperty(te)&&(ue[te]=G[te]===void 0&&ge!==void 0?ge[te]:G[te])}var te=arguments.length-2;if(te===1)ue.children=ne;else if(1<te){ge=Array(te);for(var he=0;he<te;he++)ge[he]=arguments[he+2];ue.children=ge}return{$$typeof:e,type:U.type,key:Q,ref:se,props:ue,_owner:le}},et.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},et.createElement=j,et.createFactory=function(U){var G=j.bind(null,U);return G.type=U,G},et.createRef=function(){return{current:null}},et.forwardRef=function(U){return{$$typeof:l,render:U}},et.isValidElement=N,et.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:M}},et.memo=function(U,G){return{$$typeof:f,type:U,compare:G===void 0?null:G}},et.startTransition=function(U){var G=$.transition;$.transition={};try{U()}finally{$.transition=G}},et.unstable_act=H,et.useCallback=function(U,G){return B.current.useCallback(U,G)},et.useContext=function(U){return B.current.useContext(U)},et.useDebugValue=function(){},et.useDeferredValue=function(U){return B.current.useDeferredValue(U)},et.useEffect=function(U,G){return B.current.useEffect(U,G)},et.useId=function(){return B.current.useId()},et.useImperativeHandle=function(U,G,ne){return B.current.useImperativeHandle(U,G,ne)},et.useInsertionEffect=function(U,G){return B.current.useInsertionEffect(U,G)},et.useLayoutEffect=function(U,G){return B.current.useLayoutEffect(U,G)},et.useMemo=function(U,G){return B.current.useMemo(U,G)},et.useReducer=function(U,G,ne){return B.current.useReducer(U,G,ne)},et.useRef=function(U){return B.current.useRef(U)},et.useState=function(U){return B.current.useState(U)},et.useSyncExternalStore=function(U,G,ne){return B.current.useSyncExternalStore(U,G,ne)},et.useTransition=function(){return B.current.useTransition()},et.version="18.3.1",et}var WS;function Id(){return WS||(WS=1,Eh.exports=ok()),Eh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS;function ik(){if(qS)return Ya;qS=1;var e=Id(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(l,d,f){var m,v={},g=null,w=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(w=d.ref);for(m in d)n.call(d,m)&&!a.hasOwnProperty(m)&&(v[m]=d[m]);if(l&&l.defaultProps)for(m in d=l.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:t,type:l,key:g,ref:w,props:v,_owner:o.current}}return Ya.Fragment=r,Ya.jsx=c,Ya.jsxs=c,Ya}var GS;function ak(){return GS||(GS=1,Rh.exports=ik()),Rh.exports}var y=ak(),Zl={},Th={exports:{}},xr={},kh={exports:{}},Ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS;function ck(){return KS||(KS=1,function(e){function t($,F){var H=$.length;$.push(F);e:for(;0<H;){var U=H-1>>>1,G=$[U];if(0<o(G,F))$[U]=F,$[H]=G,H=U;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var F=$[0],H=$.pop();if(H!==F){$[0]=H;e:for(var U=0,G=$.length,ne=G>>>1;U<ne;){var ue=2*(U+1)-1,Q=$[ue],se=ue+1,le=$[se];if(0>o(Q,H))se<G&&0>o(le,Q)?($[U]=le,$[se]=H,U=se):($[U]=Q,$[ue]=H,U=ue);else if(se<G&&0>o(le,H))$[U]=le,$[se]=H,U=se;else break e}}return F}function o($,F){var H=$.sortIndex-F.sortIndex;return H!==0?H:$.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,l=c.now();e.unstable_now=function(){return c.now()-l}}var d=[],f=[],m=1,v=null,g=3,w=!1,b=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p($){for(var F=r(f);F!==null;){if(F.callback===null)n(f);else if(F.startTime<=$)n(f),F.sortIndex=F.expirationTime,t(d,F);else break;F=r(f)}}function h($){if(E=!1,p($),!b)if(r(d)!==null)b=!0,M(S);else{var F=r(f);F!==null&&B(h,F.startTime-$)}}function S($,F){b=!1,E&&(E=!1,T(j),j=-1),w=!0;var H=g;try{for(p(F),v=r(d);v!==null&&(!(v.expirationTime>F)||$&&!A());){var U=v.callback;if(typeof U=="function"){v.callback=null,g=v.priorityLevel;var G=U(v.expirationTime<=F);F=e.unstable_now(),typeof G=="function"?v.callback=G:v===r(d)&&n(d),p(F)}else n(d);v=r(d)}if(v!==null)var ne=!0;else{var ue=r(f);ue!==null&&B(h,ue.startTime-F),ne=!1}return ne}finally{v=null,g=H,w=!1}}var C=!1,D=null,j=-1,L=5,N=-1;function A(){return!(e.unstable_now()-N<L)}function O(){if(D!==null){var $=e.unstable_now();N=$;var F=!0;try{F=D(!0,$)}finally{F?V():(C=!1,D=null)}}else C=!1}var V;if(typeof x=="function")V=function(){x(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=O,V=function(){X.postMessage(null)}}else V=function(){R(O,0)};function M($){D=$,C||(C=!0,V())}function B($,F){j=R(function(){$(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){b||w||(b=!0,M(S))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function($){switch(g){case 1:case 2:case 3:var F=3;break;default:F=g}var H=g;g=F;try{return $()}finally{g=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,F){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=g;g=$;try{return F()}finally{g=H}},e.unstable_scheduleCallback=function($,F,H){var U=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?U+H:U):H=U,$){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,$={id:m++,callback:F,priorityLevel:$,startTime:H,expirationTime:G,sortIndex:-1},H>U?($.sortIndex=H,t(f,$),r(d)===null&&$===r(f)&&(E?(T(j),j=-1):E=!0,B(h,H-U))):($.sortIndex=G,t(d,$),b||w||(b=!0,M(S))),$},e.unstable_shouldYield=A,e.unstable_wrapCallback=function($){var F=g;return function(){var H=g;g=F;try{return $.apply(this,arguments)}finally{g=H}}}}(Ph)),Ph}var XS;function lk(){return XS||(XS=1,kh.exports=ck()),kh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS;function uk(){if(YS)return xr;YS=1;var e=Id(),t=lk();function r(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function a(s,i){c(s,i),c(s+"Capture",i)}function c(s,i){for(o[s]=i,s=0;s<i.length;s++)n.add(i[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function g(s){return d.call(v,s)?!0:d.call(m,s)?!1:f.test(s)?v[s]=!0:(m[s]=!0,!1)}function w(s,i,u,_){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return _?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,i,u,_){if(i===null||typeof i>"u"||w(s,i,u,_))return!0;if(_)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function E(s,i,u,_,k,I,z){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=_,this.attributeNamespace=k,this.mustUseProperty=u,this.propertyName=s,this.type=i,this.sanitizeURL=I,this.removeEmptyString=z}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];R[i]=new E(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function x(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(T,x);R[i]=new E(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(T,x);R[i]=new E(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(T,x);R[i]=new E(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function p(s,i,u,_){var k=R.hasOwnProperty(i)?R[i]:null;(k!==null?k.type!==0:_||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,u,k,_)&&(u=null),_||k===null?g(i)&&(u===null?s.removeAttribute(i):s.setAttribute(i,""+u)):k.mustUseProperty?s[k.propertyName]=u===null?k.type===3?!1:"":u:(i=k.attributeName,_=k.attributeNamespace,u===null?s.removeAttribute(i):(k=k.type,u=k===3||k===4&&u===!0?"":""+u,_?s.setAttributeNS(_,i,u):s.setAttribute(i,u))))}var h=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),C=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),$=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=$&&s[$]||s["@@iterator"],typeof s=="function"?s:null)}var H=Object.assign,U;function G(s){if(U===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);U=i&&i[1]||""}return`
`+U+s}var ne=!1;function ue(s,i){if(!s||ne)return"";ne=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ee){var _=ee}Reflect.construct(s,[],i)}else{try{i.call()}catch(ee){_=ee}s.call(i.prototype)}else{try{throw Error()}catch(ee){_=ee}s()}}catch(ee){if(ee&&_&&typeof ee.stack=="string"){for(var k=ee.stack.split(`
`),I=_.stack.split(`
`),z=k.length-1,q=I.length-1;1<=z&&0<=q&&k[z]!==I[q];)q--;for(;1<=z&&0<=q;z--,q--)if(k[z]!==I[q]){if(z!==1||q!==1)do if(z--,q--,0>q||k[z]!==I[q]){var K=`
`+k[z].replace(" at new "," at ");return s.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",s.displayName)),K}while(1<=z&&0<=q);break}}}finally{ne=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?G(s):""}function Q(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=ue(s.type,!1),s;case 11:return s=ue(s.type.render,!1),s;case 1:return s=ue(s.type,!0),s;default:return""}}function se(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case C:return"Portal";case L:return"Profiler";case j:return"StrictMode";case V:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case A:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case O:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case X:return i=s.displayName||null,i!==null?i:se(s.type)||"Memo";case M:i=s._payload,s=s._init;try{return se(s(i))}catch{}}return null}function le(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(i);case 8:return i===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function te(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function he(s){var i=te(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),_=""+s[i];if(!s.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var k=u.get,I=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return k.call(this)},set:function(z){_=""+z,I.call(this,z)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return _},setValue:function(z){_=""+z},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function _e(s){s._valueTracker||(s._valueTracker=he(s))}function He(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var u=i.getValue(),_="";return s&&(_=te(s)?s.checked?"true":"false":s.value),s=_,s!==u?(i.setValue(s),!0):!1}function qe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Qe(s,i){var u=i.checked;return H({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function ot(s,i){var u=i.defaultValue==null?"":i.defaultValue,_=i.checked!=null?i.checked:i.defaultChecked;u=ge(i.value!=null?i.value:u),s._wrapperState={initialChecked:_,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function dt(s,i){i=i.checked,i!=null&&p(s,"checked",i,!1)}function fe(s,i){dt(s,i);var u=ge(i.value),_=i.type;if(u!=null)_==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(_==="submit"||_==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Ee(s,i.type,u):i.hasOwnProperty("defaultValue")&&Ee(s,i.type,ge(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function we(s,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var _=i.type;if(!(_!=="submit"&&_!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,u||i===s.value||(s.value=i),s.defaultValue=i}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Ee(s,i,u){(i!=="number"||qe(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Me=Array.isArray;function ze(s,i,u,_){if(s=s.options,i){i={};for(var k=0;k<u.length;k++)i["$"+u[k]]=!0;for(u=0;u<s.length;u++)k=i.hasOwnProperty("$"+s[u].value),s[u].selected!==k&&(s[u].selected=k),k&&_&&(s[u].defaultSelected=!0)}else{for(u=""+ge(u),i=null,k=0;k<s.length;k++){if(s[k].value===u){s[k].selected=!0,_&&(s[k].defaultSelected=!0);return}i!==null||s[k].disabled||(i=s[k])}i!==null&&(i.selected=!0)}}function Fe(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return H({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ge(s,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(r(92));if(Me(u)){if(1<u.length)throw Error(r(93));u=u[0]}i=u}i==null&&(i=""),u=i}s._wrapperState={initialValue:ge(u)}}function me(s,i){var u=ge(i.value),_=ge(i.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),i.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),_!=null&&(s.defaultValue=""+_)}function Pe(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Ce(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Ce(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Se,Ye=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,_,k){MSApp.execUnsafeLocalFunction(function(){return s(i,u,_,k)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Se=Se||document.createElement("div"),Se.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Se.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function at(s,i){if(i){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=i;return}}s.textContent=i}var Ze={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rt=["Webkit","ms","Moz","O"];Object.keys(Ze).forEach(function(s){rt.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),Ze[i]=Ze[s]})});function De(s,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||Ze.hasOwnProperty(s)&&Ze[s]?(""+i).trim():i+"px"}function bt(s,i){s=s.style;for(var u in i)if(i.hasOwnProperty(u)){var _=u.indexOf("--")===0,k=De(u,i[u],_);u==="float"&&(u="cssFloat"),_?s.setProperty(u,k):s[u]=k}}var as=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function si(s,i){if(i){if(as[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Af(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $f=null;function Ff(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var zf=null,oi=null,ii=null;function ay(s){if(s=La(s)){if(typeof zf!="function")throw Error(r(280));var i=s.stateNode;i&&(i=hl(i),zf(s.stateNode,s.type,i))}}function cy(s){oi?ii?ii.push(s):ii=[s]:oi=s}function ly(){if(oi){var s=oi,i=ii;if(ii=oi=null,ay(s),i)for(s=0;s<i.length;s++)ay(i[s])}}function uy(s,i){return s(i)}function dy(){}var Bf=!1;function fy(s,i,u){if(Bf)return s(i,u);Bf=!0;try{return uy(s,i,u)}finally{Bf=!1,(oi!==null||ii!==null)&&(dy(),ly())}}function ha(s,i){var u=s.stateNode;if(u===null)return null;var _=hl(u);if(_===null)return null;u=_[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(s=s.type,_=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!_;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,i,typeof u));return u}var Uf=!1;if(l)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){Uf=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{Uf=!1}function aE(s,i,u,_,k,I,z,q,K){var ee=Array.prototype.slice.call(arguments,3);try{i.apply(u,ee)}catch(ce){this.onError(ce)}}var ga=!1,qc=null,Gc=!1,Vf=null,cE={onError:function(s){ga=!0,qc=s}};function lE(s,i,u,_,k,I,z,q,K){ga=!1,qc=null,aE.apply(cE,arguments)}function uE(s,i,u,_,k,I,z,q,K){if(lE.apply(this,arguments),ga){if(ga){var ee=qc;ga=!1,qc=null}else throw Error(r(198));Gc||(Gc=!0,Vf=ee)}}function ho(s){var i=s,u=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(u=i.return),s=i.return;while(s)}return i.tag===3?u:null}function py(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function hy(s){if(ho(s)!==s)throw Error(r(188))}function dE(s){var i=s.alternate;if(!i){if(i=ho(s),i===null)throw Error(r(188));return i!==s?null:s}for(var u=s,_=i;;){var k=u.return;if(k===null)break;var I=k.alternate;if(I===null){if(_=k.return,_!==null){u=_;continue}break}if(k.child===I.child){for(I=k.child;I;){if(I===u)return hy(k),s;if(I===_)return hy(k),i;I=I.sibling}throw Error(r(188))}if(u.return!==_.return)u=k,_=I;else{for(var z=!1,q=k.child;q;){if(q===u){z=!0,u=k,_=I;break}if(q===_){z=!0,_=k,u=I;break}q=q.sibling}if(!z){for(q=I.child;q;){if(q===u){z=!0,u=I,_=k;break}if(q===_){z=!0,_=I,u=k;break}q=q.sibling}if(!z)throw Error(r(189))}}if(u.alternate!==_)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:i}function my(s){return s=dE(s),s!==null?gy(s):null}function gy(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=gy(s);if(i!==null)return i;s=s.sibling}return null}var vy=t.unstable_scheduleCallback,yy=t.unstable_cancelCallback,fE=t.unstable_shouldYield,pE=t.unstable_requestPaint,Pt=t.unstable_now,hE=t.unstable_getCurrentPriorityLevel,Hf=t.unstable_ImmediatePriority,wy=t.unstable_UserBlockingPriority,Kc=t.unstable_NormalPriority,mE=t.unstable_LowPriority,Sy=t.unstable_IdlePriority,Xc=null,Hn=null;function gE(s){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Xc,s,void 0,(s.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:wE,vE=Math.log,yE=Math.LN2;function wE(s){return s>>>=0,s===0?32:31-(vE(s)/yE|0)|0}var Yc=64,Qc=4194304;function va(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Jc(s,i){var u=s.pendingLanes;if(u===0)return 0;var _=0,k=s.suspendedLanes,I=s.pingedLanes,z=u&268435455;if(z!==0){var q=z&~k;q!==0?_=va(q):(I&=z,I!==0&&(_=va(I)))}else z=u&~k,z!==0?_=va(z):I!==0&&(_=va(I));if(_===0)return 0;if(i!==0&&i!==_&&(i&k)===0&&(k=_&-_,I=i&-i,k>=I||k===16&&(I&4194240)!==0))return i;if((_&4)!==0&&(_|=u&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=_;0<i;)u=31-ln(i),k=1<<u,_|=s[u],i&=~k;return _}function SE(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bE(s,i){for(var u=s.suspendedLanes,_=s.pingedLanes,k=s.expirationTimes,I=s.pendingLanes;0<I;){var z=31-ln(I),q=1<<z,K=k[z];K===-1?((q&u)===0||(q&_)!==0)&&(k[z]=SE(q,i)):K<=i&&(s.expiredLanes|=q),I&=~q}}function Wf(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function by(){var s=Yc;return Yc<<=1,(Yc&4194240)===0&&(Yc=64),s}function qf(s){for(var i=[],u=0;31>u;u++)i.push(s);return i}function ya(s,i,u){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-ln(i),s[i]=u}function _E(s,i){var u=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var _=s.eventTimes;for(s=s.expirationTimes;0<u;){var k=31-ln(u),I=1<<k;i[k]=0,_[k]=-1,s[k]=-1,u&=~I}}function Gf(s,i){var u=s.entangledLanes|=i;for(s=s.entanglements;u;){var _=31-ln(u),k=1<<_;k&i|s[_]&i&&(s[_]|=i),u&=~k}}var ft=0;function _y(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var xy,Kf,Cy,Ry,Ey,Xf=!1,Zc=[],Ls=null,Os=null,As=null,wa=new Map,Sa=new Map,$s=[],xE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ty(s,i){switch(s){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":wa.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(i.pointerId)}}function ba(s,i,u,_,k,I){return s===null||s.nativeEvent!==I?(s={blockedOn:i,domEventName:u,eventSystemFlags:_,nativeEvent:I,targetContainers:[k]},i!==null&&(i=La(i),i!==null&&Kf(i)),s):(s.eventSystemFlags|=_,i=s.targetContainers,k!==null&&i.indexOf(k)===-1&&i.push(k),s)}function CE(s,i,u,_,k){switch(i){case"focusin":return Ls=ba(Ls,s,i,u,_,k),!0;case"dragenter":return Os=ba(Os,s,i,u,_,k),!0;case"mouseover":return As=ba(As,s,i,u,_,k),!0;case"pointerover":var I=k.pointerId;return wa.set(I,ba(wa.get(I)||null,s,i,u,_,k)),!0;case"gotpointercapture":return I=k.pointerId,Sa.set(I,ba(Sa.get(I)||null,s,i,u,_,k)),!0}return!1}function ky(s){var i=mo(s.target);if(i!==null){var u=ho(i);if(u!==null){if(i=u.tag,i===13){if(i=py(u),i!==null){s.blockedOn=i,Ey(s.priority,function(){Cy(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function el(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var u=Qf(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var _=new u.constructor(u.type,u);$f=_,u.target.dispatchEvent(_),$f=null}else return i=La(u),i!==null&&Kf(i),s.blockedOn=u,!1;i.shift()}return!0}function Py(s,i,u){el(s)&&u.delete(i)}function RE(){Xf=!1,Ls!==null&&el(Ls)&&(Ls=null),Os!==null&&el(Os)&&(Os=null),As!==null&&el(As)&&(As=null),wa.forEach(Py),Sa.forEach(Py)}function _a(s,i){s.blockedOn===i&&(s.blockedOn=null,Xf||(Xf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,RE)))}function xa(s){function i(k){return _a(k,s)}if(0<Zc.length){_a(Zc[0],s);for(var u=1;u<Zc.length;u++){var _=Zc[u];_.blockedOn===s&&(_.blockedOn=null)}}for(Ls!==null&&_a(Ls,s),Os!==null&&_a(Os,s),As!==null&&_a(As,s),wa.forEach(i),Sa.forEach(i),u=0;u<$s.length;u++)_=$s[u],_.blockedOn===s&&(_.blockedOn=null);for(;0<$s.length&&(u=$s[0],u.blockedOn===null);)ky(u),u.blockedOn===null&&$s.shift()}var ai=h.ReactCurrentBatchConfig,tl=!0;function EE(s,i,u,_){var k=ft,I=ai.transition;ai.transition=null;try{ft=1,Yf(s,i,u,_)}finally{ft=k,ai.transition=I}}function TE(s,i,u,_){var k=ft,I=ai.transition;ai.transition=null;try{ft=4,Yf(s,i,u,_)}finally{ft=k,ai.transition=I}}function Yf(s,i,u,_){if(tl){var k=Qf(s,i,u,_);if(k===null)hp(s,i,_,rl,u),Ty(s,_);else if(CE(k,s,i,u,_))_.stopPropagation();else if(Ty(s,_),i&4&&-1<xE.indexOf(s)){for(;k!==null;){var I=La(k);if(I!==null&&xy(I),I=Qf(s,i,u,_),I===null&&hp(s,i,_,rl,u),I===k)break;k=I}k!==null&&_.stopPropagation()}else hp(s,i,_,null,u)}}var rl=null;function Qf(s,i,u,_){if(rl=null,s=Ff(_),s=mo(s),s!==null)if(i=ho(s),i===null)s=null;else if(u=i.tag,u===13){if(s=py(i),s!==null)return s;s=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return rl=s,null}function Dy(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hE()){case Hf:return 1;case wy:return 4;case Kc:case mE:return 16;case Sy:return 536870912;default:return 16}default:return 16}}var Fs=null,Jf=null,nl=null;function jy(){if(nl)return nl;var s,i=Jf,u=i.length,_,k="value"in Fs?Fs.value:Fs.textContent,I=k.length;for(s=0;s<u&&i[s]===k[s];s++);var z=u-s;for(_=1;_<=z&&i[u-_]===k[I-_];_++);return nl=k.slice(s,1<_?1-_:void 0)}function sl(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function ol(){return!0}function Iy(){return!1}function Mr(s){function i(u,_,k,I,z){this._reactName=u,this._targetInst=k,this.type=_,this.nativeEvent=I,this.target=z,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(u=s[q],this[q]=u?u(I):I[q]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?ol:Iy,this.isPropagationStopped=Iy,this}return H(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),i}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zf=Mr(ci),Ca=H({},ci,{view:0,detail:0}),kE=Mr(Ca),ep,tp,Ra,il=H({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:np,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ra&&(Ra&&s.type==="mousemove"?(ep=s.screenX-Ra.screenX,tp=s.screenY-Ra.screenY):tp=ep=0,Ra=s),ep)},movementY:function(s){return"movementY"in s?s.movementY:tp}}),My=Mr(il),PE=H({},il,{dataTransfer:0}),DE=Mr(PE),jE=H({},Ca,{relatedTarget:0}),rp=Mr(jE),IE=H({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),ME=Mr(IE),NE=H({},ci,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),LE=Mr(NE),OE=H({},ci,{data:0}),Ny=Mr(OE),AE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$E={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zE(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=FE[s])?!!i[s]:!1}function np(){return zE}var BE=H({},Ca,{key:function(s){if(s.key){var i=AE[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=sl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?$E[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:np,charCode:function(s){return s.type==="keypress"?sl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?sl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),UE=Mr(BE),VE=H({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ly=Mr(VE),HE=H({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:np}),WE=Mr(HE),qE=H({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),GE=Mr(qE),KE=H({},il,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),XE=Mr(KE),YE=[9,13,27,32],sp=l&&"CompositionEvent"in window,Ea=null;l&&"documentMode"in document&&(Ea=document.documentMode);var QE=l&&"TextEvent"in window&&!Ea,Oy=l&&(!sp||Ea&&8<Ea&&11>=Ea),Ay=" ",$y=!1;function Fy(s,i){switch(s){case"keyup":return YE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var li=!1;function JE(s,i){switch(s){case"compositionend":return zy(i);case"keypress":return i.which!==32?null:($y=!0,Ay);case"textInput":return s=i.data,s===Ay&&$y?null:s;default:return null}}function ZE(s,i){if(li)return s==="compositionend"||!sp&&Fy(s,i)?(s=jy(),nl=Jf=Fs=null,li=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Oy&&i.locale!=="ko"?null:i.data;default:return null}}var eT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!eT[s.type]:i==="textarea"}function Uy(s,i,u,_){cy(_),i=dl(i,"onChange"),0<i.length&&(u=new Zf("onChange","change",null,u,_),s.push({event:u,listeners:i}))}var Ta=null,ka=null;function tT(s){iw(s,0)}function al(s){var i=hi(s);if(He(i))return s}function rT(s,i){if(s==="change")return i}var Vy=!1;if(l){var op;if(l){var ip="oninput"in document;if(!ip){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),ip=typeof Hy.oninput=="function"}op=ip}else op=!1;Vy=op&&(!document.documentMode||9<document.documentMode)}function Wy(){Ta&&(Ta.detachEvent("onpropertychange",qy),ka=Ta=null)}function qy(s){if(s.propertyName==="value"&&al(ka)){var i=[];Uy(i,ka,s,Ff(s)),fy(tT,i)}}function nT(s,i,u){s==="focusin"?(Wy(),Ta=i,ka=u,Ta.attachEvent("onpropertychange",qy)):s==="focusout"&&Wy()}function sT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return al(ka)}function oT(s,i){if(s==="click")return al(i)}function iT(s,i){if(s==="input"||s==="change")return al(i)}function aT(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var un=typeof Object.is=="function"?Object.is:aT;function Pa(s,i){if(un(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var u=Object.keys(s),_=Object.keys(i);if(u.length!==_.length)return!1;for(_=0;_<u.length;_++){var k=u[_];if(!d.call(i,k)||!un(s[k],i[k]))return!1}return!0}function Gy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ky(s,i){var u=Gy(s);s=0;for(var _;u;){if(u.nodeType===3){if(_=s+u.textContent.length,s<=i&&_>=i)return{node:u,offset:i-s};s=_}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Gy(u)}}function Xy(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Xy(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Yy(){for(var s=window,i=qe();i instanceof s.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)s=i.contentWindow;else break;i=qe(s.document)}return i}function ap(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function cT(s){var i=Yy(),u=s.focusedElem,_=s.selectionRange;if(i!==u&&u&&u.ownerDocument&&Xy(u.ownerDocument.documentElement,u)){if(_!==null&&ap(u)){if(i=_.start,s=_.end,s===void 0&&(s=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(s,u.value.length);else if(s=(i=u.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var k=u.textContent.length,I=Math.min(_.start,k);_=_.end===void 0?I:Math.min(_.end,k),!s.extend&&I>_&&(k=_,_=I,I=k),k=Ky(u,I);var z=Ky(u,_);k&&z&&(s.rangeCount!==1||s.anchorNode!==k.node||s.anchorOffset!==k.offset||s.focusNode!==z.node||s.focusOffset!==z.offset)&&(i=i.createRange(),i.setStart(k.node,k.offset),s.removeAllRanges(),I>_?(s.addRange(i),s.extend(z.node,z.offset)):(i.setEnd(z.node,z.offset),s.addRange(i)))}}for(i=[],s=u;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)s=i[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var lT=l&&"documentMode"in document&&11>=document.documentMode,ui=null,cp=null,Da=null,lp=!1;function Qy(s,i,u){var _=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;lp||ui==null||ui!==qe(_)||(_=ui,"selectionStart"in _&&ap(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Da&&Pa(Da,_)||(Da=_,_=dl(cp,"onSelect"),0<_.length&&(i=new Zf("onSelect","select",null,i,u),s.push({event:i,listeners:_}),i.target=ui)))}function cl(s,i){var u={};return u[s.toLowerCase()]=i.toLowerCase(),u["Webkit"+s]="webkit"+i,u["Moz"+s]="moz"+i,u}var di={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionend:cl("Transition","TransitionEnd")},up={},Jy={};l&&(Jy=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function ll(s){if(up[s])return up[s];if(!di[s])return s;var i=di[s],u;for(u in i)if(i.hasOwnProperty(u)&&u in Jy)return up[s]=i[u];return s}var Zy=ll("animationend"),ew=ll("animationiteration"),tw=ll("animationstart"),rw=ll("transitionend"),nw=new Map,sw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(s,i){nw.set(s,i),a(i,[s])}for(var dp=0;dp<sw.length;dp++){var fp=sw[dp],uT=fp.toLowerCase(),dT=fp[0].toUpperCase()+fp.slice(1);zs(uT,"on"+dT)}zs(Zy,"onAnimationEnd"),zs(ew,"onAnimationIteration"),zs(tw,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(rw,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function ow(s,i,u){var _=s.type||"unknown-event";s.currentTarget=u,uE(_,i,void 0,s),s.currentTarget=null}function iw(s,i){i=(i&4)!==0;for(var u=0;u<s.length;u++){var _=s[u],k=_.event;_=_.listeners;e:{var I=void 0;if(i)for(var z=_.length-1;0<=z;z--){var q=_[z],K=q.instance,ee=q.currentTarget;if(q=q.listener,K!==I&&k.isPropagationStopped())break e;ow(k,q,ee),I=K}else for(z=0;z<_.length;z++){if(q=_[z],K=q.instance,ee=q.currentTarget,q=q.listener,K!==I&&k.isPropagationStopped())break e;ow(k,q,ee),I=K}}}if(Gc)throw s=Vf,Gc=!1,Vf=null,s}function gt(s,i){var u=i[Sp];u===void 0&&(u=i[Sp]=new Set);var _=s+"__bubble";u.has(_)||(aw(i,s,2,!1),u.add(_))}function pp(s,i,u){var _=0;i&&(_|=4),aw(u,s,_,i)}var ul="_reactListening"+Math.random().toString(36).slice(2);function Ia(s){if(!s[ul]){s[ul]=!0,n.forEach(function(u){u!=="selectionchange"&&(fT.has(u)||pp(u,!1,s),pp(u,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[ul]||(i[ul]=!0,pp("selectionchange",!1,i))}}function aw(s,i,u,_){switch(Dy(i)){case 1:var k=EE;break;case 4:k=TE;break;default:k=Yf}u=k.bind(null,i,u,s),k=void 0,!Uf||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(k=!0),_?k!==void 0?s.addEventListener(i,u,{capture:!0,passive:k}):s.addEventListener(i,u,!0):k!==void 0?s.addEventListener(i,u,{passive:k}):s.addEventListener(i,u,!1)}function hp(s,i,u,_,k){var I=_;if((i&1)===0&&(i&2)===0&&_!==null)e:for(;;){if(_===null)return;var z=_.tag;if(z===3||z===4){var q=_.stateNode.containerInfo;if(q===k||q.nodeType===8&&q.parentNode===k)break;if(z===4)for(z=_.return;z!==null;){var K=z.tag;if((K===3||K===4)&&(K=z.stateNode.containerInfo,K===k||K.nodeType===8&&K.parentNode===k))return;z=z.return}for(;q!==null;){if(z=mo(q),z===null)return;if(K=z.tag,K===5||K===6){_=I=z;continue e}q=q.parentNode}}_=_.return}fy(function(){var ee=I,ce=Ff(u),de=[];e:{var ae=nw.get(s);if(ae!==void 0){var be=Zf,Te=s;switch(s){case"keypress":if(sl(u)===0)break e;case"keydown":case"keyup":be=UE;break;case"focusin":Te="focus",be=rp;break;case"focusout":Te="blur",be=rp;break;case"beforeblur":case"afterblur":be=rp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=My;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=DE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=WE;break;case Zy:case ew:case tw:be=ME;break;case rw:be=GE;break;case"scroll":be=kE;break;case"wheel":be=XE;break;case"copy":case"cut":case"paste":be=LE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Ly}var ke=(i&4)!==0,Dt=!ke&&s==="scroll",J=ke?ae!==null?ae+"Capture":null:ae;ke=[];for(var Y=ee,Z;Y!==null;){Z=Y;var pe=Z.stateNode;if(Z.tag===5&&pe!==null&&(Z=pe,J!==null&&(pe=ha(Y,J),pe!=null&&ke.push(Ma(Y,pe,Z)))),Dt)break;Y=Y.return}0<ke.length&&(ae=new be(ae,Te,null,u,ce),de.push({event:ae,listeners:ke}))}}if((i&7)===0){e:{if(ae=s==="mouseover"||s==="pointerover",be=s==="mouseout"||s==="pointerout",ae&&u!==$f&&(Te=u.relatedTarget||u.fromElement)&&(mo(Te)||Te[cs]))break e;if((be||ae)&&(ae=ce.window===ce?ce:(ae=ce.ownerDocument)?ae.defaultView||ae.parentWindow:window,be?(Te=u.relatedTarget||u.toElement,be=ee,Te=Te?mo(Te):null,Te!==null&&(Dt=ho(Te),Te!==Dt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(be=null,Te=ee),be!==Te)){if(ke=My,pe="onMouseLeave",J="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(ke=Ly,pe="onPointerLeave",J="onPointerEnter",Y="pointer"),Dt=be==null?ae:hi(be),Z=Te==null?ae:hi(Te),ae=new ke(pe,Y+"leave",be,u,ce),ae.target=Dt,ae.relatedTarget=Z,pe=null,mo(ce)===ee&&(ke=new ke(J,Y+"enter",Te,u,ce),ke.target=Z,ke.relatedTarget=Dt,pe=ke),Dt=pe,be&&Te)t:{for(ke=be,J=Te,Y=0,Z=ke;Z;Z=fi(Z))Y++;for(Z=0,pe=J;pe;pe=fi(pe))Z++;for(;0<Y-Z;)ke=fi(ke),Y--;for(;0<Z-Y;)J=fi(J),Z--;for(;Y--;){if(ke===J||J!==null&&ke===J.alternate)break t;ke=fi(ke),J=fi(J)}ke=null}else ke=null;be!==null&&cw(de,ae,be,ke,!1),Te!==null&&Dt!==null&&cw(de,Dt,Te,ke,!0)}}e:{if(ae=ee?hi(ee):window,be=ae.nodeName&&ae.nodeName.toLowerCase(),be==="select"||be==="input"&&ae.type==="file")var je=rT;else if(By(ae))if(Vy)je=iT;else{je=sT;var Be=nT}else(be=ae.nodeName)&&be.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(je=oT);if(je&&(je=je(s,ee))){Uy(de,je,u,ce);break e}Be&&Be(s,ae,ee),s==="focusout"&&(Be=ae._wrapperState)&&Be.controlled&&ae.type==="number"&&Ee(ae,"number",ae.value)}switch(Be=ee?hi(ee):window,s){case"focusin":(By(Be)||Be.contentEditable==="true")&&(ui=Be,cp=ee,Da=null);break;case"focusout":Da=cp=ui=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,Qy(de,u,ce);break;case"selectionchange":if(lT)break;case"keydown":case"keyup":Qy(de,u,ce)}var Ue;if(sp)e:{switch(s){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else li?Fy(s,u)&&(Ke="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ke="onCompositionStart");Ke&&(Oy&&u.locale!=="ko"&&(li||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&li&&(Ue=jy()):(Fs=ce,Jf="value"in Fs?Fs.value:Fs.textContent,li=!0)),Be=dl(ee,Ke),0<Be.length&&(Ke=new Ny(Ke,s,null,u,ce),de.push({event:Ke,listeners:Be}),Ue?Ke.data=Ue:(Ue=zy(u),Ue!==null&&(Ke.data=Ue)))),(Ue=QE?JE(s,u):ZE(s,u))&&(ee=dl(ee,"onBeforeInput"),0<ee.length&&(ce=new Ny("onBeforeInput","beforeinput",null,u,ce),de.push({event:ce,listeners:ee}),ce.data=Ue))}iw(de,i)})}function Ma(s,i,u){return{instance:s,listener:i,currentTarget:u}}function dl(s,i){for(var u=i+"Capture",_=[];s!==null;){var k=s,I=k.stateNode;k.tag===5&&I!==null&&(k=I,I=ha(s,u),I!=null&&_.unshift(Ma(s,I,k)),I=ha(s,i),I!=null&&_.push(Ma(s,I,k))),s=s.return}return _}function fi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function cw(s,i,u,_,k){for(var I=i._reactName,z=[];u!==null&&u!==_;){var q=u,K=q.alternate,ee=q.stateNode;if(K!==null&&K===_)break;q.tag===5&&ee!==null&&(q=ee,k?(K=ha(u,I),K!=null&&z.unshift(Ma(u,K,q))):k||(K=ha(u,I),K!=null&&z.push(Ma(u,K,q)))),u=u.return}z.length!==0&&s.push({event:i,listeners:z})}var pT=/\r\n?/g,hT=/\u0000|\uFFFD/g;function lw(s){return(typeof s=="string"?s:""+s).replace(pT,`
`).replace(hT,"")}function fl(s,i,u){if(i=lw(i),lw(s)!==i&&u)throw Error(r(425))}function pl(){}var mp=null,gp=null;function vp(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,mT=typeof clearTimeout=="function"?clearTimeout:void 0,uw=typeof Promise=="function"?Promise:void 0,gT=typeof queueMicrotask=="function"?queueMicrotask:typeof uw<"u"?function(s){return uw.resolve(null).then(s).catch(vT)}:yp;function vT(s){setTimeout(function(){throw s})}function wp(s,i){var u=i,_=0;do{var k=u.nextSibling;if(s.removeChild(u),k&&k.nodeType===8)if(u=k.data,u==="/$"){if(_===0){s.removeChild(k),xa(i);return}_--}else u!=="$"&&u!=="$?"&&u!=="$!"||_++;u=k}while(u);xa(i)}function Bs(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function dw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return s;i--}else u==="/$"&&i++}s=s.previousSibling}return null}var pi=Math.random().toString(36).slice(2),Wn="__reactFiber$"+pi,Na="__reactProps$"+pi,cs="__reactContainer$"+pi,Sp="__reactEvents$"+pi,yT="__reactListeners$"+pi,wT="__reactHandles$"+pi;function mo(s){var i=s[Wn];if(i)return i;for(var u=s.parentNode;u;){if(i=u[cs]||u[Wn]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(s=dw(s);s!==null;){if(u=s[Wn])return u;s=dw(s)}return i}s=u,u=s.parentNode}return null}function La(s){return s=s[Wn]||s[cs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function hi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function hl(s){return s[Na]||null}var bp=[],mi=-1;function Us(s){return{current:s}}function vt(s){0>mi||(s.current=bp[mi],bp[mi]=null,mi--)}function mt(s,i){mi++,bp[mi]=s.current,s.current=i}var Vs={},rr=Us(Vs),yr=Us(!1),go=Vs;function gi(s,i){var u=s.type.contextTypes;if(!u)return Vs;var _=s.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===i)return _.__reactInternalMemoizedMaskedChildContext;var k={},I;for(I in u)k[I]=i[I];return _&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=k),k}function wr(s){return s=s.childContextTypes,s!=null}function ml(){vt(yr),vt(rr)}function fw(s,i,u){if(rr.current!==Vs)throw Error(r(168));mt(rr,i),mt(yr,u)}function pw(s,i,u){var _=s.stateNode;if(i=i.childContextTypes,typeof _.getChildContext!="function")return u;_=_.getChildContext();for(var k in _)if(!(k in i))throw Error(r(108,le(s)||"Unknown",k));return H({},u,_)}function gl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vs,go=rr.current,mt(rr,s),mt(yr,yr.current),!0}function hw(s,i,u){var _=s.stateNode;if(!_)throw Error(r(169));u?(s=pw(s,i,go),_.__reactInternalMemoizedMergedChildContext=s,vt(yr),vt(rr),mt(rr,s)):vt(yr),mt(yr,u)}var ls=null,vl=!1,_p=!1;function mw(s){ls===null?ls=[s]:ls.push(s)}function ST(s){vl=!0,mw(s)}function Hs(){if(!_p&&ls!==null){_p=!0;var s=0,i=ft;try{var u=ls;for(ft=1;s<u.length;s++){var _=u[s];do _=_(!0);while(_!==null)}ls=null,vl=!1}catch(k){throw ls!==null&&(ls=ls.slice(s+1)),vy(Hf,Hs),k}finally{ft=i,_p=!1}}return null}var vi=[],yi=0,yl=null,wl=0,qr=[],Gr=0,vo=null,us=1,ds="";function yo(s,i){vi[yi++]=wl,vi[yi++]=yl,yl=s,wl=i}function gw(s,i,u){qr[Gr++]=us,qr[Gr++]=ds,qr[Gr++]=vo,vo=s;var _=us;s=ds;var k=32-ln(_)-1;_&=~(1<<k),u+=1;var I=32-ln(i)+k;if(30<I){var z=k-k%5;I=(_&(1<<z)-1).toString(32),_>>=z,k-=z,us=1<<32-ln(i)+k|u<<k|_,ds=I+s}else us=1<<I|u<<k|_,ds=s}function xp(s){s.return!==null&&(yo(s,1),gw(s,1,0))}function Cp(s){for(;s===yl;)yl=vi[--yi],vi[yi]=null,wl=vi[--yi],vi[yi]=null;for(;s===vo;)vo=qr[--Gr],qr[Gr]=null,ds=qr[--Gr],qr[Gr]=null,us=qr[--Gr],qr[Gr]=null}var Nr=null,Lr=null,wt=!1,dn=null;function vw(s,i){var u=Qr(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=s,i=s.deletions,i===null?(s.deletions=[u],s.flags|=16):i.push(u)}function yw(s,i){switch(s.tag){case 5:var u=s.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Nr=s,Lr=Bs(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Nr=s,Lr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=vo!==null?{id:us,overflow:ds}:null,s.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Qr(18,null,null,0),u.stateNode=i,u.return=s,s.child=u,Nr=s,Lr=null,!0):!1;default:return!1}}function Rp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ep(s){if(wt){var i=Lr;if(i){var u=i;if(!yw(s,i)){if(Rp(s))throw Error(r(418));i=Bs(u.nextSibling);var _=Nr;i&&yw(s,i)?vw(_,u):(s.flags=s.flags&-4097|2,wt=!1,Nr=s)}}else{if(Rp(s))throw Error(r(418));s.flags=s.flags&-4097|2,wt=!1,Nr=s}}}function ww(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Nr=s}function Sl(s){if(s!==Nr)return!1;if(!wt)return ww(s),wt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!vp(s.type,s.memoizedProps)),i&&(i=Lr)){if(Rp(s))throw Sw(),Error(r(418));for(;i;)vw(s,i),i=Bs(i.nextSibling)}if(ww(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(i===0){Lr=Bs(s.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}s=s.nextSibling}Lr=null}}else Lr=Nr?Bs(s.stateNode.nextSibling):null;return!0}function Sw(){for(var s=Lr;s;)s=Bs(s.nextSibling)}function wi(){Lr=Nr=null,wt=!1}function Tp(s){dn===null?dn=[s]:dn.push(s)}var bT=h.ReactCurrentBatchConfig;function Oa(s,i,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var _=u.stateNode}if(!_)throw Error(r(147,s));var k=_,I=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===I?i.ref:(i=function(z){var q=k.refs;z===null?delete q[I]:q[I]=z},i._stringRef=I,i)}if(typeof s!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,s))}return s}function bl(s,i){throw s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function bw(s){var i=s._init;return i(s._payload)}function _w(s){function i(J,Y){if(s){var Z=J.deletions;Z===null?(J.deletions=[Y],J.flags|=16):Z.push(Y)}}function u(J,Y){if(!s)return null;for(;Y!==null;)i(J,Y),Y=Y.sibling;return null}function _(J,Y){for(J=new Map;Y!==null;)Y.key!==null?J.set(Y.key,Y):J.set(Y.index,Y),Y=Y.sibling;return J}function k(J,Y){return J=Js(J,Y),J.index=0,J.sibling=null,J}function I(J,Y,Z){return J.index=Z,s?(Z=J.alternate,Z!==null?(Z=Z.index,Z<Y?(J.flags|=2,Y):Z):(J.flags|=2,Y)):(J.flags|=1048576,Y)}function z(J){return s&&J.alternate===null&&(J.flags|=2),J}function q(J,Y,Z,pe){return Y===null||Y.tag!==6?(Y=yh(Z,J.mode,pe),Y.return=J,Y):(Y=k(Y,Z),Y.return=J,Y)}function K(J,Y,Z,pe){var je=Z.type;return je===D?ce(J,Y,Z.props.children,pe,Z.key):Y!==null&&(Y.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===M&&bw(je)===Y.type)?(pe=k(Y,Z.props),pe.ref=Oa(J,Y,Z),pe.return=J,pe):(pe=Wl(Z.type,Z.key,Z.props,null,J.mode,pe),pe.ref=Oa(J,Y,Z),pe.return=J,pe)}function ee(J,Y,Z,pe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Z.containerInfo||Y.stateNode.implementation!==Z.implementation?(Y=wh(Z,J.mode,pe),Y.return=J,Y):(Y=k(Y,Z.children||[]),Y.return=J,Y)}function ce(J,Y,Z,pe,je){return Y===null||Y.tag!==7?(Y=Eo(Z,J.mode,pe,je),Y.return=J,Y):(Y=k(Y,Z),Y.return=J,Y)}function de(J,Y,Z){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=yh(""+Y,J.mode,Z),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Z=Wl(Y.type,Y.key,Y.props,null,J.mode,Z),Z.ref=Oa(J,null,Y),Z.return=J,Z;case C:return Y=wh(Y,J.mode,Z),Y.return=J,Y;case M:var pe=Y._init;return de(J,pe(Y._payload),Z)}if(Me(Y)||F(Y))return Y=Eo(Y,J.mode,Z,null),Y.return=J,Y;bl(J,Y)}return null}function ae(J,Y,Z,pe){var je=Y!==null?Y.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return je!==null?null:q(J,Y,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return Z.key===je?K(J,Y,Z,pe):null;case C:return Z.key===je?ee(J,Y,Z,pe):null;case M:return je=Z._init,ae(J,Y,je(Z._payload),pe)}if(Me(Z)||F(Z))return je!==null?null:ce(J,Y,Z,pe,null);bl(J,Z)}return null}function be(J,Y,Z,pe,je){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return J=J.get(Z)||null,q(Y,J,""+pe,je);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case S:return J=J.get(pe.key===null?Z:pe.key)||null,K(Y,J,pe,je);case C:return J=J.get(pe.key===null?Z:pe.key)||null,ee(Y,J,pe,je);case M:var Be=pe._init;return be(J,Y,Z,Be(pe._payload),je)}if(Me(pe)||F(pe))return J=J.get(Z)||null,ce(Y,J,pe,je,null);bl(Y,pe)}return null}function Te(J,Y,Z,pe){for(var je=null,Be=null,Ue=Y,Ke=Y=0,Wt=null;Ue!==null&&Ke<Z.length;Ke++){Ue.index>Ke?(Wt=Ue,Ue=null):Wt=Ue.sibling;var ct=ae(J,Ue,Z[Ke],pe);if(ct===null){Ue===null&&(Ue=Wt);break}s&&Ue&&ct.alternate===null&&i(J,Ue),Y=I(ct,Y,Ke),Be===null?je=ct:Be.sibling=ct,Be=ct,Ue=Wt}if(Ke===Z.length)return u(J,Ue),wt&&yo(J,Ke),je;if(Ue===null){for(;Ke<Z.length;Ke++)Ue=de(J,Z[Ke],pe),Ue!==null&&(Y=I(Ue,Y,Ke),Be===null?je=Ue:Be.sibling=Ue,Be=Ue);return wt&&yo(J,Ke),je}for(Ue=_(J,Ue);Ke<Z.length;Ke++)Wt=be(Ue,J,Ke,Z[Ke],pe),Wt!==null&&(s&&Wt.alternate!==null&&Ue.delete(Wt.key===null?Ke:Wt.key),Y=I(Wt,Y,Ke),Be===null?je=Wt:Be.sibling=Wt,Be=Wt);return s&&Ue.forEach(function(Zs){return i(J,Zs)}),wt&&yo(J,Ke),je}function ke(J,Y,Z,pe){var je=F(Z);if(typeof je!="function")throw Error(r(150));if(Z=je.call(Z),Z==null)throw Error(r(151));for(var Be=je=null,Ue=Y,Ke=Y=0,Wt=null,ct=Z.next();Ue!==null&&!ct.done;Ke++,ct=Z.next()){Ue.index>Ke?(Wt=Ue,Ue=null):Wt=Ue.sibling;var Zs=ae(J,Ue,ct.value,pe);if(Zs===null){Ue===null&&(Ue=Wt);break}s&&Ue&&Zs.alternate===null&&i(J,Ue),Y=I(Zs,Y,Ke),Be===null?je=Zs:Be.sibling=Zs,Be=Zs,Ue=Wt}if(ct.done)return u(J,Ue),wt&&yo(J,Ke),je;if(Ue===null){for(;!ct.done;Ke++,ct=Z.next())ct=de(J,ct.value,pe),ct!==null&&(Y=I(ct,Y,Ke),Be===null?je=ct:Be.sibling=ct,Be=ct);return wt&&yo(J,Ke),je}for(Ue=_(J,Ue);!ct.done;Ke++,ct=Z.next())ct=be(Ue,J,Ke,ct.value,pe),ct!==null&&(s&&ct.alternate!==null&&Ue.delete(ct.key===null?Ke:ct.key),Y=I(ct,Y,Ke),Be===null?je=ct:Be.sibling=ct,Be=ct);return s&&Ue.forEach(function(ek){return i(J,ek)}),wt&&yo(J,Ke),je}function Dt(J,Y,Z,pe){if(typeof Z=="object"&&Z!==null&&Z.type===D&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:e:{for(var je=Z.key,Be=Y;Be!==null;){if(Be.key===je){if(je=Z.type,je===D){if(Be.tag===7){u(J,Be.sibling),Y=k(Be,Z.props.children),Y.return=J,J=Y;break e}}else if(Be.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===M&&bw(je)===Be.type){u(J,Be.sibling),Y=k(Be,Z.props),Y.ref=Oa(J,Be,Z),Y.return=J,J=Y;break e}u(J,Be);break}else i(J,Be);Be=Be.sibling}Z.type===D?(Y=Eo(Z.props.children,J.mode,pe,Z.key),Y.return=J,J=Y):(pe=Wl(Z.type,Z.key,Z.props,null,J.mode,pe),pe.ref=Oa(J,Y,Z),pe.return=J,J=pe)}return z(J);case C:e:{for(Be=Z.key;Y!==null;){if(Y.key===Be)if(Y.tag===4&&Y.stateNode.containerInfo===Z.containerInfo&&Y.stateNode.implementation===Z.implementation){u(J,Y.sibling),Y=k(Y,Z.children||[]),Y.return=J,J=Y;break e}else{u(J,Y);break}else i(J,Y);Y=Y.sibling}Y=wh(Z,J.mode,pe),Y.return=J,J=Y}return z(J);case M:return Be=Z._init,Dt(J,Y,Be(Z._payload),pe)}if(Me(Z))return Te(J,Y,Z,pe);if(F(Z))return ke(J,Y,Z,pe);bl(J,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,Y!==null&&Y.tag===6?(u(J,Y.sibling),Y=k(Y,Z),Y.return=J,J=Y):(u(J,Y),Y=yh(Z,J.mode,pe),Y.return=J,J=Y),z(J)):u(J,Y)}return Dt}var Si=_w(!0),xw=_w(!1),_l=Us(null),xl=null,bi=null,kp=null;function Pp(){kp=bi=xl=null}function Dp(s){var i=_l.current;vt(_l),s._currentValue=i}function jp(s,i,u){for(;s!==null;){var _=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,_!==null&&(_.childLanes|=i)):_!==null&&(_.childLanes&i)!==i&&(_.childLanes|=i),s===u)break;s=s.return}}function _i(s,i){xl=s,kp=bi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Sr=!0),s.firstContext=null)}function Kr(s){var i=s._currentValue;if(kp!==s)if(s={context:s,memoizedValue:i,next:null},bi===null){if(xl===null)throw Error(r(308));bi=s,xl.dependencies={lanes:0,firstContext:s}}else bi=bi.next=s;return i}var wo=null;function Ip(s){wo===null?wo=[s]:wo.push(s)}function Cw(s,i,u,_){var k=i.interleaved;return k===null?(u.next=u,Ip(i)):(u.next=k.next,k.next=u),i.interleaved=u,fs(s,_)}function fs(s,i){s.lanes|=i;var u=s.alternate;for(u!==null&&(u.lanes|=i),u=s,s=s.return;s!==null;)s.childLanes|=i,u=s.alternate,u!==null&&(u.childLanes|=i),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ws=!1;function Mp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rw(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ps(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function qs(s,i,u){var _=s.updateQueue;if(_===null)return null;if(_=_.shared,(it&2)!==0){var k=_.pending;return k===null?i.next=i:(i.next=k.next,k.next=i),_.pending=i,fs(s,u)}return k=_.interleaved,k===null?(i.next=i,Ip(_)):(i.next=k.next,k.next=i),_.interleaved=i,fs(s,u)}function Cl(s,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var _=i.lanes;_&=s.pendingLanes,u|=_,i.lanes=u,Gf(s,u)}}function Ew(s,i){var u=s.updateQueue,_=s.alternate;if(_!==null&&(_=_.updateQueue,u===_)){var k=null,I=null;if(u=u.firstBaseUpdate,u!==null){do{var z={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};I===null?k=I=z:I=I.next=z,u=u.next}while(u!==null);I===null?k=I=i:I=I.next=i}else k=I=i;u={baseState:_.baseState,firstBaseUpdate:k,lastBaseUpdate:I,shared:_.shared,effects:_.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=i:s.next=i,u.lastBaseUpdate=i}function Rl(s,i,u,_){var k=s.updateQueue;Ws=!1;var I=k.firstBaseUpdate,z=k.lastBaseUpdate,q=k.shared.pending;if(q!==null){k.shared.pending=null;var K=q,ee=K.next;K.next=null,z===null?I=ee:z.next=ee,z=K;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,q=ce.lastBaseUpdate,q!==z&&(q===null?ce.firstBaseUpdate=ee:q.next=ee,ce.lastBaseUpdate=K))}if(I!==null){var de=k.baseState;z=0,ce=ee=K=null,q=I;do{var ae=q.lane,be=q.eventTime;if((_&ae)===ae){ce!==null&&(ce=ce.next={eventTime:be,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Te=s,ke=q;switch(ae=i,be=u,ke.tag){case 1:if(Te=ke.payload,typeof Te=="function"){de=Te.call(be,de,ae);break e}de=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ke.payload,ae=typeof Te=="function"?Te.call(be,de,ae):Te,ae==null)break e;de=H({},de,ae);break e;case 2:Ws=!0}}q.callback!==null&&q.lane!==0&&(s.flags|=64,ae=k.effects,ae===null?k.effects=[q]:ae.push(q))}else be={eventTime:be,lane:ae,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ce===null?(ee=ce=be,K=de):ce=ce.next=be,z|=ae;if(q=q.next,q===null){if(q=k.shared.pending,q===null)break;ae=q,q=ae.next,ae.next=null,k.lastBaseUpdate=ae,k.shared.pending=null}}while(!0);if(ce===null&&(K=de),k.baseState=K,k.firstBaseUpdate=ee,k.lastBaseUpdate=ce,i=k.shared.interleaved,i!==null){k=i;do z|=k.lane,k=k.next;while(k!==i)}else I===null&&(k.shared.lanes=0);_o|=z,s.lanes=z,s.memoizedState=de}}function Tw(s,i,u){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var _=s[i],k=_.callback;if(k!==null){if(_.callback=null,_=u,typeof k!="function")throw Error(r(191,k));k.call(_)}}}var Aa={},qn=Us(Aa),$a=Us(Aa),Fa=Us(Aa);function So(s){if(s===Aa)throw Error(r(174));return s}function Np(s,i){switch(mt(Fa,i),mt($a,s),mt(qn,Aa),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ne(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Ne(i,s)}vt(qn),mt(qn,i)}function xi(){vt(qn),vt($a),vt(Fa)}function kw(s){So(Fa.current);var i=So(qn.current),u=Ne(i,s.type);i!==u&&(mt($a,s),mt(qn,u))}function Lp(s){$a.current===s&&(vt(qn),vt($a))}var _t=Us(0);function El(s){for(var i=s;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Op=[];function Ap(){for(var s=0;s<Op.length;s++)Op[s]._workInProgressVersionPrimary=null;Op.length=0}var Tl=h.ReactCurrentDispatcher,$p=h.ReactCurrentBatchConfig,bo=0,xt=null,$t=null,Vt=null,kl=!1,za=!1,Ba=0,_T=0;function nr(){throw Error(r(321))}function Fp(s,i){if(i===null)return!1;for(var u=0;u<i.length&&u<s.length;u++)if(!un(s[u],i[u]))return!1;return!0}function zp(s,i,u,_,k,I){if(bo=I,xt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Tl.current=s===null||s.memoizedState===null?ET:TT,s=u(_,k),za){I=0;do{if(za=!1,Ba=0,25<=I)throw Error(r(301));I+=1,Vt=$t=null,i.updateQueue=null,Tl.current=kT,s=u(_,k)}while(za)}if(Tl.current=jl,i=$t!==null&&$t.next!==null,bo=0,Vt=$t=xt=null,kl=!1,i)throw Error(r(300));return s}function Bp(){var s=Ba!==0;return Ba=0,s}function Gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?xt.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function Xr(){if($t===null){var s=xt.alternate;s=s!==null?s.memoizedState:null}else s=$t.next;var i=Vt===null?xt.memoizedState:Vt.next;if(i!==null)Vt=i,$t=s;else{if(s===null)throw Error(r(310));$t=s,s={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Vt===null?xt.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function Ua(s,i){return typeof i=="function"?i(s):i}function Up(s){var i=Xr(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var _=$t,k=_.baseQueue,I=u.pending;if(I!==null){if(k!==null){var z=k.next;k.next=I.next,I.next=z}_.baseQueue=k=I,u.pending=null}if(k!==null){I=k.next,_=_.baseState;var q=z=null,K=null,ee=I;do{var ce=ee.lane;if((bo&ce)===ce)K!==null&&(K=K.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),_=ee.hasEagerState?ee.eagerState:s(_,ee.action);else{var de={lane:ce,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};K===null?(q=K=de,z=_):K=K.next=de,xt.lanes|=ce,_o|=ce}ee=ee.next}while(ee!==null&&ee!==I);K===null?z=_:K.next=q,un(_,i.memoizedState)||(Sr=!0),i.memoizedState=_,i.baseState=z,i.baseQueue=K,u.lastRenderedState=_}if(s=u.interleaved,s!==null){k=s;do I=k.lane,xt.lanes|=I,_o|=I,k=k.next;while(k!==s)}else k===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function Vp(s){var i=Xr(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var _=u.dispatch,k=u.pending,I=i.memoizedState;if(k!==null){u.pending=null;var z=k=k.next;do I=s(I,z.action),z=z.next;while(z!==k);un(I,i.memoizedState)||(Sr=!0),i.memoizedState=I,i.baseQueue===null&&(i.baseState=I),u.lastRenderedState=I}return[I,_]}function Pw(){}function Dw(s,i){var u=xt,_=Xr(),k=i(),I=!un(_.memoizedState,k);if(I&&(_.memoizedState=k,Sr=!0),_=_.queue,Hp(Mw.bind(null,u,_,s),[s]),_.getSnapshot!==i||I||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,Va(9,Iw.bind(null,u,_,k,i),void 0,null),Ht===null)throw Error(r(349));(bo&30)!==0||jw(u,i,k)}return k}function jw(s,i,u){s.flags|=16384,s={getSnapshot:i,value:u},i=xt.updateQueue,i===null?(i={lastEffect:null,stores:null},xt.updateQueue=i,i.stores=[s]):(u=i.stores,u===null?i.stores=[s]:u.push(s))}function Iw(s,i,u,_){i.value=u,i.getSnapshot=_,Nw(i)&&Lw(s)}function Mw(s,i,u){return u(function(){Nw(i)&&Lw(s)})}function Nw(s){var i=s.getSnapshot;s=s.value;try{var u=i();return!un(s,u)}catch{return!0}}function Lw(s){var i=fs(s,1);i!==null&&mn(i,s,1,-1)}function Ow(s){var i=Gn();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:s},i.queue=s,s=s.dispatch=RT.bind(null,xt,s),[i.memoizedState,s]}function Va(s,i,u,_){return s={tag:s,create:i,destroy:u,deps:_,next:null},i=xt.updateQueue,i===null?(i={lastEffect:null,stores:null},xt.updateQueue=i,i.lastEffect=s.next=s):(u=i.lastEffect,u===null?i.lastEffect=s.next=s:(_=u.next,u.next=s,s.next=_,i.lastEffect=s)),s}function Aw(){return Xr().memoizedState}function Pl(s,i,u,_){var k=Gn();xt.flags|=s,k.memoizedState=Va(1|i,u,void 0,_===void 0?null:_)}function Dl(s,i,u,_){var k=Xr();_=_===void 0?null:_;var I=void 0;if($t!==null){var z=$t.memoizedState;if(I=z.destroy,_!==null&&Fp(_,z.deps)){k.memoizedState=Va(i,u,I,_);return}}xt.flags|=s,k.memoizedState=Va(1|i,u,I,_)}function $w(s,i){return Pl(8390656,8,s,i)}function Hp(s,i){return Dl(2048,8,s,i)}function Fw(s,i){return Dl(4,2,s,i)}function zw(s,i){return Dl(4,4,s,i)}function Bw(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Uw(s,i,u){return u=u!=null?u.concat([s]):null,Dl(4,4,Bw.bind(null,i,s),u)}function Wp(){}function Vw(s,i){var u=Xr();i=i===void 0?null:i;var _=u.memoizedState;return _!==null&&i!==null&&Fp(i,_[1])?_[0]:(u.memoizedState=[s,i],s)}function Hw(s,i){var u=Xr();i=i===void 0?null:i;var _=u.memoizedState;return _!==null&&i!==null&&Fp(i,_[1])?_[0]:(s=s(),u.memoizedState=[s,i],s)}function Ww(s,i,u){return(bo&21)===0?(s.baseState&&(s.baseState=!1,Sr=!0),s.memoizedState=u):(un(u,i)||(u=by(),xt.lanes|=u,_o|=u,s.baseState=!0),i)}function xT(s,i){var u=ft;ft=u!==0&&4>u?u:4,s(!0);var _=$p.transition;$p.transition={};try{s(!1),i()}finally{ft=u,$p.transition=_}}function qw(){return Xr().memoizedState}function CT(s,i,u){var _=Ys(s);if(u={lane:_,action:u,hasEagerState:!1,eagerState:null,next:null},Gw(s))Kw(i,u);else if(u=Cw(s,i,u,_),u!==null){var k=fr();mn(u,s,_,k),Xw(u,i,_)}}function RT(s,i,u){var _=Ys(s),k={lane:_,action:u,hasEagerState:!1,eagerState:null,next:null};if(Gw(s))Kw(i,k);else{var I=s.alternate;if(s.lanes===0&&(I===null||I.lanes===0)&&(I=i.lastRenderedReducer,I!==null))try{var z=i.lastRenderedState,q=I(z,u);if(k.hasEagerState=!0,k.eagerState=q,un(q,z)){var K=i.interleaved;K===null?(k.next=k,Ip(i)):(k.next=K.next,K.next=k),i.interleaved=k;return}}catch{}finally{}u=Cw(s,i,k,_),u!==null&&(k=fr(),mn(u,s,_,k),Xw(u,i,_))}}function Gw(s){var i=s.alternate;return s===xt||i!==null&&i===xt}function Kw(s,i){za=kl=!0;var u=s.pending;u===null?i.next=i:(i.next=u.next,u.next=i),s.pending=i}function Xw(s,i,u){if((u&4194240)!==0){var _=i.lanes;_&=s.pendingLanes,u|=_,i.lanes=u,Gf(s,u)}}var jl={readContext:Kr,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},ET={readContext:Kr,useCallback:function(s,i){return Gn().memoizedState=[s,i===void 0?null:i],s},useContext:Kr,useEffect:$w,useImperativeHandle:function(s,i,u){return u=u!=null?u.concat([s]):null,Pl(4194308,4,Bw.bind(null,i,s),u)},useLayoutEffect:function(s,i){return Pl(4194308,4,s,i)},useInsertionEffect:function(s,i){return Pl(4,2,s,i)},useMemo:function(s,i){var u=Gn();return i=i===void 0?null:i,s=s(),u.memoizedState=[s,i],s},useReducer:function(s,i,u){var _=Gn();return i=u!==void 0?u(i):i,_.memoizedState=_.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},_.queue=s,s=s.dispatch=CT.bind(null,xt,s),[_.memoizedState,s]},useRef:function(s){var i=Gn();return s={current:s},i.memoizedState=s},useState:Ow,useDebugValue:Wp,useDeferredValue:function(s){return Gn().memoizedState=s},useTransition:function(){var s=Ow(!1),i=s[0];return s=xT.bind(null,s[1]),Gn().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,u){var _=xt,k=Gn();if(wt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=i(),Ht===null)throw Error(r(349));(bo&30)!==0||jw(_,i,u)}k.memoizedState=u;var I={value:u,getSnapshot:i};return k.queue=I,$w(Mw.bind(null,_,I,s),[s]),_.flags|=2048,Va(9,Iw.bind(null,_,I,u,i),void 0,null),u},useId:function(){var s=Gn(),i=Ht.identifierPrefix;if(wt){var u=ds,_=us;u=(_&~(1<<32-ln(_)-1)).toString(32)+u,i=":"+i+"R"+u,u=Ba++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=_T++,i=":"+i+"r"+u.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},TT={readContext:Kr,useCallback:Vw,useContext:Kr,useEffect:Hp,useImperativeHandle:Uw,useInsertionEffect:Fw,useLayoutEffect:zw,useMemo:Hw,useReducer:Up,useRef:Aw,useState:function(){return Up(Ua)},useDebugValue:Wp,useDeferredValue:function(s){var i=Xr();return Ww(i,$t.memoizedState,s)},useTransition:function(){var s=Up(Ua)[0],i=Xr().memoizedState;return[s,i]},useMutableSource:Pw,useSyncExternalStore:Dw,useId:qw,unstable_isNewReconciler:!1},kT={readContext:Kr,useCallback:Vw,useContext:Kr,useEffect:Hp,useImperativeHandle:Uw,useInsertionEffect:Fw,useLayoutEffect:zw,useMemo:Hw,useReducer:Vp,useRef:Aw,useState:function(){return Vp(Ua)},useDebugValue:Wp,useDeferredValue:function(s){var i=Xr();return $t===null?i.memoizedState=s:Ww(i,$t.memoizedState,s)},useTransition:function(){var s=Vp(Ua)[0],i=Xr().memoizedState;return[s,i]},useMutableSource:Pw,useSyncExternalStore:Dw,useId:qw,unstable_isNewReconciler:!1};function fn(s,i){if(s&&s.defaultProps){i=H({},i),s=s.defaultProps;for(var u in s)i[u]===void 0&&(i[u]=s[u]);return i}return i}function qp(s,i,u,_){i=s.memoizedState,u=u(_,i),u=u==null?i:H({},i,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Il={isMounted:function(s){return(s=s._reactInternals)?ho(s)===s:!1},enqueueSetState:function(s,i,u){s=s._reactInternals;var _=fr(),k=Ys(s),I=ps(_,k);I.payload=i,u!=null&&(I.callback=u),i=qs(s,I,k),i!==null&&(mn(i,s,k,_),Cl(i,s,k))},enqueueReplaceState:function(s,i,u){s=s._reactInternals;var _=fr(),k=Ys(s),I=ps(_,k);I.tag=1,I.payload=i,u!=null&&(I.callback=u),i=qs(s,I,k),i!==null&&(mn(i,s,k,_),Cl(i,s,k))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var u=fr(),_=Ys(s),k=ps(u,_);k.tag=2,i!=null&&(k.callback=i),i=qs(s,k,_),i!==null&&(mn(i,s,_,u),Cl(i,s,_))}};function Yw(s,i,u,_,k,I,z){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(_,I,z):i.prototype&&i.prototype.isPureReactComponent?!Pa(u,_)||!Pa(k,I):!0}function Qw(s,i,u){var _=!1,k=Vs,I=i.contextType;return typeof I=="object"&&I!==null?I=Kr(I):(k=wr(i)?go:rr.current,_=i.contextTypes,I=(_=_!=null)?gi(s,k):Vs),i=new i(u,I),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Il,s.stateNode=i,i._reactInternals=s,_&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=k,s.__reactInternalMemoizedMaskedChildContext=I),i}function Jw(s,i,u,_){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,_),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,_),i.state!==s&&Il.enqueueReplaceState(i,i.state,null)}function Gp(s,i,u,_){var k=s.stateNode;k.props=u,k.state=s.memoizedState,k.refs={},Mp(s);var I=i.contextType;typeof I=="object"&&I!==null?k.context=Kr(I):(I=wr(i)?go:rr.current,k.context=gi(s,I)),k.state=s.memoizedState,I=i.getDerivedStateFromProps,typeof I=="function"&&(qp(s,i,I,u),k.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(i=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),i!==k.state&&Il.enqueueReplaceState(k,k.state,null),Rl(s,u,k,_),k.state=s.memoizedState),typeof k.componentDidMount=="function"&&(s.flags|=4194308)}function Ci(s,i){try{var u="",_=i;do u+=Q(_),_=_.return;while(_);var k=u}catch(I){k=`
Error generating stack: `+I.message+`
`+I.stack}return{value:s,source:i,stack:k,digest:null}}function Kp(s,i,u){return{value:s,source:null,stack:u??null,digest:i??null}}function Xp(s,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var PT=typeof WeakMap=="function"?WeakMap:Map;function Zw(s,i,u){u=ps(-1,u),u.tag=3,u.payload={element:null};var _=i.value;return u.callback=function(){Fl||(Fl=!0,uh=_),Xp(s,i)},u}function eS(s,i,u){u=ps(-1,u),u.tag=3;var _=s.type.getDerivedStateFromError;if(typeof _=="function"){var k=i.value;u.payload=function(){return _(k)},u.callback=function(){Xp(s,i)}}var I=s.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(u.callback=function(){Xp(s,i),typeof _!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var z=i.stack;this.componentDidCatch(i.value,{componentStack:z!==null?z:""})}),u}function tS(s,i,u){var _=s.pingCache;if(_===null){_=s.pingCache=new PT;var k=new Set;_.set(i,k)}else k=_.get(i),k===void 0&&(k=new Set,_.set(i,k));k.has(u)||(k.add(u),s=VT.bind(null,s,i,u),i.then(s,s))}function rS(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function nS(s,i,u,_,k){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=ps(-1,1),i.tag=2,qs(u,i,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=k,s)}var DT=h.ReactCurrentOwner,Sr=!1;function dr(s,i,u,_){i.child=s===null?xw(i,null,u,_):Si(i,s.child,u,_)}function sS(s,i,u,_,k){u=u.render;var I=i.ref;return _i(i,k),_=zp(s,i,u,_,I,k),u=Bp(),s!==null&&!Sr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~k,hs(s,i,k)):(wt&&u&&xp(i),i.flags|=1,dr(s,i,_,k),i.child)}function oS(s,i,u,_,k){if(s===null){var I=u.type;return typeof I=="function"&&!vh(I)&&I.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=I,iS(s,i,I,_,k)):(s=Wl(u.type,null,_,i,i.mode,k),s.ref=i.ref,s.return=i,i.child=s)}if(I=s.child,(s.lanes&k)===0){var z=I.memoizedProps;if(u=u.compare,u=u!==null?u:Pa,u(z,_)&&s.ref===i.ref)return hs(s,i,k)}return i.flags|=1,s=Js(I,_),s.ref=i.ref,s.return=i,i.child=s}function iS(s,i,u,_,k){if(s!==null){var I=s.memoizedProps;if(Pa(I,_)&&s.ref===i.ref)if(Sr=!1,i.pendingProps=_=I,(s.lanes&k)!==0)(s.flags&131072)!==0&&(Sr=!0);else return i.lanes=s.lanes,hs(s,i,k)}return Yp(s,i,u,_,k)}function aS(s,i,u){var _=i.pendingProps,k=_.children,I=s!==null?s.memoizedState:null;if(_.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Ei,Or),Or|=u;else{if((u&1073741824)===0)return s=I!==null?I.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,mt(Ei,Or),Or|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=I!==null?I.baseLanes:u,mt(Ei,Or),Or|=_}else I!==null?(_=I.baseLanes|u,i.memoizedState=null):_=u,mt(Ei,Or),Or|=_;return dr(s,i,k,u),i.child}function cS(s,i){var u=i.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Yp(s,i,u,_,k){var I=wr(u)?go:rr.current;return I=gi(i,I),_i(i,k),u=zp(s,i,u,_,I,k),_=Bp(),s!==null&&!Sr?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~k,hs(s,i,k)):(wt&&_&&xp(i),i.flags|=1,dr(s,i,u,k),i.child)}function lS(s,i,u,_,k){if(wr(u)){var I=!0;gl(i)}else I=!1;if(_i(i,k),i.stateNode===null)Nl(s,i),Qw(i,u,_),Gp(i,u,_,k),_=!0;else if(s===null){var z=i.stateNode,q=i.memoizedProps;z.props=q;var K=z.context,ee=u.contextType;typeof ee=="object"&&ee!==null?ee=Kr(ee):(ee=wr(u)?go:rr.current,ee=gi(i,ee));var ce=u.getDerivedStateFromProps,de=typeof ce=="function"||typeof z.getSnapshotBeforeUpdate=="function";de||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(q!==_||K!==ee)&&Jw(i,z,_,ee),Ws=!1;var ae=i.memoizedState;z.state=ae,Rl(i,_,z,k),K=i.memoizedState,q!==_||ae!==K||yr.current||Ws?(typeof ce=="function"&&(qp(i,u,ce,_),K=i.memoizedState),(q=Ws||Yw(i,u,q,_,ae,K,ee))?(de||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(i.flags|=4194308)):(typeof z.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=_,i.memoizedState=K),z.props=_,z.state=K,z.context=ee,_=q):(typeof z.componentDidMount=="function"&&(i.flags|=4194308),_=!1)}else{z=i.stateNode,Rw(s,i),q=i.memoizedProps,ee=i.type===i.elementType?q:fn(i.type,q),z.props=ee,de=i.pendingProps,ae=z.context,K=u.contextType,typeof K=="object"&&K!==null?K=Kr(K):(K=wr(u)?go:rr.current,K=gi(i,K));var be=u.getDerivedStateFromProps;(ce=typeof be=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(q!==de||ae!==K)&&Jw(i,z,_,K),Ws=!1,ae=i.memoizedState,z.state=ae,Rl(i,_,z,k);var Te=i.memoizedState;q!==de||ae!==Te||yr.current||Ws?(typeof be=="function"&&(qp(i,u,be,_),Te=i.memoizedState),(ee=Ws||Yw(i,u,ee,_,ae,Te,K)||!1)?(ce||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(_,Te,K),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(_,Te,K)),typeof z.componentDidUpdate=="function"&&(i.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof z.componentDidUpdate!="function"||q===s.memoizedProps&&ae===s.memoizedState||(i.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&ae===s.memoizedState||(i.flags|=1024),i.memoizedProps=_,i.memoizedState=Te),z.props=_,z.state=Te,z.context=K,_=ee):(typeof z.componentDidUpdate!="function"||q===s.memoizedProps&&ae===s.memoizedState||(i.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&ae===s.memoizedState||(i.flags|=1024),_=!1)}return Qp(s,i,u,_,I,k)}function Qp(s,i,u,_,k,I){cS(s,i);var z=(i.flags&128)!==0;if(!_&&!z)return k&&hw(i,u,!1),hs(s,i,I);_=i.stateNode,DT.current=i;var q=z&&typeof u.getDerivedStateFromError!="function"?null:_.render();return i.flags|=1,s!==null&&z?(i.child=Si(i,s.child,null,I),i.child=Si(i,null,q,I)):dr(s,i,q,I),i.memoizedState=_.state,k&&hw(i,u,!0),i.child}function uS(s){var i=s.stateNode;i.pendingContext?fw(s,i.pendingContext,i.pendingContext!==i.context):i.context&&fw(s,i.context,!1),Np(s,i.containerInfo)}function dS(s,i,u,_,k){return wi(),Tp(k),i.flags|=256,dr(s,i,u,_),i.child}var Jp={dehydrated:null,treeContext:null,retryLane:0};function Zp(s){return{baseLanes:s,cachePool:null,transitions:null}}function fS(s,i,u){var _=i.pendingProps,k=_t.current,I=!1,z=(i.flags&128)!==0,q;if((q=z)||(q=s!==null&&s.memoizedState===null?!1:(k&2)!==0),q?(I=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(k|=1),mt(_t,k&1),s===null)return Ep(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(z=_.children,s=_.fallback,I?(_=i.mode,I=i.child,z={mode:"hidden",children:z},(_&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=z):I=ql(z,_,0,null),s=Eo(s,_,u,null),I.return=i,s.return=i,I.sibling=s,i.child=I,i.child.memoizedState=Zp(u),i.memoizedState=Jp,s):eh(i,z));if(k=s.memoizedState,k!==null&&(q=k.dehydrated,q!==null))return jT(s,i,z,_,q,k,u);if(I){I=_.fallback,z=i.mode,k=s.child,q=k.sibling;var K={mode:"hidden",children:_.children};return(z&1)===0&&i.child!==k?(_=i.child,_.childLanes=0,_.pendingProps=K,i.deletions=null):(_=Js(k,K),_.subtreeFlags=k.subtreeFlags&14680064),q!==null?I=Js(q,I):(I=Eo(I,z,u,null),I.flags|=2),I.return=i,_.return=i,_.sibling=I,i.child=_,_=I,I=i.child,z=s.child.memoizedState,z=z===null?Zp(u):{baseLanes:z.baseLanes|u,cachePool:null,transitions:z.transitions},I.memoizedState=z,I.childLanes=s.childLanes&~u,i.memoizedState=Jp,_}return I=s.child,s=I.sibling,_=Js(I,{mode:"visible",children:_.children}),(i.mode&1)===0&&(_.lanes=u),_.return=i,_.sibling=null,s!==null&&(u=i.deletions,u===null?(i.deletions=[s],i.flags|=16):u.push(s)),i.child=_,i.memoizedState=null,_}function eh(s,i){return i=ql({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Ml(s,i,u,_){return _!==null&&Tp(_),Si(i,s.child,null,u),s=eh(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function jT(s,i,u,_,k,I,z){if(u)return i.flags&256?(i.flags&=-257,_=Kp(Error(r(422))),Ml(s,i,z,_)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(I=_.fallback,k=i.mode,_=ql({mode:"visible",children:_.children},k,0,null),I=Eo(I,k,z,null),I.flags|=2,_.return=i,I.return=i,_.sibling=I,i.child=_,(i.mode&1)!==0&&Si(i,s.child,null,z),i.child.memoizedState=Zp(z),i.memoizedState=Jp,I);if((i.mode&1)===0)return Ml(s,i,z,null);if(k.data==="$!"){if(_=k.nextSibling&&k.nextSibling.dataset,_)var q=_.dgst;return _=q,I=Error(r(419)),_=Kp(I,_,void 0),Ml(s,i,z,_)}if(q=(z&s.childLanes)!==0,Sr||q){if(_=Ht,_!==null){switch(z&-z){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(_.suspendedLanes|z))!==0?0:k,k!==0&&k!==I.retryLane&&(I.retryLane=k,fs(s,k),mn(_,s,k,-1))}return gh(),_=Kp(Error(r(421))),Ml(s,i,z,_)}return k.data==="$?"?(i.flags|=128,i.child=s.child,i=HT.bind(null,s),k._reactRetry=i,null):(s=I.treeContext,Lr=Bs(k.nextSibling),Nr=i,wt=!0,dn=null,s!==null&&(qr[Gr++]=us,qr[Gr++]=ds,qr[Gr++]=vo,us=s.id,ds=s.overflow,vo=i),i=eh(i,_.children),i.flags|=4096,i)}function pS(s,i,u){s.lanes|=i;var _=s.alternate;_!==null&&(_.lanes|=i),jp(s.return,i,u)}function th(s,i,u,_,k){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:_,tail:u,tailMode:k}:(I.isBackwards=i,I.rendering=null,I.renderingStartTime=0,I.last=_,I.tail=u,I.tailMode=k)}function hS(s,i,u){var _=i.pendingProps,k=_.revealOrder,I=_.tail;if(dr(s,i,_.children,u),_=_t.current,(_&2)!==0)_=_&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&pS(s,u,i);else if(s.tag===19)pS(s,u,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}_&=1}if(mt(_t,_),(i.mode&1)===0)i.memoizedState=null;else switch(k){case"forwards":for(u=i.child,k=null;u!==null;)s=u.alternate,s!==null&&El(s)===null&&(k=u),u=u.sibling;u=k,u===null?(k=i.child,i.child=null):(k=u.sibling,u.sibling=null),th(i,!1,k,u,I);break;case"backwards":for(u=null,k=i.child,i.child=null;k!==null;){if(s=k.alternate,s!==null&&El(s)===null){i.child=k;break}s=k.sibling,k.sibling=u,u=k,k=s}th(i,!0,u,null,I);break;case"together":th(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Nl(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function hs(s,i,u){if(s!==null&&(i.dependencies=s.dependencies),_o|=i.lanes,(u&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,u=Js(s,s.pendingProps),i.child=u,u.return=i;s.sibling!==null;)s=s.sibling,u=u.sibling=Js(s,s.pendingProps),u.return=i;u.sibling=null}return i.child}function IT(s,i,u){switch(i.tag){case 3:uS(i),wi();break;case 5:kw(i);break;case 1:wr(i.type)&&gl(i);break;case 4:Np(i,i.stateNode.containerInfo);break;case 10:var _=i.type._context,k=i.memoizedProps.value;mt(_l,_._currentValue),_._currentValue=k;break;case 13:if(_=i.memoizedState,_!==null)return _.dehydrated!==null?(mt(_t,_t.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?fS(s,i,u):(mt(_t,_t.current&1),s=hs(s,i,u),s!==null?s.sibling:null);mt(_t,_t.current&1);break;case 19:if(_=(u&i.childLanes)!==0,(s.flags&128)!==0){if(_)return hS(s,i,u);i.flags|=128}if(k=i.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),mt(_t,_t.current),_)break;return null;case 22:case 23:return i.lanes=0,aS(s,i,u)}return hs(s,i,u)}var mS,rh,gS,vS;mS=function(s,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},rh=function(){},gS=function(s,i,u,_){var k=s.memoizedProps;if(k!==_){s=i.stateNode,So(qn.current);var I=null;switch(u){case"input":k=Qe(s,k),_=Qe(s,_),I=[];break;case"select":k=H({},k,{value:void 0}),_=H({},_,{value:void 0}),I=[];break;case"textarea":k=Fe(s,k),_=Fe(s,_),I=[];break;default:typeof k.onClick!="function"&&typeof _.onClick=="function"&&(s.onclick=pl)}si(u,_);var z;u=null;for(ee in k)if(!_.hasOwnProperty(ee)&&k.hasOwnProperty(ee)&&k[ee]!=null)if(ee==="style"){var q=k[ee];for(z in q)q.hasOwnProperty(z)&&(u||(u={}),u[z]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(o.hasOwnProperty(ee)?I||(I=[]):(I=I||[]).push(ee,null));for(ee in _){var K=_[ee];if(q=k!=null?k[ee]:void 0,_.hasOwnProperty(ee)&&K!==q&&(K!=null||q!=null))if(ee==="style")if(q){for(z in q)!q.hasOwnProperty(z)||K&&K.hasOwnProperty(z)||(u||(u={}),u[z]="");for(z in K)K.hasOwnProperty(z)&&q[z]!==K[z]&&(u||(u={}),u[z]=K[z])}else u||(I||(I=[]),I.push(ee,u)),u=K;else ee==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,q=q?q.__html:void 0,K!=null&&q!==K&&(I=I||[]).push(ee,K)):ee==="children"?typeof K!="string"&&typeof K!="number"||(I=I||[]).push(ee,""+K):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(o.hasOwnProperty(ee)?(K!=null&&ee==="onScroll"&&gt("scroll",s),I||q===K||(I=[])):(I=I||[]).push(ee,K))}u&&(I=I||[]).push("style",u);var ee=I;(i.updateQueue=ee)&&(i.flags|=4)}},vS=function(s,i,u,_){u!==_&&(i.flags|=4)};function Ha(s,i){if(!wt)switch(s.tailMode){case"hidden":i=s.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var _=null;u!==null;)u.alternate!==null&&(_=u),u=u.sibling;_===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:_.sibling=null}}function sr(s){var i=s.alternate!==null&&s.alternate.child===s.child,u=0,_=0;if(i)for(var k=s.child;k!==null;)u|=k.lanes|k.childLanes,_|=k.subtreeFlags&14680064,_|=k.flags&14680064,k.return=s,k=k.sibling;else for(k=s.child;k!==null;)u|=k.lanes|k.childLanes,_|=k.subtreeFlags,_|=k.flags,k.return=s,k=k.sibling;return s.subtreeFlags|=_,s.childLanes=u,i}function MT(s,i,u){var _=i.pendingProps;switch(Cp(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(i),null;case 1:return wr(i.type)&&ml(),sr(i),null;case 3:return _=i.stateNode,xi(),vt(yr),vt(rr),Ap(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(s===null||s.child===null)&&(Sl(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,dn!==null&&(ph(dn),dn=null))),rh(s,i),sr(i),null;case 5:Lp(i);var k=So(Fa.current);if(u=i.type,s!==null&&i.stateNode!=null)gS(s,i,u,_,k),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!_){if(i.stateNode===null)throw Error(r(166));return sr(i),null}if(s=So(qn.current),Sl(i)){_=i.stateNode,u=i.type;var I=i.memoizedProps;switch(_[Wn]=i,_[Na]=I,s=(i.mode&1)!==0,u){case"dialog":gt("cancel",_),gt("close",_);break;case"iframe":case"object":case"embed":gt("load",_);break;case"video":case"audio":for(k=0;k<ja.length;k++)gt(ja[k],_);break;case"source":gt("error",_);break;case"img":case"image":case"link":gt("error",_),gt("load",_);break;case"details":gt("toggle",_);break;case"input":ot(_,I),gt("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!I.multiple},gt("invalid",_);break;case"textarea":Ge(_,I),gt("invalid",_)}si(u,I),k=null;for(var z in I)if(I.hasOwnProperty(z)){var q=I[z];z==="children"?typeof q=="string"?_.textContent!==q&&(I.suppressHydrationWarning!==!0&&fl(_.textContent,q,s),k=["children",q]):typeof q=="number"&&_.textContent!==""+q&&(I.suppressHydrationWarning!==!0&&fl(_.textContent,q,s),k=["children",""+q]):o.hasOwnProperty(z)&&q!=null&&z==="onScroll"&&gt("scroll",_)}switch(u){case"input":_e(_),we(_,I,!0);break;case"textarea":_e(_),Pe(_);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(_.onclick=pl)}_=k,i.updateQueue=_,_!==null&&(i.flags|=4)}else{z=k.nodeType===9?k:k.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ce(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=z.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof _.is=="string"?s=z.createElement(u,{is:_.is}):(s=z.createElement(u),u==="select"&&(z=s,_.multiple?z.multiple=!0:_.size&&(z.size=_.size))):s=z.createElementNS(s,u),s[Wn]=i,s[Na]=_,mS(s,i,!1,!1),i.stateNode=s;e:{switch(z=Af(u,_),u){case"dialog":gt("cancel",s),gt("close",s),k=_;break;case"iframe":case"object":case"embed":gt("load",s),k=_;break;case"video":case"audio":for(k=0;k<ja.length;k++)gt(ja[k],s);k=_;break;case"source":gt("error",s),k=_;break;case"img":case"image":case"link":gt("error",s),gt("load",s),k=_;break;case"details":gt("toggle",s),k=_;break;case"input":ot(s,_),k=Qe(s,_),gt("invalid",s);break;case"option":k=_;break;case"select":s._wrapperState={wasMultiple:!!_.multiple},k=H({},_,{value:void 0}),gt("invalid",s);break;case"textarea":Ge(s,_),k=Fe(s,_),gt("invalid",s);break;default:k=_}si(u,k),q=k;for(I in q)if(q.hasOwnProperty(I)){var K=q[I];I==="style"?bt(s,K):I==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&Ye(s,K)):I==="children"?typeof K=="string"?(u!=="textarea"||K!=="")&&at(s,K):typeof K=="number"&&at(s,""+K):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(o.hasOwnProperty(I)?K!=null&&I==="onScroll"&&gt("scroll",s):K!=null&&p(s,I,K,z))}switch(u){case"input":_e(s),we(s,_,!1);break;case"textarea":_e(s),Pe(s);break;case"option":_.value!=null&&s.setAttribute("value",""+ge(_.value));break;case"select":s.multiple=!!_.multiple,I=_.value,I!=null?ze(s,!!_.multiple,I,!1):_.defaultValue!=null&&ze(s,!!_.multiple,_.defaultValue,!0);break;default:typeof k.onClick=="function"&&(s.onclick=pl)}switch(u){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return sr(i),null;case 6:if(s&&i.stateNode!=null)vS(s,i,s.memoizedProps,_);else{if(typeof _!="string"&&i.stateNode===null)throw Error(r(166));if(u=So(Fa.current),So(qn.current),Sl(i)){if(_=i.stateNode,u=i.memoizedProps,_[Wn]=i,(I=_.nodeValue!==u)&&(s=Nr,s!==null))switch(s.tag){case 3:fl(_.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&fl(_.nodeValue,u,(s.mode&1)!==0)}I&&(i.flags|=4)}else _=(u.nodeType===9?u:u.ownerDocument).createTextNode(_),_[Wn]=i,i.stateNode=_}return sr(i),null;case 13:if(vt(_t),_=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(wt&&Lr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Sw(),wi(),i.flags|=98560,I=!1;else if(I=Sl(i),_!==null&&_.dehydrated!==null){if(s===null){if(!I)throw Error(r(318));if(I=i.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));I[Wn]=i}else wi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;sr(i),I=!1}else dn!==null&&(ph(dn),dn=null),I=!0;if(!I)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(_=_!==null,_!==(s!==null&&s.memoizedState!==null)&&_&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(_t.current&1)!==0?Ft===0&&(Ft=3):gh())),i.updateQueue!==null&&(i.flags|=4),sr(i),null);case 4:return xi(),rh(s,i),s===null&&Ia(i.stateNode.containerInfo),sr(i),null;case 10:return Dp(i.type._context),sr(i),null;case 17:return wr(i.type)&&ml(),sr(i),null;case 19:if(vt(_t),I=i.memoizedState,I===null)return sr(i),null;if(_=(i.flags&128)!==0,z=I.rendering,z===null)if(_)Ha(I,!1);else{if(Ft!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(z=El(s),z!==null){for(i.flags|=128,Ha(I,!1),_=z.updateQueue,_!==null&&(i.updateQueue=_,i.flags|=4),i.subtreeFlags=0,_=u,u=i.child;u!==null;)I=u,s=_,I.flags&=14680066,z=I.alternate,z===null?(I.childLanes=0,I.lanes=s,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=z.childLanes,I.lanes=z.lanes,I.child=z.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=z.memoizedProps,I.memoizedState=z.memoizedState,I.updateQueue=z.updateQueue,I.type=z.type,s=z.dependencies,I.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return mt(_t,_t.current&1|2),i.child}s=s.sibling}I.tail!==null&&Pt()>Ti&&(i.flags|=128,_=!0,Ha(I,!1),i.lanes=4194304)}else{if(!_)if(s=El(z),s!==null){if(i.flags|=128,_=!0,u=s.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),Ha(I,!0),I.tail===null&&I.tailMode==="hidden"&&!z.alternate&&!wt)return sr(i),null}else 2*Pt()-I.renderingStartTime>Ti&&u!==1073741824&&(i.flags|=128,_=!0,Ha(I,!1),i.lanes=4194304);I.isBackwards?(z.sibling=i.child,i.child=z):(u=I.last,u!==null?u.sibling=z:i.child=z,I.last=z)}return I.tail!==null?(i=I.tail,I.rendering=i,I.tail=i.sibling,I.renderingStartTime=Pt(),i.sibling=null,u=_t.current,mt(_t,_?u&1|2:u&1),i):(sr(i),null);case 22:case 23:return mh(),_=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==_&&(i.flags|=8192),_&&(i.mode&1)!==0?(Or&1073741824)!==0&&(sr(i),i.subtreeFlags&6&&(i.flags|=8192)):sr(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function NT(s,i){switch(Cp(i),i.tag){case 1:return wr(i.type)&&ml(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return xi(),vt(yr),vt(rr),Ap(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Lp(i),null;case 13:if(vt(_t),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));wi()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return vt(_t),null;case 4:return xi(),null;case 10:return Dp(i.type._context),null;case 22:case 23:return mh(),null;case 24:return null;default:return null}}var Ll=!1,or=!1,LT=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Ri(s,i){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(_){Et(s,i,_)}else u.current=null}function nh(s,i,u){try{u()}catch(_){Et(s,i,_)}}var yS=!1;function OT(s,i){if(mp=tl,s=Yy(),ap(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var _=u.getSelection&&u.getSelection();if(_&&_.rangeCount!==0){u=_.anchorNode;var k=_.anchorOffset,I=_.focusNode;_=_.focusOffset;try{u.nodeType,I.nodeType}catch{u=null;break e}var z=0,q=-1,K=-1,ee=0,ce=0,de=s,ae=null;t:for(;;){for(var be;de!==u||k!==0&&de.nodeType!==3||(q=z+k),de!==I||_!==0&&de.nodeType!==3||(K=z+_),de.nodeType===3&&(z+=de.nodeValue.length),(be=de.firstChild)!==null;)ae=de,de=be;for(;;){if(de===s)break t;if(ae===u&&++ee===k&&(q=z),ae===I&&++ce===_&&(K=z),(be=de.nextSibling)!==null)break;de=ae,ae=de.parentNode}de=be}u=q===-1||K===-1?null:{start:q,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(gp={focusedElem:s,selectionRange:u},tl=!1,xe=i;xe!==null;)if(i=xe,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,xe=s;else for(;xe!==null;){i=xe;try{var Te=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var ke=Te.memoizedProps,Dt=Te.memoizedState,J=i.stateNode,Y=J.getSnapshotBeforeUpdate(i.elementType===i.type?ke:fn(i.type,ke),Dt);J.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var Z=i.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(pe){Et(i,i.return,pe)}if(s=i.sibling,s!==null){s.return=i.return,xe=s;break}xe=i.return}return Te=yS,yS=!1,Te}function Wa(s,i,u){var _=i.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var k=_=_.next;do{if((k.tag&s)===s){var I=k.destroy;k.destroy=void 0,I!==void 0&&nh(i,u,I)}k=k.next}while(k!==_)}}function Ol(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&s)===s){var _=u.create;u.destroy=_()}u=u.next}while(u!==i)}}function sh(s){var i=s.ref;if(i!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof i=="function"?i(s):i.current=s}}function wS(s){var i=s.alternate;i!==null&&(s.alternate=null,wS(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Wn],delete i[Na],delete i[Sp],delete i[yT],delete i[wT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function SS(s){return s.tag===5||s.tag===3||s.tag===4}function bS(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||SS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function oh(s,i,u){var _=s.tag;if(_===5||_===6)s=s.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(s,i):u.insertBefore(s,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(s,u)):(i=u,i.appendChild(s)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=pl));else if(_!==4&&(s=s.child,s!==null))for(oh(s,i,u),s=s.sibling;s!==null;)oh(s,i,u),s=s.sibling}function ih(s,i,u){var _=s.tag;if(_===5||_===6)s=s.stateNode,i?u.insertBefore(s,i):u.appendChild(s);else if(_!==4&&(s=s.child,s!==null))for(ih(s,i,u),s=s.sibling;s!==null;)ih(s,i,u),s=s.sibling}var Gt=null,pn=!1;function Gs(s,i,u){for(u=u.child;u!==null;)_S(s,i,u),u=u.sibling}function _S(s,i,u){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Xc,u)}catch{}switch(u.tag){case 5:or||Ri(u,i);case 6:var _=Gt,k=pn;Gt=null,Gs(s,i,u),Gt=_,pn=k,Gt!==null&&(pn?(s=Gt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Gt.removeChild(u.stateNode));break;case 18:Gt!==null&&(pn?(s=Gt,u=u.stateNode,s.nodeType===8?wp(s.parentNode,u):s.nodeType===1&&wp(s,u),xa(s)):wp(Gt,u.stateNode));break;case 4:_=Gt,k=pn,Gt=u.stateNode.containerInfo,pn=!0,Gs(s,i,u),Gt=_,pn=k;break;case 0:case 11:case 14:case 15:if(!or&&(_=u.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){k=_=_.next;do{var I=k,z=I.destroy;I=I.tag,z!==void 0&&((I&2)!==0||(I&4)!==0)&&nh(u,i,z),k=k.next}while(k!==_)}Gs(s,i,u);break;case 1:if(!or&&(Ri(u,i),_=u.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=u.memoizedProps,_.state=u.memoizedState,_.componentWillUnmount()}catch(q){Et(u,i,q)}Gs(s,i,u);break;case 21:Gs(s,i,u);break;case 22:u.mode&1?(or=(_=or)||u.memoizedState!==null,Gs(s,i,u),or=_):Gs(s,i,u);break;default:Gs(s,i,u)}}function xS(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new LT),i.forEach(function(_){var k=WT.bind(null,s,_);u.has(_)||(u.add(_),_.then(k,k))})}}function hn(s,i){var u=i.deletions;if(u!==null)for(var _=0;_<u.length;_++){var k=u[_];try{var I=s,z=i,q=z;e:for(;q!==null;){switch(q.tag){case 5:Gt=q.stateNode,pn=!1;break e;case 3:Gt=q.stateNode.containerInfo,pn=!0;break e;case 4:Gt=q.stateNode.containerInfo,pn=!0;break e}q=q.return}if(Gt===null)throw Error(r(160));_S(I,z,k),Gt=null,pn=!1;var K=k.alternate;K!==null&&(K.return=null),k.return=null}catch(ee){Et(k,i,ee)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)CS(i,s),i=i.sibling}function CS(s,i){var u=s.alternate,_=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(hn(i,s),Kn(s),_&4){try{Wa(3,s,s.return),Ol(3,s)}catch(ke){Et(s,s.return,ke)}try{Wa(5,s,s.return)}catch(ke){Et(s,s.return,ke)}}break;case 1:hn(i,s),Kn(s),_&512&&u!==null&&Ri(u,u.return);break;case 5:if(hn(i,s),Kn(s),_&512&&u!==null&&Ri(u,u.return),s.flags&32){var k=s.stateNode;try{at(k,"")}catch(ke){Et(s,s.return,ke)}}if(_&4&&(k=s.stateNode,k!=null)){var I=s.memoizedProps,z=u!==null?u.memoizedProps:I,q=s.type,K=s.updateQueue;if(s.updateQueue=null,K!==null)try{q==="input"&&I.type==="radio"&&I.name!=null&&dt(k,I),Af(q,z);var ee=Af(q,I);for(z=0;z<K.length;z+=2){var ce=K[z],de=K[z+1];ce==="style"?bt(k,de):ce==="dangerouslySetInnerHTML"?Ye(k,de):ce==="children"?at(k,de):p(k,ce,de,ee)}switch(q){case"input":fe(k,I);break;case"textarea":me(k,I);break;case"select":var ae=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!I.multiple;var be=I.value;be!=null?ze(k,!!I.multiple,be,!1):ae!==!!I.multiple&&(I.defaultValue!=null?ze(k,!!I.multiple,I.defaultValue,!0):ze(k,!!I.multiple,I.multiple?[]:"",!1))}k[Na]=I}catch(ke){Et(s,s.return,ke)}}break;case 6:if(hn(i,s),Kn(s),_&4){if(s.stateNode===null)throw Error(r(162));k=s.stateNode,I=s.memoizedProps;try{k.nodeValue=I}catch(ke){Et(s,s.return,ke)}}break;case 3:if(hn(i,s),Kn(s),_&4&&u!==null&&u.memoizedState.isDehydrated)try{xa(i.containerInfo)}catch(ke){Et(s,s.return,ke)}break;case 4:hn(i,s),Kn(s);break;case 13:hn(i,s),Kn(s),k=s.child,k.flags&8192&&(I=k.memoizedState!==null,k.stateNode.isHidden=I,!I||k.alternate!==null&&k.alternate.memoizedState!==null||(lh=Pt())),_&4&&xS(s);break;case 22:if(ce=u!==null&&u.memoizedState!==null,s.mode&1?(or=(ee=or)||ce,hn(i,s),or=ee):hn(i,s),Kn(s),_&8192){if(ee=s.memoizedState!==null,(s.stateNode.isHidden=ee)&&!ce&&(s.mode&1)!==0)for(xe=s,ce=s.child;ce!==null;){for(de=xe=ce;xe!==null;){switch(ae=xe,be=ae.child,ae.tag){case 0:case 11:case 14:case 15:Wa(4,ae,ae.return);break;case 1:Ri(ae,ae.return);var Te=ae.stateNode;if(typeof Te.componentWillUnmount=="function"){_=ae,u=ae.return;try{i=_,Te.props=i.memoizedProps,Te.state=i.memoizedState,Te.componentWillUnmount()}catch(ke){Et(_,u,ke)}}break;case 5:Ri(ae,ae.return);break;case 22:if(ae.memoizedState!==null){TS(de);continue}}be!==null?(be.return=ae,xe=be):TS(de)}ce=ce.sibling}e:for(ce=null,de=s;;){if(de.tag===5){if(ce===null){ce=de;try{k=de.stateNode,ee?(I=k.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(q=de.stateNode,K=de.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null,q.style.display=De("display",z))}catch(ke){Et(s,s.return,ke)}}}else if(de.tag===6){if(ce===null)try{de.stateNode.nodeValue=ee?"":de.memoizedProps}catch(ke){Et(s,s.return,ke)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===s)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===s)break e;for(;de.sibling===null;){if(de.return===null||de.return===s)break e;ce===de&&(ce=null),de=de.return}ce===de&&(ce=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:hn(i,s),Kn(s),_&4&&xS(s);break;case 21:break;default:hn(i,s),Kn(s)}}function Kn(s){var i=s.flags;if(i&2){try{e:{for(var u=s.return;u!==null;){if(SS(u)){var _=u;break e}u=u.return}throw Error(r(160))}switch(_.tag){case 5:var k=_.stateNode;_.flags&32&&(at(k,""),_.flags&=-33);var I=bS(s);ih(s,I,k);break;case 3:case 4:var z=_.stateNode.containerInfo,q=bS(s);oh(s,q,z);break;default:throw Error(r(161))}}catch(K){Et(s,s.return,K)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function AT(s,i,u){xe=s,RS(s)}function RS(s,i,u){for(var _=(s.mode&1)!==0;xe!==null;){var k=xe,I=k.child;if(k.tag===22&&_){var z=k.memoizedState!==null||Ll;if(!z){var q=k.alternate,K=q!==null&&q.memoizedState!==null||or;q=Ll;var ee=or;if(Ll=z,(or=K)&&!ee)for(xe=k;xe!==null;)z=xe,K=z.child,z.tag===22&&z.memoizedState!==null?kS(k):K!==null?(K.return=z,xe=K):kS(k);for(;I!==null;)xe=I,RS(I),I=I.sibling;xe=k,Ll=q,or=ee}ES(s)}else(k.subtreeFlags&8772)!==0&&I!==null?(I.return=k,xe=I):ES(s)}}function ES(s){for(;xe!==null;){var i=xe;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:or||Ol(5,i);break;case 1:var _=i.stateNode;if(i.flags&4&&!or)if(u===null)_.componentDidMount();else{var k=i.elementType===i.type?u.memoizedProps:fn(i.type,u.memoizedProps);_.componentDidUpdate(k,u.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var I=i.updateQueue;I!==null&&Tw(i,I,_);break;case 3:var z=i.updateQueue;if(z!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}Tw(i,z,u)}break;case 5:var q=i.stateNode;if(u===null&&i.flags&4){u=q;var K=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&u.focus();break;case"img":K.src&&(u.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ee=i.alternate;if(ee!==null){var ce=ee.memoizedState;if(ce!==null){var de=ce.dehydrated;de!==null&&xa(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}or||i.flags&512&&sh(i)}catch(ae){Et(i,i.return,ae)}}if(i===s){xe=null;break}if(u=i.sibling,u!==null){u.return=i.return,xe=u;break}xe=i.return}}function TS(s){for(;xe!==null;){var i=xe;if(i===s){xe=null;break}var u=i.sibling;if(u!==null){u.return=i.return,xe=u;break}xe=i.return}}function kS(s){for(;xe!==null;){var i=xe;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{Ol(4,i)}catch(K){Et(i,u,K)}break;case 1:var _=i.stateNode;if(typeof _.componentDidMount=="function"){var k=i.return;try{_.componentDidMount()}catch(K){Et(i,k,K)}}var I=i.return;try{sh(i)}catch(K){Et(i,I,K)}break;case 5:var z=i.return;try{sh(i)}catch(K){Et(i,z,K)}}}catch(K){Et(i,i.return,K)}if(i===s){xe=null;break}var q=i.sibling;if(q!==null){q.return=i.return,xe=q;break}xe=i.return}}var $T=Math.ceil,Al=h.ReactCurrentDispatcher,ah=h.ReactCurrentOwner,Yr=h.ReactCurrentBatchConfig,it=0,Ht=null,It=null,Kt=0,Or=0,Ei=Us(0),Ft=0,qa=null,_o=0,$l=0,ch=0,Ga=null,br=null,lh=0,Ti=1/0,ms=null,Fl=!1,uh=null,Ks=null,zl=!1,Xs=null,Bl=0,Ka=0,dh=null,Ul=-1,Vl=0;function fr(){return(it&6)!==0?Pt():Ul!==-1?Ul:Ul=Pt()}function Ys(s){return(s.mode&1)===0?1:(it&2)!==0&&Kt!==0?Kt&-Kt:bT.transition!==null?(Vl===0&&(Vl=by()),Vl):(s=ft,s!==0||(s=window.event,s=s===void 0?16:Dy(s.type)),s)}function mn(s,i,u,_){if(50<Ka)throw Ka=0,dh=null,Error(r(185));ya(s,u,_),((it&2)===0||s!==Ht)&&(s===Ht&&((it&2)===0&&($l|=u),Ft===4&&Qs(s,Kt)),_r(s,_),u===1&&it===0&&(i.mode&1)===0&&(Ti=Pt()+500,vl&&Hs()))}function _r(s,i){var u=s.callbackNode;bE(s,i);var _=Jc(s,s===Ht?Kt:0);if(_===0)u!==null&&yy(u),s.callbackNode=null,s.callbackPriority=0;else if(i=_&-_,s.callbackPriority!==i){if(u!=null&&yy(u),i===1)s.tag===0?ST(DS.bind(null,s)):mw(DS.bind(null,s)),gT(function(){(it&6)===0&&Hs()}),u=null;else{switch(_y(_)){case 1:u=Hf;break;case 4:u=wy;break;case 16:u=Kc;break;case 536870912:u=Sy;break;default:u=Kc}u=$S(u,PS.bind(null,s))}s.callbackPriority=i,s.callbackNode=u}}function PS(s,i){if(Ul=-1,Vl=0,(it&6)!==0)throw Error(r(327));var u=s.callbackNode;if(ki()&&s.callbackNode!==u)return null;var _=Jc(s,s===Ht?Kt:0);if(_===0)return null;if((_&30)!==0||(_&s.expiredLanes)!==0||i)i=Hl(s,_);else{i=_;var k=it;it|=2;var I=IS();(Ht!==s||Kt!==i)&&(ms=null,Ti=Pt()+500,Co(s,i));do try{BT();break}catch(q){jS(s,q)}while(!0);Pp(),Al.current=I,it=k,It!==null?i=0:(Ht=null,Kt=0,i=Ft)}if(i!==0){if(i===2&&(k=Wf(s),k!==0&&(_=k,i=fh(s,k))),i===1)throw u=qa,Co(s,0),Qs(s,_),_r(s,Pt()),u;if(i===6)Qs(s,_);else{if(k=s.current.alternate,(_&30)===0&&!FT(k)&&(i=Hl(s,_),i===2&&(I=Wf(s),I!==0&&(_=I,i=fh(s,I))),i===1))throw u=qa,Co(s,0),Qs(s,_),_r(s,Pt()),u;switch(s.finishedWork=k,s.finishedLanes=_,i){case 0:case 1:throw Error(r(345));case 2:Ro(s,br,ms);break;case 3:if(Qs(s,_),(_&130023424)===_&&(i=lh+500-Pt(),10<i)){if(Jc(s,0)!==0)break;if(k=s.suspendedLanes,(k&_)!==_){fr(),s.pingedLanes|=s.suspendedLanes&k;break}s.timeoutHandle=yp(Ro.bind(null,s,br,ms),i);break}Ro(s,br,ms);break;case 4:if(Qs(s,_),(_&4194240)===_)break;for(i=s.eventTimes,k=-1;0<_;){var z=31-ln(_);I=1<<z,z=i[z],z>k&&(k=z),_&=~I}if(_=k,_=Pt()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*$T(_/1960))-_,10<_){s.timeoutHandle=yp(Ro.bind(null,s,br,ms),_);break}Ro(s,br,ms);break;case 5:Ro(s,br,ms);break;default:throw Error(r(329))}}}return _r(s,Pt()),s.callbackNode===u?PS.bind(null,s):null}function fh(s,i){var u=Ga;return s.current.memoizedState.isDehydrated&&(Co(s,i).flags|=256),s=Hl(s,i),s!==2&&(i=br,br=u,i!==null&&ph(i)),s}function ph(s){br===null?br=s:br.push.apply(br,s)}function FT(s){for(var i=s;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var _=0;_<u.length;_++){var k=u[_],I=k.getSnapshot;k=k.value;try{if(!un(I(),k))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qs(s,i){for(i&=~ch,i&=~$l,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var u=31-ln(i),_=1<<u;s[u]=-1,i&=~_}}function DS(s){if((it&6)!==0)throw Error(r(327));ki();var i=Jc(s,0);if((i&1)===0)return _r(s,Pt()),null;var u=Hl(s,i);if(s.tag!==0&&u===2){var _=Wf(s);_!==0&&(i=_,u=fh(s,_))}if(u===1)throw u=qa,Co(s,0),Qs(s,i),_r(s,Pt()),u;if(u===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Ro(s,br,ms),_r(s,Pt()),null}function hh(s,i){var u=it;it|=1;try{return s(i)}finally{it=u,it===0&&(Ti=Pt()+500,vl&&Hs())}}function xo(s){Xs!==null&&Xs.tag===0&&(it&6)===0&&ki();var i=it;it|=1;var u=Yr.transition,_=ft;try{if(Yr.transition=null,ft=1,s)return s()}finally{ft=_,Yr.transition=u,it=i,(it&6)===0&&Hs()}}function mh(){Or=Ei.current,vt(Ei)}function Co(s,i){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,mT(u)),It!==null)for(u=It.return;u!==null;){var _=u;switch(Cp(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&ml();break;case 3:xi(),vt(yr),vt(rr),Ap();break;case 5:Lp(_);break;case 4:xi();break;case 13:vt(_t);break;case 19:vt(_t);break;case 10:Dp(_.type._context);break;case 22:case 23:mh()}u=u.return}if(Ht=s,It=s=Js(s.current,null),Kt=Or=i,Ft=0,qa=null,ch=$l=_o=0,br=Ga=null,wo!==null){for(i=0;i<wo.length;i++)if(u=wo[i],_=u.interleaved,_!==null){u.interleaved=null;var k=_.next,I=u.pending;if(I!==null){var z=I.next;I.next=k,_.next=z}u.pending=_}wo=null}return s}function jS(s,i){do{var u=It;try{if(Pp(),Tl.current=jl,kl){for(var _=xt.memoizedState;_!==null;){var k=_.queue;k!==null&&(k.pending=null),_=_.next}kl=!1}if(bo=0,Vt=$t=xt=null,za=!1,Ba=0,ah.current=null,u===null||u.return===null){Ft=1,qa=i,It=null;break}e:{var I=s,z=u.return,q=u,K=i;if(i=Kt,q.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var ee=K,ce=q,de=ce.tag;if((ce.mode&1)===0&&(de===0||de===11||de===15)){var ae=ce.alternate;ae?(ce.updateQueue=ae.updateQueue,ce.memoizedState=ae.memoizedState,ce.lanes=ae.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var be=rS(z);if(be!==null){be.flags&=-257,nS(be,z,q,I,i),be.mode&1&&tS(I,ee,i),i=be,K=ee;var Te=i.updateQueue;if(Te===null){var ke=new Set;ke.add(K),i.updateQueue=ke}else Te.add(K);break e}else{if((i&1)===0){tS(I,ee,i),gh();break e}K=Error(r(426))}}else if(wt&&q.mode&1){var Dt=rS(z);if(Dt!==null){(Dt.flags&65536)===0&&(Dt.flags|=256),nS(Dt,z,q,I,i),Tp(Ci(K,q));break e}}I=K=Ci(K,q),Ft!==4&&(Ft=2),Ga===null?Ga=[I]:Ga.push(I),I=z;do{switch(I.tag){case 3:I.flags|=65536,i&=-i,I.lanes|=i;var J=Zw(I,K,i);Ew(I,J);break e;case 1:q=K;var Y=I.type,Z=I.stateNode;if((I.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Ks===null||!Ks.has(Z)))){I.flags|=65536,i&=-i,I.lanes|=i;var pe=eS(I,q,i);Ew(I,pe);break e}}I=I.return}while(I!==null)}NS(u)}catch(je){i=je,It===u&&u!==null&&(It=u=u.return);continue}break}while(!0)}function IS(){var s=Al.current;return Al.current=jl,s===null?jl:s}function gh(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Ht===null||(_o&268435455)===0&&($l&268435455)===0||Qs(Ht,Kt)}function Hl(s,i){var u=it;it|=2;var _=IS();(Ht!==s||Kt!==i)&&(ms=null,Co(s,i));do try{zT();break}catch(k){jS(s,k)}while(!0);if(Pp(),it=u,Al.current=_,It!==null)throw Error(r(261));return Ht=null,Kt=0,Ft}function zT(){for(;It!==null;)MS(It)}function BT(){for(;It!==null&&!fE();)MS(It)}function MS(s){var i=AS(s.alternate,s,Or);s.memoizedProps=s.pendingProps,i===null?NS(s):It=i,ah.current=null}function NS(s){var i=s;do{var u=i.alternate;if(s=i.return,(i.flags&32768)===0){if(u=MT(u,i,Or),u!==null){It=u;return}}else{if(u=NT(u,i),u!==null){u.flags&=32767,It=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ft=6,It=null;return}}if(i=i.sibling,i!==null){It=i;return}It=i=s}while(i!==null);Ft===0&&(Ft=5)}function Ro(s,i,u){var _=ft,k=Yr.transition;try{Yr.transition=null,ft=1,UT(s,i,u,_)}finally{Yr.transition=k,ft=_}return null}function UT(s,i,u,_){do ki();while(Xs!==null);if((it&6)!==0)throw Error(r(327));u=s.finishedWork;var k=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var I=u.lanes|u.childLanes;if(_E(s,I),s===Ht&&(It=Ht=null,Kt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||zl||(zl=!0,$S(Kc,function(){return ki(),null})),I=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||I){I=Yr.transition,Yr.transition=null;var z=ft;ft=1;var q=it;it|=4,ah.current=null,OT(s,u),CS(u,s),cT(gp),tl=!!mp,gp=mp=null,s.current=u,AT(u),pE(),it=q,ft=z,Yr.transition=I}else s.current=u;if(zl&&(zl=!1,Xs=s,Bl=k),I=s.pendingLanes,I===0&&(Ks=null),gE(u.stateNode),_r(s,Pt()),i!==null)for(_=s.onRecoverableError,u=0;u<i.length;u++)k=i[u],_(k.value,{componentStack:k.stack,digest:k.digest});if(Fl)throw Fl=!1,s=uh,uh=null,s;return(Bl&1)!==0&&s.tag!==0&&ki(),I=s.pendingLanes,(I&1)!==0?s===dh?Ka++:(Ka=0,dh=s):Ka=0,Hs(),null}function ki(){if(Xs!==null){var s=_y(Bl),i=Yr.transition,u=ft;try{if(Yr.transition=null,ft=16>s?16:s,Xs===null)var _=!1;else{if(s=Xs,Xs=null,Bl=0,(it&6)!==0)throw Error(r(331));var k=it;for(it|=4,xe=s.current;xe!==null;){var I=xe,z=I.child;if((xe.flags&16)!==0){var q=I.deletions;if(q!==null){for(var K=0;K<q.length;K++){var ee=q[K];for(xe=ee;xe!==null;){var ce=xe;switch(ce.tag){case 0:case 11:case 15:Wa(8,ce,I)}var de=ce.child;if(de!==null)de.return=ce,xe=de;else for(;xe!==null;){ce=xe;var ae=ce.sibling,be=ce.return;if(wS(ce),ce===ee){xe=null;break}if(ae!==null){ae.return=be,xe=ae;break}xe=be}}}var Te=I.alternate;if(Te!==null){var ke=Te.child;if(ke!==null){Te.child=null;do{var Dt=ke.sibling;ke.sibling=null,ke=Dt}while(ke!==null)}}xe=I}}if((I.subtreeFlags&2064)!==0&&z!==null)z.return=I,xe=z;else e:for(;xe!==null;){if(I=xe,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:Wa(9,I,I.return)}var J=I.sibling;if(J!==null){J.return=I.return,xe=J;break e}xe=I.return}}var Y=s.current;for(xe=Y;xe!==null;){z=xe;var Z=z.child;if((z.subtreeFlags&2064)!==0&&Z!==null)Z.return=z,xe=Z;else e:for(z=Y;xe!==null;){if(q=xe,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Ol(9,q)}}catch(je){Et(q,q.return,je)}if(q===z){xe=null;break e}var pe=q.sibling;if(pe!==null){pe.return=q.return,xe=pe;break e}xe=q.return}}if(it=k,Hs(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Xc,s)}catch{}_=!0}return _}finally{ft=u,Yr.transition=i}}return!1}function LS(s,i,u){i=Ci(u,i),i=Zw(s,i,1),s=qs(s,i,1),i=fr(),s!==null&&(ya(s,1,i),_r(s,i))}function Et(s,i,u){if(s.tag===3)LS(s,s,u);else for(;i!==null;){if(i.tag===3){LS(i,s,u);break}else if(i.tag===1){var _=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Ks===null||!Ks.has(_))){s=Ci(u,s),s=eS(i,s,1),i=qs(i,s,1),s=fr(),i!==null&&(ya(i,1,s),_r(i,s));break}}i=i.return}}function VT(s,i,u){var _=s.pingCache;_!==null&&_.delete(i),i=fr(),s.pingedLanes|=s.suspendedLanes&u,Ht===s&&(Kt&u)===u&&(Ft===4||Ft===3&&(Kt&130023424)===Kt&&500>Pt()-lh?Co(s,0):ch|=u),_r(s,i)}function OS(s,i){i===0&&((s.mode&1)===0?i=1:(i=Qc,Qc<<=1,(Qc&130023424)===0&&(Qc=4194304)));var u=fr();s=fs(s,i),s!==null&&(ya(s,i,u),_r(s,u))}function HT(s){var i=s.memoizedState,u=0;i!==null&&(u=i.retryLane),OS(s,u)}function WT(s,i){var u=0;switch(s.tag){case 13:var _=s.stateNode,k=s.memoizedState;k!==null&&(u=k.retryLane);break;case 19:_=s.stateNode;break;default:throw Error(r(314))}_!==null&&_.delete(i),OS(s,u)}var AS;AS=function(s,i,u){if(s!==null)if(s.memoizedProps!==i.pendingProps||yr.current)Sr=!0;else{if((s.lanes&u)===0&&(i.flags&128)===0)return Sr=!1,IT(s,i,u);Sr=(s.flags&131072)!==0}else Sr=!1,wt&&(i.flags&1048576)!==0&&gw(i,wl,i.index);switch(i.lanes=0,i.tag){case 2:var _=i.type;Nl(s,i),s=i.pendingProps;var k=gi(i,rr.current);_i(i,u),k=zp(null,i,_,s,k,u);var I=Bp();return i.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,wr(_)?(I=!0,gl(i)):I=!1,i.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Mp(i),k.updater=Il,i.stateNode=k,k._reactInternals=i,Gp(i,_,s,u),i=Qp(null,i,_,!0,I,u)):(i.tag=0,wt&&I&&xp(i),dr(null,i,k,u),i=i.child),i;case 16:_=i.elementType;e:{switch(Nl(s,i),s=i.pendingProps,k=_._init,_=k(_._payload),i.type=_,k=i.tag=GT(_),s=fn(_,s),k){case 0:i=Yp(null,i,_,s,u);break e;case 1:i=lS(null,i,_,s,u);break e;case 11:i=sS(null,i,_,s,u);break e;case 14:i=oS(null,i,_,fn(_.type,s),u);break e}throw Error(r(306,_,""))}return i;case 0:return _=i.type,k=i.pendingProps,k=i.elementType===_?k:fn(_,k),Yp(s,i,_,k,u);case 1:return _=i.type,k=i.pendingProps,k=i.elementType===_?k:fn(_,k),lS(s,i,_,k,u);case 3:e:{if(uS(i),s===null)throw Error(r(387));_=i.pendingProps,I=i.memoizedState,k=I.element,Rw(s,i),Rl(i,_,null,u);var z=i.memoizedState;if(_=z.element,I.isDehydrated)if(I={element:_,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},i.updateQueue.baseState=I,i.memoizedState=I,i.flags&256){k=Ci(Error(r(423)),i),i=dS(s,i,_,u,k);break e}else if(_!==k){k=Ci(Error(r(424)),i),i=dS(s,i,_,u,k);break e}else for(Lr=Bs(i.stateNode.containerInfo.firstChild),Nr=i,wt=!0,dn=null,u=xw(i,null,_,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(wi(),_===k){i=hs(s,i,u);break e}dr(s,i,_,u)}i=i.child}return i;case 5:return kw(i),s===null&&Ep(i),_=i.type,k=i.pendingProps,I=s!==null?s.memoizedProps:null,z=k.children,vp(_,k)?z=null:I!==null&&vp(_,I)&&(i.flags|=32),cS(s,i),dr(s,i,z,u),i.child;case 6:return s===null&&Ep(i),null;case 13:return fS(s,i,u);case 4:return Np(i,i.stateNode.containerInfo),_=i.pendingProps,s===null?i.child=Si(i,null,_,u):dr(s,i,_,u),i.child;case 11:return _=i.type,k=i.pendingProps,k=i.elementType===_?k:fn(_,k),sS(s,i,_,k,u);case 7:return dr(s,i,i.pendingProps,u),i.child;case 8:return dr(s,i,i.pendingProps.children,u),i.child;case 12:return dr(s,i,i.pendingProps.children,u),i.child;case 10:e:{if(_=i.type._context,k=i.pendingProps,I=i.memoizedProps,z=k.value,mt(_l,_._currentValue),_._currentValue=z,I!==null)if(un(I.value,z)){if(I.children===k.children&&!yr.current){i=hs(s,i,u);break e}}else for(I=i.child,I!==null&&(I.return=i);I!==null;){var q=I.dependencies;if(q!==null){z=I.child;for(var K=q.firstContext;K!==null;){if(K.context===_){if(I.tag===1){K=ps(-1,u&-u),K.tag=2;var ee=I.updateQueue;if(ee!==null){ee=ee.shared;var ce=ee.pending;ce===null?K.next=K:(K.next=ce.next,ce.next=K),ee.pending=K}}I.lanes|=u,K=I.alternate,K!==null&&(K.lanes|=u),jp(I.return,u,i),q.lanes|=u;break}K=K.next}}else if(I.tag===10)z=I.type===i.type?null:I.child;else if(I.tag===18){if(z=I.return,z===null)throw Error(r(341));z.lanes|=u,q=z.alternate,q!==null&&(q.lanes|=u),jp(z,u,i),z=I.sibling}else z=I.child;if(z!==null)z.return=I;else for(z=I;z!==null;){if(z===i){z=null;break}if(I=z.sibling,I!==null){I.return=z.return,z=I;break}z=z.return}I=z}dr(s,i,k.children,u),i=i.child}return i;case 9:return k=i.type,_=i.pendingProps.children,_i(i,u),k=Kr(k),_=_(k),i.flags|=1,dr(s,i,_,u),i.child;case 14:return _=i.type,k=fn(_,i.pendingProps),k=fn(_.type,k),oS(s,i,_,k,u);case 15:return iS(s,i,i.type,i.pendingProps,u);case 17:return _=i.type,k=i.pendingProps,k=i.elementType===_?k:fn(_,k),Nl(s,i),i.tag=1,wr(_)?(s=!0,gl(i)):s=!1,_i(i,u),Qw(i,_,k),Gp(i,_,k,u),Qp(null,i,_,!0,s,u);case 19:return hS(s,i,u);case 22:return aS(s,i,u)}throw Error(r(156,i.tag))};function $S(s,i){return vy(s,i)}function qT(s,i,u,_){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(s,i,u,_){return new qT(s,i,u,_)}function vh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function GT(s){if(typeof s=="function")return vh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===O)return 11;if(s===X)return 14}return 2}function Js(s,i){var u=s.alternate;return u===null?(u=Qr(s.tag,i,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=i,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,i=s.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Wl(s,i,u,_,k,I){var z=2;if(_=s,typeof s=="function")vh(s)&&(z=1);else if(typeof s=="string")z=5;else e:switch(s){case D:return Eo(u.children,k,I,i);case j:z=8,k|=8;break;case L:return s=Qr(12,u,i,k|2),s.elementType=L,s.lanes=I,s;case V:return s=Qr(13,u,i,k),s.elementType=V,s.lanes=I,s;case W:return s=Qr(19,u,i,k),s.elementType=W,s.lanes=I,s;case B:return ql(u,k,I,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:z=10;break e;case A:z=9;break e;case O:z=11;break e;case X:z=14;break e;case M:z=16,_=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return i=Qr(z,u,i,k),i.elementType=s,i.type=_,i.lanes=I,i}function Eo(s,i,u,_){return s=Qr(7,s,_,i),s.lanes=u,s}function ql(s,i,u,_){return s=Qr(22,s,_,i),s.elementType=B,s.lanes=u,s.stateNode={isHidden:!1},s}function yh(s,i,u){return s=Qr(6,s,null,i),s.lanes=u,s}function wh(s,i,u){return i=Qr(4,s.children!==null?s.children:[],s.key,i),i.lanes=u,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function KT(s,i,u,_,k){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qf(0),this.expirationTimes=qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qf(0),this.identifierPrefix=_,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Sh(s,i,u,_,k,I,z,q,K){return s=new KT(s,i,u,q,K),i===1?(i=1,I===!0&&(i|=8)):i=0,I=Qr(3,null,null,i),s.current=I,I.stateNode=s,I.memoizedState={element:_,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mp(I),s}function XT(s,i,u){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:_==null?null:""+_,children:s,containerInfo:i,implementation:u}}function FS(s){if(!s)return Vs;s=s._reactInternals;e:{if(ho(s)!==s||s.tag!==1)throw Error(r(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(wr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(s.tag===1){var u=s.type;if(wr(u))return pw(s,u,i)}return i}function zS(s,i,u,_,k,I,z,q,K){return s=Sh(u,_,!0,s,k,I,z,q,K),s.context=FS(null),u=s.current,_=fr(),k=Ys(u),I=ps(_,k),I.callback=i??null,qs(u,I,k),s.current.lanes=k,ya(s,k,_),_r(s,_),s}function Gl(s,i,u,_){var k=i.current,I=fr(),z=Ys(k);return u=FS(u),i.context===null?i.context=u:i.pendingContext=u,i=ps(I,z),i.payload={element:s},_=_===void 0?null:_,_!==null&&(i.callback=_),s=qs(k,i,z),s!==null&&(mn(s,k,z,I),Cl(s,k,z)),z}function Kl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function BS(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<i?u:i}}function bh(s,i){BS(s,i),(s=s.alternate)&&BS(s,i)}function YT(){return null}var US=typeof reportError=="function"?reportError:function(s){console.error(s)};function _h(s){this._internalRoot=s}Xl.prototype.render=_h.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));Gl(s,i,null,null)},Xl.prototype.unmount=_h.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;xo(function(){Gl(null,s,null,null)}),i[cs]=null}};function Xl(s){this._internalRoot=s}Xl.prototype.unstable_scheduleHydration=function(s){if(s){var i=Ry();s={blockedOn:null,target:s,priority:i};for(var u=0;u<$s.length&&i!==0&&i<$s[u].priority;u++);$s.splice(u,0,s),u===0&&ky(s)}};function xh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Yl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function VS(){}function QT(s,i,u,_,k){if(k){if(typeof _=="function"){var I=_;_=function(){var ee=Kl(z);I.call(ee)}}var z=zS(i,_,s,0,null,!1,!1,"",VS);return s._reactRootContainer=z,s[cs]=z.current,Ia(s.nodeType===8?s.parentNode:s),xo(),z}for(;k=s.lastChild;)s.removeChild(k);if(typeof _=="function"){var q=_;_=function(){var ee=Kl(K);q.call(ee)}}var K=Sh(s,0,!1,null,null,!1,!1,"",VS);return s._reactRootContainer=K,s[cs]=K.current,Ia(s.nodeType===8?s.parentNode:s),xo(function(){Gl(i,K,u,_)}),K}function Ql(s,i,u,_,k){var I=u._reactRootContainer;if(I){var z=I;if(typeof k=="function"){var q=k;k=function(){var K=Kl(z);q.call(K)}}Gl(i,z,s,k)}else z=QT(u,i,s,k,_);return Kl(z)}xy=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var u=va(i.pendingLanes);u!==0&&(Gf(i,u|1),_r(i,Pt()),(it&6)===0&&(Ti=Pt()+500,Hs()))}break;case 13:xo(function(){var _=fs(s,1);if(_!==null){var k=fr();mn(_,s,1,k)}}),bh(s,1)}},Kf=function(s){if(s.tag===13){var i=fs(s,134217728);if(i!==null){var u=fr();mn(i,s,134217728,u)}bh(s,134217728)}},Cy=function(s){if(s.tag===13){var i=Ys(s),u=fs(s,i);if(u!==null){var _=fr();mn(u,s,i,_)}bh(s,i)}},Ry=function(){return ft},Ey=function(s,i){var u=ft;try{return ft=s,i()}finally{ft=u}},zf=function(s,i,u){switch(i){case"input":if(fe(s,u),i=u.name,u.type==="radio"&&i!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var _=u[i];if(_!==s&&_.form===s.form){var k=hl(_);if(!k)throw Error(r(90));He(_),fe(_,k)}}}break;case"textarea":me(s,u);break;case"select":i=u.value,i!=null&&ze(s,!!u.multiple,i,!1)}},uy=hh,dy=xo;var JT={usingClientEntryPoint:!1,Events:[La,hi,hl,cy,ly,hh]},Xa={findFiberByHostInstance:mo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZT={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:h.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=my(s),s===null?null:s.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||YT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{Xc=Jl.inject(ZT),Hn=Jl}catch{}}return xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JT,xr.createPortal=function(s,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xh(i))throw Error(r(200));return XT(s,i,null,u)},xr.createRoot=function(s,i){if(!xh(s))throw Error(r(299));var u=!1,_="",k=US;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(_=i.identifierPrefix),i.onRecoverableError!==void 0&&(k=i.onRecoverableError)),i=Sh(s,1,!1,null,null,u,!1,_,k),s[cs]=i.current,Ia(s.nodeType===8?s.parentNode:s),new _h(i)},xr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=my(i),s=s===null?null:s.stateNode,s},xr.flushSync=function(s){return xo(s)},xr.hydrate=function(s,i,u){if(!Yl(i))throw Error(r(200));return Ql(null,s,i,!0,u)},xr.hydrateRoot=function(s,i,u){if(!xh(s))throw Error(r(405));var _=u!=null&&u.hydratedSources||null,k=!1,I="",z=US;if(u!=null&&(u.unstable_strictMode===!0&&(k=!0),u.identifierPrefix!==void 0&&(I=u.identifierPrefix),u.onRecoverableError!==void 0&&(z=u.onRecoverableError)),i=zS(i,null,s,1,u??null,k,!1,I,z),s[cs]=i.current,Ia(s),_)for(s=0;s<_.length;s++)u=_[s],k=u._getVersion,k=k(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,k]:i.mutableSourceEagerHydrationData.push(u,k);return new Xl(i)},xr.render=function(s,i,u){if(!Yl(i))throw Error(r(200));return Ql(null,s,i,!1,u)},xr.unmountComponentAtNode=function(s){if(!Yl(s))throw Error(r(40));return s._reactRootContainer?(xo(function(){Ql(null,null,s,!1,function(){s._reactRootContainer=null,s[cs]=null})}),!0):!1},xr.unstable_batchedUpdates=hh,xr.unstable_renderSubtreeIntoContainer=function(s,i,u,_){if(!Yl(u))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Ql(s,i,u,!1,_)},xr.version="18.3.1-next-f1338f8080-20240426",xr}var QS;function Q_(){if(QS)return Th.exports;QS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Th.exports=uk(),Th.exports}var JS;function dk(){if(JS)return Zl;JS=1;var e=Q_();return Zl.createRoot=e.createRoot,Zl.hydrateRoot=e.hydrateRoot,Zl}var fk=dk(),P=Id();const St=yg(P),J_=nk({__proto__:null,default:St},[P]);var Dh={exports:{}},jh={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS;function pk(){if(ZS)return jh;ZS=1;var e=Id();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,o=e.useRef,a=e.useEffect,c=e.useMemo,l=e.useDebugValue;return jh.useSyncExternalStoreWithSelector=function(d,f,m,v,g){var w=o(null);if(w.current===null){var b={hasValue:!1,value:null};w.current=b}else b=w.current;w=c(function(){function R(S){if(!T){if(T=!0,x=S,S=v(S),g!==void 0&&b.hasValue){var C=b.value;if(g(C,S))return p=C}return p=S}if(C=p,r(x,S))return C;var D=v(S);return g!==void 0&&g(C,D)?(x=S,C):(x=S,p=D)}var T=!1,x,p,h=m===void 0?null:m;return[function(){return R(f())},h===null?void 0:function(){return R(h())}]},[f,m,v,g]);var E=n(d,w[0],w[1]);return a(function(){b.hasValue=!0,b.value=E},[E]),l(E),E},jh}var eb;function hk(){return eb||(eb=1,Dh.exports=pk()),Dh.exports}var mk=hk();function gk(e){e()}function vk(){let e=null,t=null;return{clear(){e=null,t=null},notify(){gk(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!n||e===null||(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var tb={notify(){},get:()=>[]};function yk(e,t){let r,n=tb,o=0,a=!1;function c(E){m();const R=n.subscribe(E);let T=!1;return()=>{T||(T=!0,R(),v())}}function l(){n.notify()}function d(){b.onStateChange&&b.onStateChange()}function f(){return a}function m(){o++,r||(r=e.subscribe(d),n=vk())}function v(){o--,r&&o===0&&(r(),r=void 0,n.clear(),n=tb)}function g(){a||(a=!0,m())}function w(){a&&(a=!1,v())}const b={addNestedSub:c,notifyNestedSubs:l,handleChangeWrapper:d,isSubscribed:f,trySubscribe:g,tryUnsubscribe:w,getListeners:()=>n};return b}var wk=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sk=wk(),bk=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_k=bk(),xk=()=>Sk||_k?P.useLayoutEffect:P.useEffect,Ck=xk(),Ih=Symbol.for("react-redux-context"),Mh=typeof globalThis<"u"?globalThis:{};function Rk(){if(!P.createContext)return{};const e=Mh[Ih]??(Mh[Ih]=new Map);let t=e.get(P.createContext);return t||(t=P.createContext(null),e.set(P.createContext,t)),t}var io=Rk();function Ek(e){const{children:t,context:r,serverState:n,store:o}=e,a=P.useMemo(()=>{const d=yk(o);return{store:o,subscription:d,getServerState:n?()=>n:void 0}},[o,n]),c=P.useMemo(()=>o.getState(),[o]);Ck(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==o.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,c]);const l=r||io;return P.createElement(l.Provider,{value:a},t)}var Tk=Ek;function wg(e=io){return function(){return P.useContext(e)}}var Z_=wg();function e1(e=io){const t=e===io?Z_:wg(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var kk=e1();function Pk(e=io){const t=e===io?kk:e1(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Dk=Pk(),jk=(e,t)=>e===t;function Ik(e=io){const t=e===io?Z_:wg(e),r=(n,o={})=>{const{equalityFn:a=jk}=typeof o=="function"?{equalityFn:o}:o,c=t(),{store:l,subscription:d,getServerState:f}=c;P.useRef(!0);const m=P.useCallback({[n.name](g){return n(g)}}[n.name],[n]),v=mk.useSyncExternalStoreWithSelector(d.addNestedSub,l.getState,f||l.getState,m,a);return P.useDebugValue(v),v};return Object.assign(r,{withTypes:()=>r}),r}var Mk=Ik(),Qn=function(){return Qn=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Qn.apply(this,arguments)};function t1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Nk(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var vu="right-scroll-bar-position",yu="width-before-scroll-bar",Lk="with-scroll-bars-hidden",Ok="--removed-body-scroll-bar-size";function Nh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Ak(e,t){var r=P.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var $k=typeof window<"u"?P.useLayoutEffect:P.useEffect,rb=new WeakMap;function Fk(e,t){var r=Ak(null,function(n){return e.forEach(function(o){return Nh(o,n)})});return $k(function(){var n=rb.get(r);if(n){var o=new Set(n),a=new Set(e),c=r.current;o.forEach(function(l){a.has(l)||Nh(l,null)}),a.forEach(function(l){o.has(l)||Nh(l,c)})}rb.set(r,e)},[e]),r}function zk(e){return e}function Bk(e,t){t===void 0&&(t=zk);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,n);return r.push(c),function(){r=r.filter(function(l){return l!==c})}},assignSyncMedium:function(a){for(n=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var c=[];if(r.length){var l=r;r=[],l.forEach(a),c=r}var d=function(){var m=c;c=[],m.forEach(a)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(m){c.push(m),f()},filter:function(m){return c=c.filter(m),r}}}};return o}function Uk(e){e===void 0&&(e={});var t=Bk(null);return t.options=Qn({async:!0,ssr:!1},e),t}var r1=function(e){var t=e.sideCar,r=t1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return P.createElement(n,Qn({},r))};r1.isSideCarExport=!0;function Vk(e,t){return e.useMedium(t),r1}var n1=Uk(),Lh=function(){},Md=P.forwardRef(function(e,t){var r=P.useRef(null),n=P.useState({onScrollCapture:Lh,onWheelCapture:Lh,onTouchMoveCapture:Lh}),o=n[0],a=n[1],c=e.forwardProps,l=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,v=e.shards,g=e.sideCar,w=e.noIsolation,b=e.inert,E=e.allowPinchZoom,R=e.as,T=R===void 0?"div":R,x=e.gapMode,p=t1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),h=g,S=Fk([r,t]),C=Qn(Qn({},p),o);return P.createElement(P.Fragment,null,m&&P.createElement(h,{sideCar:n1,removeScrollBar:f,shards:v,noIsolation:w,inert:b,setCallbacks:a,allowPinchZoom:!!E,lockRef:r,gapMode:x}),c?P.cloneElement(P.Children.only(l),Qn(Qn({},C),{ref:S})):P.createElement(T,Qn({},C,{className:d,ref:S}),l))});Md.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Md.classNames={fullWidth:yu,zeroRight:vu};var Hk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Wk(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Hk();return t&&e.setAttribute("nonce",t),e}function qk(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Gk(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Kk=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Wk())&&(qk(t,r),Gk(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Xk=function(){var e=Kk();return function(t,r){P.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},s1=function(){var e=Xk(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},Yk={left:0,top:0,right:0,gap:0},Oh=function(e){return parseInt(e||"",10)||0},Qk=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Oh(r),Oh(n),Oh(o)]},Jk=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Yk;var t=Qk(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Zk=s1(),Fi="data-scroll-locked",eP=function(e,t,r,n){var o=e.left,a=e.top,c=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Lk,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Fi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(yu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(vu," .").concat(vu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(yu," .").concat(yu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Fi,`] {
    `).concat(Ok,": ").concat(l,`px;
  }
`)},nb=function(){var e=parseInt(document.body.getAttribute(Fi)||"0",10);return isFinite(e)?e:0},tP=function(){P.useEffect(function(){return document.body.setAttribute(Fi,(nb()+1).toString()),function(){var e=nb()-1;e<=0?document.body.removeAttribute(Fi):document.body.setAttribute(Fi,e.toString())}},[])},rP=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;tP();var a=P.useMemo(function(){return Jk(o)},[o]);return P.createElement(Zk,{styles:eP(a,!t,o,r?"":"!important")})},Pm=!1;if(typeof window<"u")try{var eu=Object.defineProperty({},"passive",{get:function(){return Pm=!0,!0}});window.addEventListener("test",eu,eu),window.removeEventListener("test",eu,eu)}catch{Pm=!1}var Pi=Pm?{passive:!1}:!1,nP=function(e){return e.tagName==="TEXTAREA"},o1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!nP(e)&&r[t]==="visible")},sP=function(e){return o1(e,"overflowY")},oP=function(e){return o1(e,"overflowX")},sb=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=i1(e,n);if(o){var a=a1(e,n),c=a[1],l=a[2];if(c>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},iP=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},aP=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},i1=function(e,t){return e==="v"?sP(t):oP(t)},a1=function(e,t){return e==="v"?iP(t):aP(t)},cP=function(e,t){return e==="h"&&t==="rtl"?-1:1},lP=function(e,t,r,n,o){var a=cP(e,window.getComputedStyle(t).direction),c=a*n,l=r.target,d=t.contains(l),f=!1,m=c>0,v=0,g=0;do{var w=a1(e,l),b=w[0],E=w[1],R=w[2],T=E-R-a*b;(b||T)&&i1(e,l)&&(v+=T,g+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(m&&Math.abs(v)<1||!m&&Math.abs(g)<1)&&(f=!0),f},tu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ob=function(e){return[e.deltaX,e.deltaY]},ib=function(e){return e&&"current"in e?e.current:e},uP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},dP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fP=0,Di=[];function pP(e){var t=P.useRef([]),r=P.useRef([0,0]),n=P.useRef(),o=P.useState(fP++)[0],a=P.useState(s1)[0],c=P.useRef(e);P.useEffect(function(){c.current=e},[e]),P.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var E=Nk([e.lockRef.current],(e.shards||[]).map(ib),!0).filter(Boolean);return E.forEach(function(R){return R.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),E.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=P.useCallback(function(E,R){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!c.current.allowPinchZoom;var T=tu(E),x=r.current,p="deltaX"in E?E.deltaX:x[0]-T[0],h="deltaY"in E?E.deltaY:x[1]-T[1],S,C=E.target,D=Math.abs(p)>Math.abs(h)?"h":"v";if("touches"in E&&D==="h"&&C.type==="range")return!1;var j=sb(D,C);if(!j)return!0;if(j?S=D:(S=D==="v"?"h":"v",j=sb(D,C)),!j)return!1;if(!n.current&&"changedTouches"in E&&(p||h)&&(n.current=S),!S)return!0;var L=n.current||S;return lP(L,R,E,L==="h"?p:h)},[]),d=P.useCallback(function(E){var R=E;if(!(!Di.length||Di[Di.length-1]!==a)){var T="deltaY"in R?ob(R):tu(R),x=t.current.filter(function(S){return S.name===R.type&&(S.target===R.target||R.target===S.shadowParent)&&uP(S.delta,T)})[0];if(x&&x.should){R.cancelable&&R.preventDefault();return}if(!x){var p=(c.current.shards||[]).map(ib).filter(Boolean).filter(function(S){return S.contains(R.target)}),h=p.length>0?l(R,p[0]):!c.current.noIsolation;h&&R.cancelable&&R.preventDefault()}}},[]),f=P.useCallback(function(E,R,T,x){var p={name:E,delta:R,target:T,should:x,shadowParent:hP(T)};t.current.push(p),setTimeout(function(){t.current=t.current.filter(function(h){return h!==p})},1)},[]),m=P.useCallback(function(E){r.current=tu(E),n.current=void 0},[]),v=P.useCallback(function(E){f(E.type,ob(E),E.target,l(E,e.lockRef.current))},[]),g=P.useCallback(function(E){f(E.type,tu(E),E.target,l(E,e.lockRef.current))},[]);P.useEffect(function(){return Di.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Pi),document.addEventListener("touchmove",d,Pi),document.addEventListener("touchstart",m,Pi),function(){Di=Di.filter(function(E){return E!==a}),document.removeEventListener("wheel",d,Pi),document.removeEventListener("touchmove",d,Pi),document.removeEventListener("touchstart",m,Pi)}},[]);var w=e.removeScrollBar,b=e.inert;return P.createElement(P.Fragment,null,b?P.createElement(a,{styles:dP(o)}):null,w?P.createElement(rP,{gapMode:e.gapMode}):null)}function hP(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mP=Vk(n1,pP);var hd=P.forwardRef(function(e,t){return P.createElement(Md,Qn({},e,{ref:t,sideCar:mP}))});hd.classNames=Md.classNames;function Cr(e){return Object.keys(e)}function Ah(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Sg(e,t){const r={...e},n=t;return Ah(e)&&Ah(t)&&Object.keys(t).forEach(o=>{Ah(n[o])&&o in e?r[o]=Sg(r[o],n[o]):r[o]=n[o]}),r}function gP(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function vP(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function Cc(e){const t=vP(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function $h(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function c1(e,{shouldScale:t=!1}={}){function r(n){if(n===0||n==="0")return`0${e}`;if(typeof n=="number"){const o=`${n/16}${e}`;return t?$h(o):o}if(typeof n=="string"){if(n===""||n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(a=>r(a)).join(",");if(n.includes(" "))return n.split(" ").map(a=>r(a)).join(" ");if(n.includes(e))return t?$h(n):n;const o=n.replace("px","");if(!Number.isNaN(Number(o))){const a=`${Number(o)/16}${e}`;return t?$h(a):a}}return n}return r}const re=c1("rem",{shouldScale:!0}),ab=c1("em");function Zi(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function l1(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(n=>t.test(n))}return!1}function co(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==P.Fragment:!1}function Bn(e){const t=P.createContext(null);return[({children:o,value:a})=>y.jsx(t.Provider,{value:a,children:o}),()=>{const o=P.useContext(t);if(o===null)throw new Error(e);return o}]}function Ko(e=null){const t=P.createContext(e);return[({children:o,value:a})=>y.jsx(t.Provider,{value:a,children:o}),()=>P.useContext(t)]}function cb(e,t){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(t);return`${e}-${r}`}}function md(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function yP(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].disabled)return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].disabled)return n}return e}function wP(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].disabled)return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].disabled)return n}return e}function SP(e,t,r){return md(e,r)===md(t,r)}function u1({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:n=!0,activateOnFocus:o=!1,dir:a="rtl",orientation:c}){return l=>{var b;r==null||r(l);const d=Array.from(((b=md(l.currentTarget,e))==null?void 0:b.querySelectorAll(t))||[]).filter(E=>SP(l.currentTarget,E,e)),f=d.findIndex(E=>l.currentTarget===E),m=wP(f,d,n),v=yP(f,d,n),g=a==="rtl"?v:m,w=a==="rtl"?m:v;switch(l.key){case"ArrowRight":{c==="horizontal"&&(l.stopPropagation(),l.preventDefault(),d[g].focus(),o&&d[g].click());break}case"ArrowLeft":{c==="horizontal"&&(l.stopPropagation(),l.preventDefault(),d[w].focus(),o&&d[w].click());break}case"ArrowUp":{c==="vertical"&&(l.stopPropagation(),l.preventDefault(),d[v].focus(),o&&d[v].click());break}case"ArrowDown":{c==="vertical"&&(l.stopPropagation(),l.preventDefault(),d[m].focus(),o&&d[m].click());break}case"Home":{l.stopPropagation(),l.preventDefault(),!d[0].disabled&&d[0].focus();break}case"End":{l.stopPropagation(),l.preventDefault();const E=d.length-1;!d[E].disabled&&d[E].focus();break}}}}const bP={app:100,modal:200,popover:300,overlay:400,max:9999};function Pr(e){return bP[e]}const Dm=()=>{};function _P(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||Dm:r=>{var n;r.key==="Escape"&&(e(r),(n=t.onTrigger)==null||n.call(t))}}function Xe(e,t="size",r=!0){if(e!==void 0)return l1(e)?r?re(e):e:`var(--${t}-${e})`}function ar(e){return Xe(e,"mantine-spacing")}function kt(e){return e===void 0?"var(--mantine-radius-default)":Xe(e,"mantine-radius")}function cr(e){return Xe(e,"mantine-font-size")}function xP(e){return Xe(e,"mantine-line-height",!1)}function bg(e){if(e)return Xe(e,"mantine-shadow",!1)}function Jn(e,t){return r=>{e==null||e(r),t==null||t(r)}}function CP(e,t){return e in t?Cc(t[e]):Cc(e)}function RP(e,t){const r=e.map(n=>({value:n,px:CP(n,t)}));return r.sort((n,o)=>n.px-o.px),r}function zi(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function EP(e,t,r){var n;return r?Array.from(((n=md(r,t))==null?void 0:n.querySelectorAll(e))||[]).findIndex(o=>o===r):null}function TP(){const[e,t]=P.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Nn(e,t,r){return t===void 0&&r===void 0?e:t!==void 0&&r===void 0?Math.max(e,t):Math.min(t===void 0&&r!==void 0?e:Math.max(e,t),r)}function d1(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function No(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}const kP=()=>{};function Nd(e,t){const r=typeof t=="number"?t:t.delay,n=typeof t=="number"?!1:t.flushOnUnmount,o=No(e),a=P.useRef(0),c=Object.assign(P.useCallback((...l)=>{window.clearTimeout(a.current);const d=()=>{a.current!==0&&(a.current=0,o(...l))};c.flush=d,a.current=window.setTimeout(d,r)},[o,r]),{flush:kP});return P.useEffect(()=>()=>{window.clearTimeout(a.current),n&&c.flush()},[c,n]),c}const lb=["mousedown","touchstart"];function PP(e,t,r){const n=P.useRef(null);return P.useEffect(()=>{const o=a=>{const{target:c}=a??{};if(Array.isArray(r)){const l=(c==null?void 0:c.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(c)&&c.tagName!=="HTML";r.every(f=>!!f&&!a.composedPath().includes(f))&&!l&&e()}else n.current&&!n.current.contains(c)&&e()};return(t||lb).forEach(a=>document.addEventListener(a,o)),()=>{(t||lb).forEach(a=>document.removeEventListener(a,o))}},[n,e,r]),n}function DP({timeout:e=2e3}={}){const[t,r]=P.useState(null),[n,o]=P.useState(!1),[a,c]=P.useState(null),l=m=>{window.clearTimeout(a),c(window.setTimeout(()=>o(!1),e)),o(m)};return{copy:m=>{"clipboard"in navigator?navigator.clipboard.writeText(m).then(()=>l(!0)).catch(v=>r(v)):r(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{o(!1),r(null),window.clearTimeout(a)},error:t,copied:n}}function jP(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function IP(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function MP(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[n,o]=P.useState(r?t:IP(e)),a=P.useRef(null);return P.useEffect(()=>{if("matchMedia"in window)return a.current=window.matchMedia(e),o(a.current.matches),jP(a.current,c=>o(c.matches))},[e]),n}const ea=typeof document<"u"?P.useLayoutEffect:P.useEffect;function Er(e,t){const r=P.useRef(!1);P.useEffect(()=>()=>{r.current=!1},[]),P.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function f1({opened:e,shouldReturnFocus:t=!0}){const r=P.useRef(null),n=()=>{var o;r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&((o=r.current)==null||o.focus({preventScroll:!0}))};return Er(()=>{let o=-1;const a=c=>{c.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",a),e?r.current=document.activeElement:t&&(o=window.setTimeout(n,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",a)}},[e,t]),n}const NP=/input|select|textarea|button|object/,p1="a, input, select, textarea, button, object, [tabindex]";function LP(e){return e.style.display==="none"}function OP(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(LP(r))return!1;r=r.parentNode}return!0}function h1(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function jm(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(h1(e));return(NP.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&OP(e)}function m1(e){const t=h1(e);return(Number.isNaN(t)||t>=0)&&jm(e)}function AP(e){return Array.from(e.querySelectorAll(p1)).filter(m1)}function $P(e,t){const r=AP(e);if(!r.length){t.preventDefault();return}const n=r[t.shiftKey?0:r.length-1],o=e.getRootNode();let a=n===o.activeElement||e===o.activeElement;const c=o.activeElement;if(c.tagName==="INPUT"&&c.getAttribute("type")==="radio"&&(a=r.filter(m=>m.getAttribute("type")==="radio"&&m.getAttribute("name")===c.getAttribute("name")).includes(n)),!a)return;t.preventDefault();const d=r[t.shiftKey?r.length-1:0];d&&d.focus()}function FP(e=!0){const t=P.useRef(null),r=o=>{let a=o.querySelector("[data-autofocus]");if(!a){const c=Array.from(o.querySelectorAll(p1));a=c.find(m1)||c.find(jm)||null,!a&&jm(o)&&(a=o)}a&&a.focus({preventScroll:!0})},n=P.useCallback(o=>{e&&o!==null&&t.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&r(o)}),t.current=o):t.current=null)},[e]);return P.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const o=a=>{a.key==="Tab"&&t.current&&$P(t.current,a)};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e]),n}const zP=e=>(e+1)%1e6;function BP(){const[,e]=P.useReducer(zP,0);return e}const UP=St.useId||(()=>{});function VP(){const e=UP();return e?`mantine-${e.replace(/:/g,"")}`:""}function Ts(e){const t=VP(),[r,n]=P.useState(t);return ea(()=>{n(d1())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function HP(e,t,r){P.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function gd(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function g1(...e){const t=new Map;return r=>{if(e.forEach(n=>{const o=gd(n,r);o&&t.set(n,o)}),t.size>0)return()=>{e.forEach(n=>{const o=t.get(n);o?o():gd(n,null)}),t.clear()}}}function Ut(...e){return P.useCallback(g1(...e),e)}function v1(e){return{x:Nn(e.x,0,1),y:Nn(e.y,0,1)}}function _g(e,t,r="ltr"){const n=P.useRef(null),o=P.useRef(!1),a=P.useRef(!1),c=P.useRef(0),[l,d]=P.useState(!1);return P.useEffect(()=>{o.current=!0},[]),P.useEffect(()=>{const f=n.current,m=({x:p,y:h})=>{cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{if(o.current&&f){f.style.userSelect="none";const S=f.getBoundingClientRect();if(S.width&&S.height){const C=Nn((p-S.left)/S.width,0,1);e({x:r==="ltr"?C:1-C,y:Nn((h-S.top)/S.height,0,1)})}}})},v=()=>{document.addEventListener("mousemove",R),document.addEventListener("mouseup",b),document.addEventListener("touchmove",x),document.addEventListener("touchend",b)},g=()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",b)},w=()=>{!a.current&&o.current&&(a.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),d(!0),v())},b=()=>{a.current&&o.current&&(a.current=!1,d(!1),g(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},E=p=>{w(),p.preventDefault(),R(p)},R=p=>m({x:p.clientX,y:p.clientY}),T=p=>{p.cancelable&&p.preventDefault(),w(),x(p)},x=p=>{p.cancelable&&p.preventDefault(),m({x:p.changedTouches[0].clientX,y:p.changedTouches[0].clientY})};return f==null||f.addEventListener("mousedown",E),f==null||f.addEventListener("touchstart",T,{passive:!1}),()=>{f&&(f.removeEventListener("mousedown",E),f.removeEventListener("touchstart",T))}},[r,e]),{ref:n,active:l}}function Tr({value:e,defaultValue:t,finalValue:r,onChange:n=()=>{}}){const[o,a]=P.useState(t!==void 0?t:r),c=(l,...d)=>{a(l),n==null||n(l,...d)};return e!==void 0?[e,n,!0]:[o,c,!1]}function Ld(e,t){return MP("(prefers-reduced-motion: reduce)",e,t)}function Mt(e=!1,t){const{onOpen:r,onClose:n}={},[o,a]=P.useState(e),c=P.useCallback(()=>{a(f=>f||(r==null||r(),!0))},[r]),l=P.useCallback(()=>{a(f=>f&&(n==null||n(),!1))},[n]),d=P.useCallback(()=>{o?l():c()},[l,c,o]);return[o,{open:c,close:l,toggle:d}]}function WP(e){const t=P.useRef(void 0);return P.useEffect(()=>{t.current=e},[e]),t.current}function qP(){return navigator.userAgent.includes("OPR")}function GP(){const[e,t]=P.useState(!1);ea(()=>{t(typeof window<"u"&&!qP()&&"EyeDropper"in window)},[]);const r=P.useCallback((n={})=>e?new window.EyeDropper().open(n):Promise.resolve(void 0),[e]);return{supported:e,open:r}}var KP={};function XP(){return typeof process<"u"&&KP?"production":"development"}function ub(e,t){return t.length===0?e:t.reduce((r,n)=>Math.abs(n-e)<Math.abs(r-e)?n:r)}function Od(e){var r;const t=St.version;return typeof St.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(r=e==null?void 0:e.props)==null?void 0:r.ref}function y1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=y1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qt(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=y1(e))&&(n&&(n+=" "),n+=t);return n}const YP={};function QP(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([n,o])=>{t[n]?t[n]=qt(t[n],o):t[n]=o})}),t}function Ad({theme:e,classNames:t,props:r,stylesCtx:n}){const a=(Array.isArray(t)?t:[t]).map(c=>typeof c=="function"?c(e,r,n):c||YP);return QP(a)}function vd({theme:e,styles:t,props:r,stylesCtx:n}){return(Array.isArray(t)?t:[t]).reduce((a,c)=>typeof c=="function"?{...a,...c(e,r,n)}:{...a,...c},{})}const w1=P.createContext(null);function lo(){const e=P.useContext(w1);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function JP(){return lo().cssVariablesResolver}function ZP(){return lo().classNamesPrefix}function xg(){return lo().getStyleNonce}function eD(){return lo().withStaticClasses}function tD(){return lo().headless}function rD(){var e;return(e=lo().stylesTransform)==null?void 0:e.sx}function nD(){var e;return(e=lo().stylesTransform)==null?void 0:e.styles}function S1(){return lo().env||"default"}function sD(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function oD(e){let t=e.replace("#","");if(t.length===3){const c=t.split("");t=[c[0],c[0],c[1],c[1],c[2],c[2]].join("")}if(t.length===8){const c=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:c}}const r=parseInt(t,16),n=r>>16&255,o=r>>8&255,a=r&255;return{r:n,g:o,b:a,a:1}}function iD(e){const[t,r,n,o]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:n,a:o||1}}function aD(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const n=parseInt(r[1],10),o=parseInt(r[2],10)/100,a=parseInt(r[3],10)/100,c=r[5]?parseFloat(r[5]):void 0,l=(1-Math.abs(2*a-1))*o,d=n/60,f=l*(1-Math.abs(d%2-1)),m=a-l/2;let v,g,w;return d>=0&&d<1?(v=l,g=f,w=0):d>=1&&d<2?(v=f,g=l,w=0):d>=2&&d<3?(v=0,g=l,w=f):d>=3&&d<4?(v=0,g=f,w=l):d>=4&&d<5?(v=f,g=0,w=l):(v=l,g=0,w=f),{r:Math.round((v+m)*255),g:Math.round((g+m)*255),b:Math.round((w+m)*255),a:c||1}}function Cg(e){return sD(e)?oD(e):e.startsWith("rgb")?iD(e):e.startsWith("hsl")?aD(e):{r:0,g:0,b:0,a:1}}function ru(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:n,b:o,a}=Cg(e),c=1-t,l=d=>Math.round(d*c);return`rgba(${l(r)}, ${l(n)}, ${l(o)}, ${a})`}function Rc(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function Fh(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function cD(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function lD(e){if(e.startsWith("oklch("))return(cD(e)||0)/100;const{r:t,g:r,b:n}=Cg(e),o=t/255,a=r/255,c=n/255,l=Fh(o),d=Fh(a),f=Fh(c);return .2126*l+.7152*d+.0722*f}function Qa(e,t=.179){return e.startsWith("var(")?!1:lD(e)>t}function ta({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Qa(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Qa(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Qa(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[n,o]=e.split("."),a=o?Number(o):void 0,c=n in t.colors;if(c){const l=a!==void 0?t.colors[n][a]:t.colors[n][Rc(t,r||"light")];return{color:n,value:l,shade:a,isThemeColor:c,isLight:Qa(l,t.luminanceThreshold),variable:o?`--mantine-color-${n}-${a}`:`--mantine-color-${n}-filled`}}return{color:e,value:e,isThemeColor:c,isLight:Qa(e,t.luminanceThreshold),shade:a,variable:void 0}}function gr(e,t){const r=ta({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function Im(e,t){const r={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},n=gr(r.from,t),o=gr(r.to,t);return`linear-gradient(${r.deg}deg, ${n} 0%, ${o} 100%)`}function Yn(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const a=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${a}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:n,b:o}=Cg(e);return`rgba(${r}, ${n}, ${o}, ${t})`}const ji=Yn,uD=({color:e,theme:t,variant:r,gradient:n,autoContrast:o})=>{const a=ta({color:e,theme:t}),c=typeof o=="boolean"?o:t.autoContrast;if(r==="filled"){const l=c&&a.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return a.isThemeColor?a.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:l,border:`${re(1)} solid transparent`}:{background:`var(--mantine-color-${a.color}-${a.shade})`,hover:`var(--mantine-color-${a.color}-${a.shade===9?8:a.shade+1})`,color:l,border:`${re(1)} solid transparent`}:{background:e,hover:ru(e,.1),color:l,border:`${re(1)} solid transparent`}}if(r==="light"){if(a.isThemeColor){if(a.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${re(1)} solid transparent`};const l=t.colors[a.color][a.shade];return{background:Yn(l,.1),hover:Yn(l,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${re(1)} solid transparent`}}return{background:Yn(e,.1),hover:Yn(e,.12),color:e,border:`${re(1)} solid transparent`}}if(r==="outline")return a.isThemeColor?a.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${re(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Yn(t.colors[a.color][a.shade],.05),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${re(1)} solid var(--mantine-color-${a.color}-${a.shade})`}:{background:"transparent",hover:Yn(e,.05),color:e,border:`${re(1)} solid ${e}`};if(r==="subtle"){if(a.isThemeColor){if(a.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${re(1)} solid transparent`};const l=t.colors[a.color][a.shade];return{background:"transparent",hover:Yn(l,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${re(1)} solid transparent`}}return{background:"transparent",hover:Yn(e,.12),color:e,border:`${re(1)} solid transparent`}}return r==="transparent"?a.isThemeColor?a.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${re(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${re(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${re(1)} solid transparent`}:r==="white"?a.isThemeColor?a.shade===void 0?{background:"var(--mantine-color-white)",hover:ru(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${re(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:ru(t.white,.01),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${re(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:ru(t.white,.01),color:e,border:`${re(1)} solid transparent`}:r==="gradient"?{background:Im(n,t),hover:Im(n,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${re(1)} solid var(--mantine-color-default-border)`}:{}},dD={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},db="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Rg={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:dD,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:uD,autoContrast:!1,luminanceThreshold:.3,fontFamily:db,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:db,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:re(34),lineHeight:"1.3"},h2:{fontSize:re(26),lineHeight:"1.35"},h3:{fontSize:re(22),lineHeight:"1.4"},h4:{fontSize:re(18),lineHeight:"1.45"},h5:{fontSize:re(16),lineHeight:"1.5"},h6:{fontSize:re(14),lineHeight:"1.5"}}},fontSizes:{xs:re(12),sm:re(14),md:re(16),lg:re(18),xl:re(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:re(2),sm:re(4),md:re(8),lg:re(16),xl:re(32)},spacing:{xs:re(10),sm:re(12),md:re(16),lg:re(20),xl:re(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${re(1)} ${re(3)} rgba(0, 0, 0, 0.05), 0 ${re(1)} ${re(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${re(1)} ${re(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${re(10)} ${re(15)} ${re(-5)}, rgba(0, 0, 0, 0.04) 0 ${re(7)} ${re(7)} ${re(-5)}`,md:`0 ${re(1)} ${re(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${re(20)} ${re(25)} ${re(-5)}, rgba(0, 0, 0, 0.04) 0 ${re(10)} ${re(10)} ${re(-5)}`,lg:`0 ${re(1)} ${re(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${re(28)} ${re(23)} ${re(-7)}, rgba(0, 0, 0, 0.04) 0 ${re(12)} ${re(12)} ${re(-7)}`,xl:`0 ${re(1)} ${re(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${re(36)} ${re(28)} ${re(-7)}, rgba(0, 0, 0, 0.04) 0 ${re(17)} ${re(17)} ${re(-7)}`},other:{},components:{}};function fb(e){return e==="auto"||e==="dark"||e==="light"}function fD({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const n=window.localStorage.getItem(e);return fb(n)?n:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:r=>{t=n=>{n.storageArea===window.localStorage&&n.key===e&&fb(n.newValue)&&r(n.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const pD="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",pb="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function zh(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function hb(e){if(!(e.primaryColor in e.colors))throw new Error(pD);if(typeof e.primaryShade=="object"&&(!zh(e.primaryShade.dark)||!zh(e.primaryShade.light)))throw new Error(pb);if(typeof e.primaryShade=="number"&&!zh(e.primaryShade))throw new Error(pb)}function hD(e,t){var n;if(!t)return hb(e),e;const r=Sg(e,t);return t.fontFamily&&!((n=t.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=t.fontFamily),hb(r),r}const Eg=P.createContext(null),mD=()=>P.useContext(Eg)||Rg;function lr(){const e=P.useContext(Eg);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function b1({theme:e,children:t,inherit:r=!0}){const n=mD(),o=P.useMemo(()=>hD(r?n:Rg,e),[e,n,r]);return y.jsx(Eg.Provider,{value:o,children:t})}b1.displayName="@mantine/core/MantineThemeProvider";function gD(){const e=lr(),t=xg(),r=Cr(e.breakpoints).reduce((n,o)=>{const a=e.breakpoints[o].includes("px"),c=Cc(e.breakpoints[o]),l=a?`${c-.1}px`:ab(c-.1),d=a?`${c}px`:ab(c);return`${n}@media (max-width: ${l}) {.mantine-visible-from-${o} {display: none !important;}}@media (min-width: ${d}) {.mantine-hidden-from-${o} {display: none !important;}}`},"");return y.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:r}})}function Bh(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function Ja(e,t){return(Array.isArray(e)?e:[e]).reduce((n,o)=>`${o}{${n}}`,t)}function vD(e,t){const r=Bh(e.variables),n=r?Ja(t,r):"",o=Bh(e.dark),a=Bh(e.light),c=o?Ja(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,o):"",l=a?Ja(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,a):"";return`${n}${c}${l}`}function Tg({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&ta({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function mb(e,t){return Tg({color:e.colors[e.primaryColor][Rc(e,t)],theme:e,autoContrast:null})}function nu({theme:e,color:t,colorScheme:r,name:n=t,withColorValues:o=!0}){if(!e.colors[t])return{};if(r==="light"){const l=Rc(e,"light"),d={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${l===9?8:l+1})`,[`--mantine-color-${n}-light`]:ji(e.colors[t][l],.1),[`--mantine-color-${n}-light-hover`]:ji(e.colors[t][l],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${l})`,[`--mantine-color-${n}-outline-hover`]:ji(e.colors[t][l],.05)};return o?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...d}:d}const a=Rc(e,"dark"),c={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${a===9?8:a+1})`,[`--mantine-color-${n}-light`]:ji(e.colors[t][Math.max(0,a-2)],.15),[`--mantine-color-${n}-light-hover`]:ji(e.colors[t][Math.max(0,a-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(a-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(a-4,0)})`,[`--mantine-color-${n}-outline-hover`]:ji(e.colors[t][Math.max(a-4,0)],.05)};return o?{[`--mantine-color-${n}-0`]:e.colors[t][0],[`--mantine-color-${n}-1`]:e.colors[t][1],[`--mantine-color-${n}-2`]:e.colors[t][2],[`--mantine-color-${n}-3`]:e.colors[t][3],[`--mantine-color-${n}-4`]:e.colors[t][4],[`--mantine-color-${n}-5`]:e.colors[t][5],[`--mantine-color-${n}-6`]:e.colors[t][6],[`--mantine-color-${n}-7`]:e.colors[t][7],[`--mantine-color-${n}-8`]:e.colors[t][8],[`--mantine-color-${n}-9`]:e.colors[t][9],...c}:c}function yD(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Ii(e,t,r){Cr(t).forEach(n=>Object.assign(e,{[`--mantine-${r}-${n}`]:t[n]}))}const _1=e=>{const t=Rc(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:re(e.defaultRadius),n={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":mb(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":mb(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Ii(n.variables,e.breakpoints,"breakpoint"),Ii(n.variables,e.spacing,"spacing"),Ii(n.variables,e.fontSizes,"font-size"),Ii(n.variables,e.lineHeights,"line-height"),Ii(n.variables,e.shadows,"shadow"),Ii(n.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((a,c)=>{n.variables[`--mantine-primary-color-${c}`]=`var(--mantine-color-${e.primaryColor}-${c})`}),Cr(e.colors).forEach(a=>{const c=e.colors[a];if(yD(c)){Object.assign(n.light,nu({theme:e,name:c.name,color:c.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,nu({theme:e,name:c.name,color:c.dark,colorScheme:"dark",withColorValues:!0}));return}c.forEach((l,d)=>{n.variables[`--mantine-color-${a}-${d}`]=l}),Object.assign(n.light,nu({theme:e,color:a,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,nu({theme:e,color:a,colorScheme:"dark",withColorValues:!1}))});const o=e.headings.sizes;return Cr(o).forEach(a=>{n.variables[`--mantine-${a}-font-size`]=o[a].fontSize,n.variables[`--mantine-${a}-line-height`]=o[a].lineHeight,n.variables[`--mantine-${a}-font-weight`]=o[a].fontWeight||e.headings.fontWeight}),n};function wD({theme:e,generator:t}){const r=_1(e),n=t==null?void 0:t(e);return n?Sg(r,n):r}const Uh=_1(Rg);function SD(e){const t={variables:{},light:{},dark:{}};return Cr(e.variables).forEach(r=>{Uh.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),Cr(e.light).forEach(r=>{Uh.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),Cr(e.dark).forEach(r=>{Uh.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function bD(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function x1({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=lr(),n=xg(),o=JP(),a=wD({theme:r,generator:o}),c=e===":root"&&t,l=c?SD(a):a,d=vD(l,e);return d?y.jsx("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${d}${c?"":bD(e)}`}}):null}x1.displayName="@mantine/CssVariables";function _D(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function Mi(e,t){var o,a;const r=typeof window<"u"&&"matchMedia"in window&&((o=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:o.matches),n=e!=="auto"?e:r?"dark":"light";(a=t())==null||a.setAttribute("data-mantine-color-scheme",n)}function xD({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:n}){const o=P.useRef(null),[a,c]=P.useState(()=>e.get(t)),l=n||a,d=P.useCallback(m=>{n||(Mi(m,r),c(m),e.set(m))},[e.set,l,n]),f=P.useCallback(()=>{c(t),Mi(t,r),e.clear()},[e.clear,t]);return P.useEffect(()=>(e.subscribe(d),e.unsubscribe),[e.subscribe,e.unsubscribe]),ea(()=>{Mi(e.get(t),r)},[]),P.useEffect(()=>{var v;if(n)return Mi(n,r),()=>{};n===void 0&&Mi(a,r),typeof window<"u"&&"matchMedia"in window&&(o.current=window.matchMedia("(prefers-color-scheme: dark)"));const m=g=>{a==="auto"&&Mi(g.matches?"dark":"light",r)};return(v=o.current)==null||v.addEventListener("change",m),()=>{var g;return(g=o.current)==null?void 0:g.removeEventListener("change",m)}},[a,n]),{colorScheme:l,setColorScheme:d,clearColorScheme:f}}function CD({respectReducedMotion:e,getRootElement:t}){ea(()=>{var r;e&&((r=t())==null||r.setAttribute("data-respect-reduced-motion","true"))},[e])}_D();function C1({theme:e,children:t,getStyleNonce:r,withStaticClasses:n=!0,withGlobalClasses:o=!0,deduplicateCssVariables:a=!0,withCssVariables:c=!0,cssVariablesSelector:l=":root",classNamesPrefix:d="mantine",colorSchemeManager:f=fD(),defaultColorScheme:m="light",getRootElement:v=()=>document.documentElement,cssVariablesResolver:g,forceColorScheme:w,stylesTransform:b,env:E}){const{colorScheme:R,setColorScheme:T,clearColorScheme:x}=xD({defaultColorScheme:m,forceColorScheme:w,manager:f,getRootElement:v});return CD({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:v}),y.jsx(w1.Provider,{value:{colorScheme:R,setColorScheme:T,clearColorScheme:x,getRootElement:v,classNamesPrefix:d,getStyleNonce:r,cssVariablesResolver:g,cssVariablesSelector:l,withStaticClasses:n,stylesTransform:b,env:E},children:y.jsxs(b1,{theme:e,children:[c&&y.jsx(x1,{cssVariablesSelector:l,deduplicateCssVariables:a}),o&&y.jsx(gD,{}),t]})})}C1.displayName="@mantine/core/MantineProvider";function Xo({classNames:e,styles:t,props:r,stylesCtx:n}){const o=lr();return{resolvedClassNames:Ad({theme:o,classNames:e,props:r,stylesCtx:n||void 0}),resolvedStyles:vd({theme:o,styles:t,props:r,stylesCtx:n||void 0})}}const RD={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function ED({theme:e,options:t,unstyled:r}){return qt((t==null?void 0:t.focusable)&&!r&&(e.focusClassName||RD[e.focusRing]),(t==null?void 0:t.active)&&!r&&e.activeClassName)}function TD({selector:e,stylesCtx:t,options:r,props:n,theme:o}){return Ad({theme:o,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||n,stylesCtx:t})[e]}function gb({selector:e,stylesCtx:t,theme:r,classNames:n,props:o}){return Ad({theme:r,classNames:n,props:o,stylesCtx:t})[e]}function kD({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function PD({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function DD({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:n}){return n===!1?[]:e.map(o=>`${t}-${o}-${r}`)}function jD({themeName:e,theme:t,selector:r,props:n,stylesCtx:o}){return e.map(a=>{var c,l;return(l=Ad({theme:t,classNames:(c=t.components[a])==null?void 0:c.classNames,props:n,stylesCtx:o}))==null?void 0:l[r]})}function ID({options:e,classes:t,selector:r,unstyled:n}){return e!=null&&e.variant&&!n?t[`${r}--${e.variant}`]:void 0}function MD({theme:e,options:t,themeName:r,selector:n,classNamesPrefix:o,classNames:a,classes:c,unstyled:l,className:d,rootSelector:f,props:m,stylesCtx:v,withStaticClasses:g,headless:w,transformedStyles:b}){return qt(ED({theme:e,options:t,unstyled:l||w}),jD({theme:e,themeName:r,selector:n,props:m,stylesCtx:v}),ID({options:t,classes:c,selector:n,unstyled:l}),gb({selector:n,stylesCtx:v,theme:e,classNames:a,props:m}),gb({selector:n,stylesCtx:v,theme:e,classNames:b,props:m}),TD({selector:n,stylesCtx:v,options:t,props:m,theme:e}),kD({rootSelector:f,selector:n,className:d}),PD({selector:n,classes:c,unstyled:l||w}),g&&!w&&DD({themeName:r,classNamesPrefix:o,selector:n,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function ND({theme:e,themeName:t,props:r,stylesCtx:n,selector:o}){return t.map(a=>{var c;return vd({theme:e,styles:(c=e.components[a])==null?void 0:c.styles,props:r,stylesCtx:n})[o]}).reduce((a,c)=>({...a,...c}),{})}function Mm({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Mm({style:n,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function LD(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(n=>{t[n]={...t[n],...Zi(r[n])}}),t),{})}function OD({vars:e,varsResolver:t,theme:r,props:n,stylesCtx:o,selector:a,themeName:c,headless:l}){var d;return(d=LD([l?{}:t==null?void 0:t(r,n,o),...c.map(f=>{var m,v,g;return(g=(v=(m=r.components)==null?void 0:m[f])==null?void 0:v.vars)==null?void 0:g.call(v,r,n,o)}),e==null?void 0:e(r,n,o)]))==null?void 0:d[a]}function AD({theme:e,themeName:t,selector:r,options:n,props:o,stylesCtx:a,rootSelector:c,styles:l,style:d,vars:f,varsResolver:m,headless:v,withStylesTransform:g}){return{...!g&&ND({theme:e,themeName:t,props:o,stylesCtx:a,selector:r}),...!g&&vd({theme:e,styles:l,props:o,stylesCtx:a})[r],...!g&&vd({theme:e,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||o,stylesCtx:a})[r],...OD({theme:e,props:o,stylesCtx:a,vars:f,varsResolver:m,selector:r,themeName:t,headless:v}),...c===r?Mm({style:d,theme:e}):null,...Mm({style:n==null?void 0:n.style,theme:e})}}function $D({props:e,stylesCtx:t,themeName:r}){var c;const n=lr(),o=(c=nD())==null?void 0:c();return{getTransformedStyles:l=>o?[...l.map(f=>o(f,{props:e,theme:n,ctx:t})),...r.map(f=>{var m;return o((m=n.components[f])==null?void 0:m.styles,{props:e,theme:n,ctx:t})})].filter(Boolean):[],withStylesTransform:!!o}}function Ae({name:e,classes:t,props:r,stylesCtx:n,className:o,style:a,rootSelector:c="root",unstyled:l,classNames:d,styles:f,vars:m,varsResolver:v}){const g=lr(),w=ZP(),b=eD(),E=tD(),R=(Array.isArray(e)?e:[e]).filter(p=>p),{withStylesTransform:T,getTransformedStyles:x}=$D({props:r,stylesCtx:n,themeName:R});return(p,h)=>({className:MD({theme:g,options:h,themeName:R,selector:p,classNamesPrefix:w,classNames:d,classes:t,unstyled:l,className:o,rootSelector:c,props:r,stylesCtx:n,withStaticClasses:b,headless:E,transformedStyles:x([h==null?void 0:h.styles,f])}),style:AD({theme:g,themeName:R,selector:p,options:h,props:r,stylesCtx:n,rootSelector:c,styles:f,style:a,vars:m,varsResolver:v,headless:E,withStylesTransform:T})})}function R1(e,t){return typeof e=="boolean"?e:t.autoContrast}function ie(e,t,r){var c;const n=lr(),o=(c=n.components[e])==null?void 0:c.defaultProps,a=typeof o=="function"?o(n):o;return{...t,...a,...Zi(r)}}function Vh(e){return Cr(e).reduce((t,r)=>e[r]!==void 0?`${t}${gP(r)}:${e[r]};`:t,"").trim()}function FD({selector:e,styles:t,media:r,container:n}){const o=t?Vh(t):"",a=Array.isArray(r)?r.map(l=>`@media${l.query}{${e}{${Vh(l.styles)}}}`):[],c=Array.isArray(n)?n.map(l=>`@container ${l.query}{${e}{${Vh(l.styles)}}}`):[];return`${o?`${e}{${o}}`:""}${a.join("")}${c.join("")}`.trim()}function $d(e){const t=xg();return y.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:FD(e)}})}function Nc(e){const{m:t,mx:r,my:n,mt:o,mb:a,ml:c,mr:l,me:d,ms:f,p:m,px:v,py:g,pt:w,pb:b,pl:E,pr:R,pe:T,ps:x,bd:p,bg:h,c:S,opacity:C,ff:D,fz:j,fw:L,lts:N,ta:A,lh:O,fs:V,tt:W,td:X,w:M,miw:B,maw:$,h:F,mih:H,mah:U,bgsz:G,bgp:ne,bgr:ue,bga:Q,pos:se,top:le,left:ge,bottom:te,right:he,inset:_e,display:He,flex:qe,hiddenFrom:Qe,visibleFrom:ot,lightHidden:dt,darkHidden:fe,sx:we,...Ee}=e;return{styleProps:Zi({m:t,mx:r,my:n,mt:o,mb:a,ml:c,mr:l,me:d,ms:f,p:m,px:v,py:g,pt:w,pb:b,pl:E,pr:R,pe:T,ps:x,bd:p,bg:h,c:S,opacity:C,ff:D,fz:j,fw:L,lts:N,ta:A,lh:O,fs:V,tt:W,td:X,w:M,miw:B,maw:$,h:F,mih:H,mah:U,bgsz:G,bgp:ne,bgr:ue,bga:Q,pos:se,top:le,left:ge,bottom:te,right:he,inset:_e,display:He,flex:qe,hiddenFrom:Qe,visibleFrom:ot,lightHidden:dt,darkHidden:fe,sx:we}),rest:Ee}}const zD={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function kg(e,t){const r=ta({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function BD(e,t){const r=ta({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:kg(e,t)}function UD(e,t){if(typeof e=="number")return re(e);if(typeof e=="string"){const[r,n,...o]=e.split(" ").filter(c=>c.trim()!=="");let a=`${re(r)}`;return n&&(a+=` ${n}`),o.length>0&&(a+=` ${kg(o.join(" "),t)}`),a.trim()}return e}const vb={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function VD(e){return typeof e=="string"&&e in vb?vb[e]:e}const HD=["h1","h2","h3","h4","h5","h6"];function WD(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&HD.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?re(e):e}function qD(e){return e}const GD=["h1","h2","h3","h4","h5","h6"];function KD(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&GD.includes(e)?`var(--mantine-${e}-line-height)`:e}function XD(e){return typeof e=="number"?re(e):e}function YD(e,t){if(typeof e=="number")return re(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return re(e);const n=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return e}const Hh={color:kg,textColor:BD,fontSize:WD,spacing:YD,identity:qD,size:XD,lineHeight:KD,fontFamily:VD,border:UD};function yb(e){return e.replace("(min-width: ","").replace("em)","")}function QD({media:e,...t}){const n=Object.keys(e).sort((o,a)=>Number(yb(o))-Number(yb(a))).map(o=>({query:o,styles:e[o]}));return{...t,media:n}}function JD(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function ZD(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function ej(e){return typeof e=="object"&&e!==null?Cr(e).filter(t=>t!=="base"):[]}function tj(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function E1({styleProps:e,data:t,theme:r}){return QD(Cr(e).reduce((n,o)=>{if(o==="hiddenFrom"||o==="visibleFrom"||o==="sx")return n;const a=t[o],c=Array.isArray(a.property)?a.property:[a.property],l=ZD(e[o]);if(!JD(e[o]))return c.forEach(f=>{n.inlineStyles[f]=Hh[a.type](l,r)}),n;n.hasResponsiveStyles=!0;const d=ej(e[o]);return c.forEach(f=>{l&&(n.styles[f]=Hh[a.type](l,r)),d.forEach(m=>{const v=`(min-width: ${r.breakpoints[m]})`;n.media[v]={...n.media[v],[f]:Hh[a.type](tj(e[o],m),r)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function Pg(){return`__m__-${P.useId().replace(/:/g,"")}`}function Dg(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Dg(n,t)}),{}):typeof e=="function"?e(t):e??{}}function T1(e){return e.startsWith("data-")?e:`data-${e}`}function rj(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return n===void 0||n===""||n===!1||n===null||(t[T1(r)]=e[r]),t},{})}function k1(e){return e?typeof e=="string"?{[T1(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...k1(r)}),{}):rj(e):null}function Nm(e,t){return Array.isArray(e)?[...e].reduce((r,n)=>({...r,...Nm(n,t)}),{}):typeof e=="function"?e(t):e??{}}function nj({theme:e,style:t,vars:r,styleProps:n}){const o=Nm(t,e),a=Nm(r,e);return{...o,...a,...n}}const P1=P.forwardRef(({component:e,style:t,__vars:r,className:n,variant:o,mod:a,size:c,hiddenFrom:l,visibleFrom:d,lightHidden:f,darkHidden:m,renderRoot:v,__size:g,...w},b)=>{var j;const E=lr(),R=e||"div",{styleProps:T,rest:x}=Nc(w),p=rD(),h=(j=p==null?void 0:p())==null?void 0:j(T.sx),S=Pg(),C=E1({styleProps:T,theme:E,data:zD}),D={ref:b,style:nj({theme:E,style:t,vars:r,styleProps:C.inlineStyles}),className:qt(n,h,{[S]:C.hasResponsiveStyles,"mantine-light-hidden":f,"mantine-dark-hidden":m,[`mantine-hidden-from-${l}`]:l,[`mantine-visible-from-${d}`]:d}),"data-variant":o,"data-size":l1(c)?void 0:c||void 0,size:g,...k1(a),...x};return y.jsxs(y.Fragment,{children:[C.hasResponsiveStyles&&y.jsx($d,{selector:`.${S}`,styles:C.styles,media:C.media}),typeof v=="function"?v(D):y.jsx(R,{...D})]})});P1.displayName="@mantine/core/Box";const oe=P1;function D1(e){return e}function sj(e){const t=e;return r=>{const n=P.forwardRef((o,a)=>y.jsx(t,{...r,...o,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n}}function ye(e){const t=P.forwardRef(e);return t.extend=D1,t.withProps=r=>{const n=P.forwardRef((o,a)=>y.jsx(t,{...r,...o,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t}function Zt(e){const t=P.forwardRef(e);return t.withProps=r=>{const n=P.forwardRef((o,a)=>y.jsx(t,{...r,...o,ref:a}));return n.extend=t.extend,n.displayName=`WithProps(${t.displayName})`,n},t.extend=D1,t}const oj=P.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function uo(){return P.useContext(oj)}var Fd=Q_();const fc=yg(Fd);function ij(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Wh(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const Za=typeof window<"u"&&window.requestAnimationFrame;function aj({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:n}){const o=P.useRef(null),a=0,c={display:"none",height:0,overflow:"hidden"},[l,d]=P.useState(n?{}:c),f=b=>{Fd.flushSync(()=>d(b))},m=b=>{f(E=>({...E,...b}))};function v(b){const E=e||ij(b);return{transition:`height ${E}ms ${t}, opacity ${E}ms ${t}`}}Er(()=>{typeof Za=="function"&&Za(n?()=>{m({willChange:"height",display:"block",overflow:"hidden"}),Za(()=>{const b=Wh(o);m({...v(b),height:b})})}:()=>{const b=Wh(o);m({...v(b),willChange:"height",height:b}),Za(()=>m({height:a,overflow:"hidden"}))})},[n]);const g=b=>{if(!(b.target!==o.current||b.propertyName!=="height"))if(n){const E=Wh(o);E===l.height?f({}):m({height:E}),r()}else l.height===a&&(f(c),r())};function w({style:b={},refKey:E="ref",...R}={}){const T=R[E];return{"aria-hidden":!n,...R,[E]:g1(o,T),onTransitionEnd:g,style:{boxSizing:"border-box",...b,...l}}}return w}const cj={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},zd=ye((e,t)=>{const{children:r,in:n,transitionDuration:o,transitionTimingFunction:a,style:c,onTransitionEnd:l,animateOpacity:d,...f}=ie("Collapse",cj,e),m=lr(),v=Ld(),w=(m.respectReducedMotion?v:!1)?0:o,b=aj({opened:n,transitionDuration:w,transitionTimingFunction:a,onTransitionEnd:l});return w===0?n?y.jsx(oe,{...f,children:r}):null:y.jsx(oe,{...b({style:{opacity:n||!d?1:0,transition:d?`opacity ${w}ms ${a}`:"none",...Dg(c,m)},ref:t,...f}),children:r})});zd.displayName="@mantine/core/Collapse";function Bd(){return typeof window<"u"}function ra(e){return j1(e)?(e.nodeName||"").toLowerCase():"#document"}function Rr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function is(e){var t;return(t=(j1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function j1(e){return Bd()?e instanceof Node||e instanceof Rr(e).Node:!1}function yt(e){return Bd()?e instanceof Element||e instanceof Rr(e).Element:!1}function Ur(e){return Bd()?e instanceof HTMLElement||e instanceof Rr(e).HTMLElement:!1}function Lm(e){return!Bd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rr(e).ShadowRoot}function Lc(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=rn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function lj(e){return["table","td","th"].includes(ra(e))}function Ud(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function jg(e){const t=Vd(),r=yt(e)?rn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function uj(e){let t=xs(e);for(;Ur(t)&&!ao(t);){if(jg(t))return t;if(Ud(t))return null;t=xs(t)}return null}function Vd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ao(e){return["html","body","#document"].includes(ra(e))}function rn(e){return Rr(e).getComputedStyle(e)}function Hd(e){return yt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xs(e){if(ra(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Lm(e)&&e.host||is(e);return Lm(t)?t.host:t}function I1(e){const t=xs(e);return ao(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ur(t)&&Lc(t)?t:I1(t)}function ys(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=I1(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),c=Rr(o);if(a){const l=Om(c);return t.concat(c,c.visualViewport||[],Lc(o)?o:[],l&&r?ys(l):[])}return t.concat(o,ys(o,[],r))}function Om(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wb(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function Ec(e,t){if(!e||!t)return!1;const r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&Lm(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function M1(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function N1(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:n}=t;return r+"/"+n}).join(" "):navigator.userAgent}function dj(e){return hj()?!1:!Sb()&&e.width===0&&e.height===0||Sb()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function fj(){return/apple/i.test(navigator.vendor)}function Sb(){const e=/android/i;return e.test(M1())||e.test(N1())}function pj(){return M1().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function hj(){return N1().includes("jsdom/")}function Am(e,t){const r=["mouse","pen"];return r.push("",void 0),r.includes(e)}function mj(e){return"nativeEvent"in e}function gj(e){return e.matches("html,body")}function Oo(e){return(e==null?void 0:e.ownerDocument)||document}function qh(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const r=e;return r.target!=null&&t.contains(r.target)}function Oi(e){return"composedPath"in e?e.composedPath()[0]:e.target}const vj="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function yj(e){return Ur(e)&&e.matches(vj)}const $n=Math.min,ir=Math.max,yd=Math.round,su=Math.floor,Zn=e=>({x:e,y:e}),wj={left:"right",right:"left",bottom:"top",top:"bottom"},Sj={start:"end",end:"start"};function $m(e,t,r){return ir(e,$n(t,r))}function Cs(e,t){return typeof e=="function"?e(t):e}function Fn(e){return e.split("-")[0]}function na(e){return e.split("-")[1]}function Ig(e){return e==="x"?"y":"x"}function Mg(e){return e==="y"?"height":"width"}function Rs(e){return["top","bottom"].includes(Fn(e))?"y":"x"}function Ng(e){return Ig(Rs(e))}function bj(e,t,r){r===void 0&&(r=!1);const n=na(e),o=Ng(e),a=Mg(o);let c=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=wd(c)),[c,wd(c)]}function _j(e){const t=wd(e);return[Fm(e),t,Fm(t)]}function Fm(e){return e.replace(/start|end/g,t=>Sj[t])}function xj(e,t,r){const n=["left","right"],o=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?a:c;default:return[]}}function Cj(e,t,r,n){const o=na(e);let a=xj(Fn(e),r==="start",n);return o&&(a=a.map(c=>c+"-"+o),t&&(a=a.concat(a.map(Fm)))),a}function wd(e){return e.replace(/left|right|bottom|top/g,t=>wj[t])}function Rj(e){return{top:0,right:0,bottom:0,left:0,...e}}function Lg(e){return typeof e!="number"?Rj(e):{top:e,right:e,bottom:e,left:e}}function Ki(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function bb(e,t,r){let{reference:n,floating:o}=e;const a=Rs(t),c=Ng(t),l=Mg(c),d=Fn(t),f=a==="y",m=n.x+n.width/2-o.width/2,v=n.y+n.height/2-o.height/2,g=n[l]/2-o[l]/2;let w;switch(d){case"top":w={x:m,y:n.y-o.height};break;case"bottom":w={x:m,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:v};break;case"left":w={x:n.x-o.width,y:v};break;default:w={x:n.x,y:n.y}}switch(na(t)){case"start":w[c]-=g*(r&&f?-1:1);break;case"end":w[c]+=g*(r&&f?-1:1);break}return w}const Ej=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:c}=r,l=a.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:v}=bb(f,n,d),g=n,w={},b=0;for(let E=0;E<l.length;E++){const{name:R,fn:T}=l[E],{x,y:p,data:h,reset:S}=await T({x:m,y:v,initialPlacement:n,placement:g,strategy:o,middlewareData:w,rects:f,platform:c,elements:{reference:e,floating:t}});m=x??m,v=p??v,w={...w,[R]:{...w[R],...h}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(g=S.placement),S.rects&&(f=S.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:m,y:v}=bb(f,g,d)),E=-1)}return{x:m,y:v,placement:g,strategy:o,middlewareData:w}};async function Og(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:a,rects:c,elements:l,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:g=!1,padding:w=0}=Cs(t,e),b=Lg(w),R=l[g?v==="floating"?"reference":"floating":v],T=Ki(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(R)))==null||r?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:f,rootBoundary:m,strategy:d})),x=v==="floating"?{x:n,y:o,width:c.floating.width,height:c.floating.height}:c.reference,p=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),h=await(a.isElement==null?void 0:a.isElement(p))?await(a.getScale==null?void 0:a.getScale(p))||{x:1,y:1}:{x:1,y:1},S=Ki(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:p,strategy:d}):x);return{top:(T.top-S.top+b.top)/h.y,bottom:(S.bottom-T.bottom+b.bottom)/h.y,left:(T.left-S.left+b.left)/h.x,right:(S.right-T.right+b.right)/h.x}}const Tj=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:a,platform:c,elements:l,middlewareData:d}=t,{element:f,padding:m=0}=Cs(e,t)||{};if(f==null)return{};const v=Lg(m),g={x:r,y:n},w=Ng(o),b=Mg(w),E=await c.getDimensions(f),R=w==="y",T=R?"top":"left",x=R?"bottom":"right",p=R?"clientHeight":"clientWidth",h=a.reference[b]+a.reference[w]-g[w]-a.floating[b],S=g[w]-a.reference[w],C=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let D=C?C[p]:0;(!D||!await(c.isElement==null?void 0:c.isElement(C)))&&(D=l.floating[p]||a.floating[b]);const j=h/2-S/2,L=D/2-E[b]/2-1,N=$n(v[T],L),A=$n(v[x],L),O=N,V=D-E[b]-A,W=D/2-E[b]/2+j,X=$m(O,W,V),M=!d.arrow&&na(o)!=null&&W!==X&&a.reference[b]/2-(W<O?N:A)-E[b]/2<0,B=M?W<O?W-O:W-V:0;return{[w]:g[w]+B,data:{[w]:X,centerOffset:W-X-B,...M&&{alignmentOffset:B}},reset:M}}}),kj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:a,rects:c,initialPlacement:l,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:g,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:E=!0,...R}=Cs(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const T=Fn(o),x=Rs(l),p=Fn(l)===l,h=await(d.isRTL==null?void 0:d.isRTL(f.floating)),S=g||(p||!E?[wd(l)]:_j(l)),C=b!=="none";!g&&C&&S.push(...Cj(l,E,b,h));const D=[l,...S],j=await Og(t,R),L=[];let N=((n=a.flip)==null?void 0:n.overflows)||[];if(m&&L.push(j[T]),v){const W=bj(o,c,h);L.push(j[W[0]],j[W[1]])}if(N=[...N,{placement:o,overflows:L}],!L.every(W=>W<=0)){var A,O;const W=(((A=a.flip)==null?void 0:A.index)||0)+1,X=D[W];if(X)return{data:{index:W,overflows:N},reset:{placement:X}};let M=(O=N.filter(B=>B.overflows[0]<=0).sort((B,$)=>B.overflows[1]-$.overflows[1])[0])==null?void 0:O.placement;if(!M)switch(w){case"bestFit":{var V;const B=(V=N.filter($=>{if(C){const F=Rs($.placement);return F===x||F==="y"}return!0}).map($=>[$.placement,$.overflows.filter(F=>F>0).reduce((F,H)=>F+H,0)]).sort(($,F)=>$[1]-F[1])[0])==null?void 0:V[0];B&&(M=B);break}case"initialPlacement":M=l;break}if(o!==M)return{reset:{placement:M}}}return{}}}};function L1(e){const t=$n(...e.map(a=>a.left)),r=$n(...e.map(a=>a.top)),n=ir(...e.map(a=>a.right)),o=ir(...e.map(a=>a.bottom));return{x:t,y:r,width:n-t,height:o-r}}function Pj(e){const t=e.slice().sort((o,a)=>o.y-a.y),r=[];let n=null;for(let o=0;o<t.length;o++){const a=t[o];!n||a.y-n.y>n.height/2?r.push([a]):r[r.length-1].push(a),n=a}return r.map(o=>Ki(L1(o)))}const Dj=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:n,rects:o,platform:a,strategy:c}=t,{padding:l=2,x:d,y:f}=Cs(e,t),m=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(n.reference))||[]),v=Pj(m),g=Ki(L1(m)),w=Lg(l);function b(){if(v.length===2&&v[0].left>v[1].right&&d!=null&&f!=null)return v.find(R=>d>R.left-w.left&&d<R.right+w.right&&f>R.top-w.top&&f<R.bottom+w.bottom)||g;if(v.length>=2){if(Rs(r)==="y"){const N=v[0],A=v[v.length-1],O=Fn(r)==="top",V=N.top,W=A.bottom,X=O?N.left:A.left,M=O?N.right:A.right,B=M-X,$=W-V;return{top:V,bottom:W,left:X,right:M,width:B,height:$,x:X,y:V}}const R=Fn(r)==="left",T=ir(...v.map(N=>N.right)),x=$n(...v.map(N=>N.left)),p=v.filter(N=>R?N.left===x:N.right===T),h=p[0].top,S=p[p.length-1].bottom,C=x,D=T,j=D-C,L=S-h;return{top:h,bottom:S,left:C,right:D,width:j,height:L,x:C,y:h}}return g}const E=await a.getElementRects({reference:{getBoundingClientRect:b},floating:n.floating,strategy:c});return o.reference.x!==E.reference.x||o.reference.y!==E.reference.y||o.reference.width!==E.reference.width||o.reference.height!==E.reference.height?{reset:{rects:E}}:{}}}};async function jj(e,t){const{placement:r,platform:n,elements:o}=e,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),c=Fn(r),l=na(r),d=Rs(r)==="y",f=["left","top"].includes(c)?-1:1,m=a&&d?-1:1,v=Cs(t,e);let{mainAxis:g,crossAxis:w,alignmentAxis:b}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return l&&typeof b=="number"&&(w=l==="end"?b*-1:b),d?{x:w*m,y:g*f}:{x:g*f,y:w*m}}const Ij=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:a,placement:c,middlewareData:l}=t,d=await jj(t,e);return c===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:o+d.x,y:a+d.y,data:{...d,placement:c}}}}},Mj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:l={fn:R=>{let{x:T,y:x}=R;return{x:T,y:x}}},...d}=Cs(e,t),f={x:r,y:n},m=await Og(t,d),v=Rs(Fn(o)),g=Ig(v);let w=f[g],b=f[v];if(a){const R=g==="y"?"top":"left",T=g==="y"?"bottom":"right",x=w+m[R],p=w-m[T];w=$m(x,w,p)}if(c){const R=v==="y"?"top":"left",T=v==="y"?"bottom":"right",x=b+m[R],p=b-m[T];b=$m(x,b,p)}const E=l.fn({...t,[g]:w,[v]:b});return{...E,data:{x:E.x-r,y:E.y-n,enabled:{[g]:a,[v]:c}}}}}},Nj=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:a,middlewareData:c}=t,{offset:l=0,mainAxis:d=!0,crossAxis:f=!0}=Cs(e,t),m={x:r,y:n},v=Rs(o),g=Ig(v);let w=m[g],b=m[v];const E=Cs(l,t),R=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const p=g==="y"?"height":"width",h=a.reference[g]-a.floating[p]+R.mainAxis,S=a.reference[g]+a.reference[p]-R.mainAxis;w<h?w=h:w>S&&(w=S)}if(f){var T,x;const p=g==="y"?"width":"height",h=["top","left"].includes(Fn(o)),S=a.reference[v]-a.floating[p]+(h&&((T=c.offset)==null?void 0:T[v])||0)+(h?0:R.crossAxis),C=a.reference[v]+a.reference[p]+(h?0:((x=c.offset)==null?void 0:x[v])||0)-(h?R.crossAxis:0);b<S?b=S:b>C&&(b=C)}return{[g]:w,[v]:b}}}},Lj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:a,platform:c,elements:l}=t,{apply:d=()=>{},...f}=Cs(e,t),m=await Og(t,f),v=Fn(o),g=na(o),w=Rs(o)==="y",{width:b,height:E}=a.floating;let R,T;v==="top"||v==="bottom"?(R=v,T=g===(await(c.isRTL==null?void 0:c.isRTL(l.floating))?"start":"end")?"left":"right"):(T=v,R=g==="end"?"top":"bottom");const x=E-m.top-m.bottom,p=b-m.left-m.right,h=$n(E-m[R],x),S=$n(b-m[T],p),C=!t.middlewareData.shift;let D=h,j=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=p),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(D=x),C&&!g){const N=ir(m.left,0),A=ir(m.right,0),O=ir(m.top,0),V=ir(m.bottom,0);w?j=b-2*(N!==0||A!==0?N+A:ir(m.left,m.right)):D=E-2*(O!==0||V!==0?O+V:ir(m.top,m.bottom))}await d({...t,availableWidth:j,availableHeight:D});const L=await c.getDimensions(l.floating);return b!==L.width||E!==L.height?{reset:{rects:!0}}:{}}}};function O1(e){const t=rn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=Ur(e),a=o?e.offsetWidth:r,c=o?e.offsetHeight:n,l=yd(r)!==a||yd(n)!==c;return l&&(r=a,n=c),{width:r,height:n,$:l}}function Ag(e){return yt(e)?e:e.contextElement}function Bi(e){const t=Ag(e);if(!Ur(t))return Zn(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:a}=O1(t);let c=(a?yd(r.width):r.width)/n,l=(a?yd(r.height):r.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!l||!Number.isFinite(l))&&(l=1),{x:c,y:l}}const Oj=Zn(0);function A1(e){const t=Rr(e);return!Vd()||!t.visualViewport?Oj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Aj(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Rr(e)?!1:t}function Ho(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),a=Ag(e);let c=Zn(1);t&&(n?yt(n)&&(c=Bi(n)):c=Bi(e));const l=Aj(a,r,n)?A1(a):Zn(0);let d=(o.left+l.x)/c.x,f=(o.top+l.y)/c.y,m=o.width/c.x,v=o.height/c.y;if(a){const g=Rr(a),w=n&&yt(n)?Rr(n):n;let b=g,E=Om(b);for(;E&&n&&w!==b;){const R=Bi(E),T=E.getBoundingClientRect(),x=rn(E),p=T.left+(E.clientLeft+parseFloat(x.paddingLeft))*R.x,h=T.top+(E.clientTop+parseFloat(x.paddingTop))*R.y;d*=R.x,f*=R.y,m*=R.x,v*=R.y,d+=p,f+=h,b=Rr(E),E=Om(b)}}return Ki({width:m,height:v,x:d,y:f})}function $g(e,t){const r=Hd(e).scrollLeft;return t?t.left+r:Ho(is(e)).left+r}function $1(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(r?0:$g(e,n)),a=n.top+t.scrollTop;return{x:o,y:a}}function $j(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const a=o==="fixed",c=is(n),l=t?Ud(t.floating):!1;if(n===c||l&&a)return r;let d={scrollLeft:0,scrollTop:0},f=Zn(1);const m=Zn(0),v=Ur(n);if((v||!v&&!a)&&((ra(n)!=="body"||Lc(c))&&(d=Hd(n)),Ur(n))){const w=Ho(n);f=Bi(n),m.x=w.x+n.clientLeft,m.y=w.y+n.clientTop}const g=c&&!v&&!a?$1(c,d,!0):Zn(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+m.x+g.x,y:r.y*f.y-d.scrollTop*f.y+m.y+g.y}}function Fj(e){return Array.from(e.getClientRects())}function zj(e){const t=is(e),r=Hd(e),n=e.ownerDocument.body,o=ir(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=ir(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+$g(e);const l=-r.scrollTop;return rn(n).direction==="rtl"&&(c+=ir(t.clientWidth,n.clientWidth)-o),{width:o,height:a,x:c,y:l}}function Bj(e,t){const r=Rr(e),n=is(e),o=r.visualViewport;let a=n.clientWidth,c=n.clientHeight,l=0,d=0;if(o){a=o.width,c=o.height;const f=Vd();(!f||f&&t==="fixed")&&(l=o.offsetLeft,d=o.offsetTop)}return{width:a,height:c,x:l,y:d}}function Uj(e,t){const r=Ho(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,a=Ur(e)?Bi(e):Zn(1),c=e.clientWidth*a.x,l=e.clientHeight*a.y,d=o*a.x,f=n*a.y;return{width:c,height:l,x:d,y:f}}function _b(e,t,r){let n;if(t==="viewport")n=Bj(e,r);else if(t==="document")n=zj(is(e));else if(yt(t))n=Uj(t,r);else{const o=A1(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Ki(n)}function F1(e,t){const r=xs(e);return r===t||!yt(r)||ao(r)?!1:rn(r).position==="fixed"||F1(r,t)}function Vj(e,t){const r=t.get(e);if(r)return r;let n=ys(e,[],!1).filter(l=>yt(l)&&ra(l)!=="body"),o=null;const a=rn(e).position==="fixed";let c=a?xs(e):e;for(;yt(c)&&!ao(c);){const l=rn(c),d=jg(c);!d&&l.position==="fixed"&&(o=null),(a?!d&&!o:!d&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Lc(c)&&!d&&F1(e,c))?n=n.filter(m=>m!==c):o=l,c=xs(c)}return t.set(e,n),n}function Hj(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const c=[...r==="clippingAncestors"?Ud(t)?[]:Vj(t,this._c):[].concat(r),n],l=c[0],d=c.reduce((f,m)=>{const v=_b(t,m,o);return f.top=ir(v.top,f.top),f.right=$n(v.right,f.right),f.bottom=$n(v.bottom,f.bottom),f.left=ir(v.left,f.left),f},_b(t,l,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Wj(e){const{width:t,height:r}=O1(e);return{width:t,height:r}}function qj(e,t,r){const n=Ur(t),o=is(t),a=r==="fixed",c=Ho(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const d=Zn(0);if(n||!n&&!a)if((ra(t)!=="body"||Lc(o))&&(l=Hd(t)),n){const g=Ho(t,!0,a,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else o&&(d.x=$g(o));const f=o&&!n&&!a?$1(o,l):Zn(0),m=c.left+l.scrollLeft-d.x-f.x,v=c.top+l.scrollTop-d.y-f.y;return{x:m,y:v,width:c.width,height:c.height}}function Gh(e){return rn(e).position==="static"}function xb(e,t){if(!Ur(e)||rn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return is(e)===r&&(r=r.ownerDocument.body),r}function z1(e,t){const r=Rr(e);if(Ud(e))return r;if(!Ur(e)){let o=xs(e);for(;o&&!ao(o);){if(yt(o)&&!Gh(o))return o;o=xs(o)}return r}let n=xb(e,t);for(;n&&lj(n)&&Gh(n);)n=xb(n,t);return n&&ao(n)&&Gh(n)&&!jg(n)?r:n||uj(e)||r}const Gj=async function(e){const t=this.getOffsetParent||z1,r=this.getDimensions,n=await r(e.floating);return{reference:qj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Kj(e){return rn(e).direction==="rtl"}const Xj={convertOffsetParentRelativeRectToViewportRelativeRect:$j,getDocumentElement:is,getClippingRect:Hj,getOffsetParent:z1,getElementRects:Gj,getClientRects:Fj,getDimensions:Wj,getScale:Bi,isElement:yt,isRTL:Kj};function B1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Yj(e,t){let r=null,n;const o=is(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function c(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),a();const f=e.getBoundingClientRect(),{left:m,top:v,width:g,height:w}=f;if(l||t(),!g||!w)return;const b=su(v),E=su(o.clientWidth-(m+g)),R=su(o.clientHeight-(v+w)),T=su(m),p={rootMargin:-b+"px "+-E+"px "+-R+"px "+-T+"px",threshold:ir(0,$n(1,d))||1};let h=!0;function S(C){const D=C[0].intersectionRatio;if(D!==d){if(!h)return c();D?c(!1,D):n=setTimeout(()=>{c(!1,1e-7)},1e3)}D===1&&!B1(f,e.getBoundingClientRect())&&c(),h=!1}try{r=new IntersectionObserver(S,{...p,root:o.ownerDocument})}catch{r=new IntersectionObserver(S,p)}r.observe(e)}return c(!0),a}function Qj(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=Ag(e),m=o||a?[...f?ys(f):[],...ys(t)]:[];m.forEach(T=>{o&&T.addEventListener("scroll",r,{passive:!0}),a&&T.addEventListener("resize",r)});const v=f&&l?Yj(f,r):null;let g=-1,w=null;c&&(w=new ResizeObserver(T=>{let[x]=T;x&&x.target===f&&w&&(w.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var p;(p=w)==null||p.observe(t)})),r()}),f&&!d&&w.observe(f),w.observe(t));let b,E=d?Ho(e):null;d&&R();function R(){const T=Ho(e);E&&!B1(E,T)&&r(),E=T,b=requestAnimationFrame(R)}return r(),()=>{var T;m.forEach(x=>{o&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),v==null||v(),(T=w)==null||T.disconnect(),w=null,d&&cancelAnimationFrame(b)}}const Jj=Ij,Zj=Mj,eI=kj,tI=Lj,Cb=Tj,rI=Dj,nI=Nj,sI=(e,t,r)=>{const n=new Map,o={platform:Xj,...r},a={...o.platform,_c:n};return Ej(e,t,{...o,platform:a})};var wu=typeof document<"u"?P.useLayoutEffect:P.useEffect;function Sd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Sd(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&e.$$typeof)&&!Sd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function U1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rb(e,t){const r=U1(e);return Math.round(t*r)/r}function Kh(e){const t=P.useRef(e);return wu(()=>{t.current=e}),t}function oI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:c}={},transform:l=!0,whileElementsMounted:d,open:f}=e,[m,v]=P.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,w]=P.useState(n);Sd(g,n)||w(n);const[b,E]=P.useState(null),[R,T]=P.useState(null),x=P.useCallback($=>{$!==C.current&&(C.current=$,E($))},[]),p=P.useCallback($=>{$!==D.current&&(D.current=$,T($))},[]),h=a||b,S=c||R,C=P.useRef(null),D=P.useRef(null),j=P.useRef(m),L=d!=null,N=Kh(d),A=Kh(o),O=Kh(f),V=P.useCallback(()=>{if(!C.current||!D.current)return;const $={placement:t,strategy:r,middleware:g};A.current&&($.platform=A.current),sI(C.current,D.current,$).then(F=>{const H={...F,isPositioned:O.current!==!1};W.current&&!Sd(j.current,H)&&(j.current=H,Fd.flushSync(()=>{v(H)}))})},[g,t,r,A,O]);wu(()=>{f===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,v($=>({...$,isPositioned:!1})))},[f]);const W=P.useRef(!1);wu(()=>(W.current=!0,()=>{W.current=!1}),[]),wu(()=>{if(h&&(C.current=h),S&&(D.current=S),h&&S){if(N.current)return N.current(h,S,V);V()}},[h,S,V,N,L]);const X=P.useMemo(()=>({reference:C,floating:D,setReference:x,setFloating:p}),[x,p]),M=P.useMemo(()=>({reference:h,floating:S}),[h,S]),B=P.useMemo(()=>{const $={position:r,left:0,top:0};if(!M.floating)return $;const F=Rb(M.floating,m.x),H=Rb(M.floating,m.y);return l?{...$,transform:"translate("+F+"px, "+H+"px)",...U1(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:H}},[r,l,M.floating,m.x,m.y]);return P.useMemo(()=>({...m,update:V,refs:X,elements:M,floatingStyles:B}),[m,V,X,M,B])}const iI=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Cb({element:n.current,padding:o}).fn(r):{}:n?Cb({element:n,padding:o}).fn(r):{}}}},V1=(e,t)=>({...Jj(e),options:[e,t]}),Fg=(e,t)=>({...Zj(e),options:[e,t]}),Eb=(e,t)=>({...nI(e),options:[e,t]}),bd=(e,t)=>({...eI(e),options:[e,t]}),aI=(e,t)=>({...tI(e),options:[e,t]}),wc=(e,t)=>({...rI(e),options:[e,t]}),H1=(e,t)=>({...iI(e),options:[e,t]});function cI(e){return P.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})},e)}const W1={...J_},lI=W1.useInsertionEffect,uI=lI||(e=>e());function vs(e){const t=P.useRef(()=>{});return uI(()=>{t.current=e}),P.useCallback(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.current==null?void 0:t.current(...n)},[])}var es=typeof document<"u"?P.useLayoutEffect:P.useEffect;let Tb=!1,dI=0;const kb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+dI++;function fI(){const[e,t]=P.useState(()=>Tb?kb():void 0);return es(()=>{e==null&&t(kb())},[]),P.useEffect(()=>{Tb=!0},[]),e}const pI=W1.useId,q1=pI||fI;function hI(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(o=>o(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(o=>o!==r))||[])}}}const mI=P.createContext(null),gI=P.createContext(null),zg=()=>{var e;return((e=P.useContext(mI))==null?void 0:e.id)||null},Bg=()=>P.useContext(gI);function Ug(e){return"data-floating-ui-"+e}function Xh(e){const t=P.useRef(e);return es(()=>{t.current=e}),t}const Pb=Ug("safe-polygon");function Su(e,t,r){return r&&!Am(r)?0:typeof e=="number"?e:e==null?void 0:e[t]}function vI(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,dataRef:o,events:a,elements:c}=e,{enabled:l=!0,delay:d=0,handleClose:f=null,mouseOnly:m=!1,restMs:v=0,move:g=!0}=t,w=Bg(),b=zg(),E=Xh(f),R=Xh(d),T=Xh(r),x=P.useRef(),p=P.useRef(-1),h=P.useRef(),S=P.useRef(-1),C=P.useRef(!0),D=P.useRef(!1),j=P.useRef(()=>{}),L=P.useRef(!1),N=P.useCallback(()=>{var B;const $=(B=o.current.openEvent)==null?void 0:B.type;return($==null?void 0:$.includes("mouse"))&&$!=="mousedown"},[o]);P.useEffect(()=>{if(!l)return;function B($){let{open:F}=$;F||(clearTimeout(p.current),clearTimeout(S.current),C.current=!0,L.current=!1)}return a.on("openchange",B),()=>{a.off("openchange",B)}},[l,a]),P.useEffect(()=>{if(!l||!E.current||!r)return;function B(F){N()&&n(!1,F,"hover")}const $=Oo(c.floating).documentElement;return $.addEventListener("mouseleave",B),()=>{$.removeEventListener("mouseleave",B)}},[c.floating,r,n,l,E,N]);const A=P.useCallback(function(B,$,F){$===void 0&&($=!0),F===void 0&&(F="hover");const H=Su(R.current,"close",x.current);H&&!h.current?(clearTimeout(p.current),p.current=window.setTimeout(()=>n(!1,B,F),H)):$&&(clearTimeout(p.current),n(!1,B,F))},[R,n]),O=vs(()=>{j.current(),h.current=void 0}),V=vs(()=>{if(D.current){const B=Oo(c.floating).body;B.style.pointerEvents="",B.removeAttribute(Pb),D.current=!1}}),W=vs(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);P.useEffect(()=>{if(!l)return;function B(U){if(clearTimeout(p.current),C.current=!1,m&&!Am(x.current)||v>0&&!Su(R.current,"open"))return;const G=Su(R.current,"open",x.current);G?p.current=window.setTimeout(()=>{T.current||n(!0,U,"hover")},G):r||n(!0,U,"hover")}function $(U){if(W())return;j.current();const G=Oo(c.floating);if(clearTimeout(S.current),L.current=!1,E.current&&o.current.floatingContext){r||clearTimeout(p.current),h.current=E.current({...o.current.floatingContext,tree:w,x:U.clientX,y:U.clientY,onClose(){V(),O(),W()||A(U,!0,"safe-polygon")}});const ue=h.current;G.addEventListener("mousemove",ue),j.current=()=>{G.removeEventListener("mousemove",ue)};return}(x.current==="touch"?!Ec(c.floating,U.relatedTarget):!0)&&A(U)}function F(U){W()||o.current.floatingContext&&(E.current==null||E.current({...o.current.floatingContext,tree:w,x:U.clientX,y:U.clientY,onClose(){V(),O(),W()||A(U)}})(U))}if(yt(c.domReference)){var H;const U=c.domReference;return r&&U.addEventListener("mouseleave",F),(H=c.floating)==null||H.addEventListener("mouseleave",F),g&&U.addEventListener("mousemove",B,{once:!0}),U.addEventListener("mouseenter",B),U.addEventListener("mouseleave",$),()=>{var G;r&&U.removeEventListener("mouseleave",F),(G=c.floating)==null||G.removeEventListener("mouseleave",F),g&&U.removeEventListener("mousemove",B),U.removeEventListener("mouseenter",B),U.removeEventListener("mouseleave",$)}}},[c,l,e,m,v,g,A,O,V,n,r,T,w,R,E,o,W]),es(()=>{var B;if(l&&r&&(B=E.current)!=null&&B.__options.blockPointerEvents&&N()){D.current=!0;const F=c.floating;if(yt(c.domReference)&&F){var $;const H=Oo(c.floating).body;H.setAttribute(Pb,"");const U=c.domReference,G=w==null||($=w.nodesRef.current.find(ne=>ne.id===b))==null||($=$.context)==null?void 0:$.elements.floating;return G&&(G.style.pointerEvents=""),H.style.pointerEvents="none",U.style.pointerEvents="auto",F.style.pointerEvents="auto",()=>{H.style.pointerEvents="",U.style.pointerEvents="",F.style.pointerEvents=""}}}},[l,r,b,c,w,E,N]),es(()=>{r||(x.current=void 0,L.current=!1,O(),V())},[r,O,V]),P.useEffect(()=>()=>{O(),clearTimeout(p.current),clearTimeout(S.current),V()},[l,c.domReference,O,V]);const X=P.useMemo(()=>{function B($){x.current=$.pointerType}return{onPointerDown:B,onPointerEnter:B,onMouseMove($){const{nativeEvent:F}=$;function H(){!C.current&&!T.current&&n(!0,F,"hover")}m&&!Am(x.current)||r||v===0||L.current&&$.movementX**2+$.movementY**2<2||(clearTimeout(S.current),x.current==="touch"?H():(L.current=!0,S.current=window.setTimeout(H,v)))}}},[m,n,r,T,v]),M=P.useMemo(()=>({onMouseEnter(){clearTimeout(p.current)},onMouseLeave(B){W()||A(B.nativeEvent,!1)}}),[A,W]);return P.useMemo(()=>l?{reference:X,floating:M}:{},[l,X,M])}const zm=()=>{},G1=P.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:zm,setState:zm,isInstantPhase:!1}),yI=()=>P.useContext(G1);function wI(e){const{children:t,delay:r,timeoutMs:n=0}=e,[o,a]=P.useReducer((d,f)=>({...d,...f}),{delay:r,timeoutMs:n,initialDelay:r,currentId:null,isInstantPhase:!1}),c=P.useRef(null),l=P.useCallback(d=>{a({currentId:d})},[]);return es(()=>{o.currentId?c.current===null?c.current=o.currentId:o.isInstantPhase||a({isInstantPhase:!0}):(o.isInstantPhase&&a({isInstantPhase:!1}),c.current=null)},[o.currentId,o.isInstantPhase]),P.createElement(G1.Provider,{value:P.useMemo(()=>({...o,setState:a,setCurrentId:l}),[o,l])},t)}function SI(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,floatingId:o}=e,{id:a,enabled:c=!0}=t,l=a??o,d=yI(),{currentId:f,setCurrentId:m,initialDelay:v,setState:g,timeoutMs:w}=d;return es(()=>{c&&f&&(g({delay:{open:1,close:Su(v,"close")}}),f!==l&&n(!1))},[c,l,n,g,f,v]),es(()=>{function b(){n(!1),g({delay:v,currentId:null})}if(c&&f&&!r&&f===l){if(w){const E=window.setTimeout(b,w);return()=>{clearTimeout(E)}}b()}},[c,r,g,f,l,n,v,w]),es(()=>{c&&(m===zm||!r||m(l))},[c,r,m,l]),d}function Yh(e,t){let r=e.filter(o=>{var a;return o.parentId===t&&((a=o.context)==null?void 0:a.open)}),n=r;for(;n.length;)n=e.filter(o=>{var a;return(a=n)==null?void 0:a.some(c=>{var l;return o.parentId===c.id&&((l=o.context)==null?void 0:l.open)})}),r=r.concat(n);return r}const bI="data-floating-ui-focusable",_I={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},xI={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Db=e=>{var t,r;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(r=e==null?void 0:e.outsidePress)!=null?r:!0}};function CI(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,elements:o,dataRef:a}=e,{enabled:c=!0,escapeKey:l=!0,outsidePress:d=!0,outsidePressEvent:f="pointerdown",referencePress:m=!1,referencePressEvent:v="pointerdown",ancestorScroll:g=!1,bubbles:w,capture:b}=t,E=Bg(),R=vs(typeof d=="function"?d:()=>!1),T=typeof d=="function"?R:d,x=P.useRef(!1),p=P.useRef(!1),{escapeKey:h,outsidePress:S}=Db(w),{escapeKey:C,outsidePress:D}=Db(b),j=P.useRef(!1),L=vs(X=>{var M;if(!r||!c||!l||X.key!=="Escape"||j.current)return;const B=(M=a.current.floatingContext)==null?void 0:M.nodeId,$=E?Yh(E.nodesRef.current,B):[];if(!h&&(X.stopPropagation(),$.length>0)){let F=!0;if($.forEach(H=>{var U;if((U=H.context)!=null&&U.open&&!H.context.dataRef.current.__escapeKeyBubbles){F=!1;return}}),!F)return}n(!1,mj(X)?X.nativeEvent:X,"escape-key")}),N=vs(X=>{var M;const B=()=>{var $;L(X),($=Oi(X))==null||$.removeEventListener("keydown",B)};(M=Oi(X))==null||M.addEventListener("keydown",B)}),A=vs(X=>{var M;const B=x.current;x.current=!1;const $=p.current;if(p.current=!1,f==="click"&&$||B||typeof T=="function"&&!T(X))return;const F=Oi(X),H="["+Ug("inert")+"]",U=Oo(o.floating).querySelectorAll(H);let G=yt(F)?F:null;for(;G&&!ao(G);){const se=xs(G);if(ao(se)||!yt(se))break;G=se}if(U.length&&yt(F)&&!gj(F)&&!Ec(F,o.floating)&&Array.from(U).every(se=>!Ec(G,se)))return;if(Ur(F)&&W){const se=F.clientWidth>0&&F.scrollWidth>F.clientWidth,le=F.clientHeight>0&&F.scrollHeight>F.clientHeight;let ge=le&&X.offsetX>F.clientWidth;if(le&&rn(F).direction==="rtl"&&(ge=X.offsetX<=F.offsetWidth-F.clientWidth),ge||se&&X.offsetY>F.clientHeight)return}const ne=(M=a.current.floatingContext)==null?void 0:M.nodeId,ue=E&&Yh(E.nodesRef.current,ne).some(se=>{var le;return qh(X,(le=se.context)==null?void 0:le.elements.floating)});if(qh(X,o.floating)||qh(X,o.domReference)||ue)return;const Q=E?Yh(E.nodesRef.current,ne):[];if(Q.length>0){let se=!0;if(Q.forEach(le=>{var ge;if((ge=le.context)!=null&&ge.open&&!le.context.dataRef.current.__outsidePressBubbles){se=!1;return}}),!se)return}n(!1,X,"outside-press")}),O=vs(X=>{var M;const B=()=>{var $;A(X),($=Oi(X))==null||$.removeEventListener(f,B)};(M=Oi(X))==null||M.addEventListener(f,B)});P.useEffect(()=>{if(!r||!c)return;a.current.__escapeKeyBubbles=h,a.current.__outsidePressBubbles=S;let X=-1;function M(U){n(!1,U,"ancestor-scroll")}function B(){window.clearTimeout(X),j.current=!0}function $(){X=window.setTimeout(()=>{j.current=!1},Vd()?5:0)}const F=Oo(o.floating);l&&(F.addEventListener("keydown",C?N:L,C),F.addEventListener("compositionstart",B),F.addEventListener("compositionend",$)),T&&F.addEventListener(f,D?O:A,D);let H=[];return g&&(yt(o.domReference)&&(H=ys(o.domReference)),yt(o.floating)&&(H=H.concat(ys(o.floating))),!yt(o.reference)&&o.reference&&o.reference.contextElement&&(H=H.concat(ys(o.reference.contextElement)))),H=H.filter(U=>{var G;return U!==((G=F.defaultView)==null?void 0:G.visualViewport)}),H.forEach(U=>{U.addEventListener("scroll",M,{passive:!0})}),()=>{l&&(F.removeEventListener("keydown",C?N:L,C),F.removeEventListener("compositionstart",B),F.removeEventListener("compositionend",$)),T&&F.removeEventListener(f,D?O:A,D),H.forEach(U=>{U.removeEventListener("scroll",M)}),window.clearTimeout(X)}},[a,o,l,T,f,r,n,g,c,h,S,L,C,N,A,D,O]),P.useEffect(()=>{x.current=!1},[T,f]);const V=P.useMemo(()=>({onKeyDown:L,[_I[v]]:X=>{m&&n(!1,X.nativeEvent,"reference-press")}}),[L,n,m,v]),W=P.useMemo(()=>({onKeyDown:L,onMouseDown(){p.current=!0},onMouseUp(){p.current=!0},[xI[f]]:()=>{x.current=!0}}),[L,f]);return P.useMemo(()=>c?{reference:V,floating:W}:{},[c,V,W])}function RI(e){const{open:t=!1,onOpenChange:r,elements:n}=e,o=q1(),a=P.useRef({}),[c]=P.useState(()=>hI()),l=zg()!=null,[d,f]=P.useState(n.reference),m=vs((w,b,E)=>{a.current.openEvent=w?b:void 0,c.emit("openchange",{open:w,event:b,reason:E,nested:l}),r==null||r(w,b,E)}),v=P.useMemo(()=>({setPositionReference:f}),[]),g=P.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return P.useMemo(()=>({dataRef:a,open:t,onOpenChange:m,elements:g,events:c,floatingId:o,refs:v}),[t,m,g,c,o,v])}function Vg(e){e===void 0&&(e={});const{nodeId:t}=e,r=RI({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,o=n.elements,[a,c]=P.useState(null),[l,d]=P.useState(null),m=(o==null?void 0:o.domReference)||a,v=P.useRef(null),g=Bg();es(()=>{m&&(v.current=m)},[m]);const w=oI({...e,elements:{...o,...l&&{reference:l}}}),b=P.useCallback(p=>{const h=yt(p)?{getBoundingClientRect:()=>p.getBoundingClientRect(),contextElement:p}:p;d(h),w.refs.setReference(h)},[w.refs]),E=P.useCallback(p=>{(yt(p)||p===null)&&(v.current=p,c(p)),(yt(w.refs.reference.current)||w.refs.reference.current===null||p!==null&&!yt(p))&&w.refs.setReference(p)},[w.refs]),R=P.useMemo(()=>({...w.refs,setReference:E,setPositionReference:b,domReference:v}),[w.refs,E,b]),T=P.useMemo(()=>({...w.elements,domReference:m}),[w.elements,m]),x=P.useMemo(()=>({...w,...n,refs:R,elements:T,nodeId:t}),[w,R,T,t,n]);return es(()=>{n.dataRef.current.floatingContext=x;const p=g==null?void 0:g.nodesRef.current.find(h=>h.id===t);p&&(p.context=x)}),P.useMemo(()=>({...w,context:x,refs:R,elements:T}),[w,R,T,x])}function EI(e,t){t===void 0&&(t={});const{open:r,onOpenChange:n,events:o,dataRef:a,elements:c}=e,{enabled:l=!0,visibleOnly:d=!0}=t,f=P.useRef(!1),m=P.useRef(),v=P.useRef(!0);P.useEffect(()=>{if(!l)return;const w=Rr(c.domReference);function b(){!r&&Ur(c.domReference)&&c.domReference===wb(Oo(c.domReference))&&(f.current=!0)}function E(){v.current=!0}return w.addEventListener("blur",b),w.addEventListener("keydown",E,!0),()=>{w.removeEventListener("blur",b),w.removeEventListener("keydown",E,!0)}},[c.domReference,r,l]),P.useEffect(()=>{if(!l)return;function w(b){let{reason:E}=b;(E==="reference-press"||E==="escape-key")&&(f.current=!0)}return o.on("openchange",w),()=>{o.off("openchange",w)}},[o,l]),P.useEffect(()=>()=>{clearTimeout(m.current)},[]);const g=P.useMemo(()=>({onPointerDown(w){dj(w.nativeEvent)||(v.current=!1)},onMouseLeave(){f.current=!1},onFocus(w){if(f.current)return;const b=Oi(w.nativeEvent);if(d&&yt(b))try{if(fj()&&pj())throw Error();if(!b.matches(":focus-visible"))return}catch{if(!v.current&&!yj(b))return}n(!0,w.nativeEvent,"focus")},onBlur(w){f.current=!1;const b=w.relatedTarget,E=w.nativeEvent,R=yt(b)&&b.hasAttribute(Ug("focus-guard"))&&b.getAttribute("data-type")==="outside";m.current=window.setTimeout(()=>{var T;const x=wb(c.domReference?c.domReference.ownerDocument:document);!b&&x===c.domReference||Ec((T=a.current.floatingContext)==null?void 0:T.refs.floating.current,x)||Ec(c.domReference,x)||R||n(!1,E,"focus")})}}),[a,c.domReference,n,d]);return P.useMemo(()=>l?{reference:g}:{},[l,g])}const jb="active",Ib="selected";function Qh(e,t,r){const n=new Map,o=r==="item";let a=e;if(o&&e){const{[jb]:c,[Ib]:l,...d}=e;a=d}return{...r==="floating"&&{tabIndex:-1,[bI]:""},...a,...t.map(c=>{const l=c?c[r]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((c,l)=>(l&&Object.entries(l).forEach(d=>{let[f,m]=d;if(!(o&&[jb,Ib].includes(f)))if(f.indexOf("on")===0){if(n.has(f)||n.set(f,[]),typeof m=="function"){var v;(v=n.get(f))==null||v.push(m),c[f]=function(){for(var g,w=arguments.length,b=new Array(w),E=0;E<w;E++)b[E]=arguments[E];return(g=n.get(f))==null?void 0:g.map(R=>R(...b)).find(R=>R!==void 0)}}}else c[f]=m}),c),{})}}function TI(e){e===void 0&&(e=[]);const t=e.map(l=>l==null?void 0:l.reference),r=e.map(l=>l==null?void 0:l.floating),n=e.map(l=>l==null?void 0:l.item),o=P.useCallback(l=>Qh(l,e,"reference"),t),a=P.useCallback(l=>Qh(l,e,"floating"),r),c=P.useCallback(l=>Qh(l,e,"item"),n);return P.useMemo(()=>({getReferenceProps:o,getFloatingProps:a,getItemProps:c}),[o,a,c])}const kI=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function PI(e,t){var r;t===void 0&&(t={});const{open:n,floatingId:o}=e,{enabled:a=!0,role:c="dialog"}=t,l=(r=kI.get(c))!=null?r:c,d=q1(),m=zg()!=null,v=P.useMemo(()=>l==="tooltip"||c==="label"?{["aria-"+(c==="label"?"labelledby":"describedby")]:n?o:void 0}:{"aria-expanded":n?"true":"false","aria-haspopup":l==="alertdialog"?"dialog":l,"aria-controls":n?o:void 0,...l==="listbox"&&{role:"combobox"},...l==="menu"&&{id:d},...l==="menu"&&m&&{role:"menuitem"},...c==="select"&&{"aria-autocomplete":"none"},...c==="combobox"&&{"aria-autocomplete":"list"}},[l,o,m,n,d,c]),g=P.useMemo(()=>{const b={id:o,...l&&{role:l}};return l==="tooltip"||c==="label"?b:{...b,...l==="menu"&&{"aria-labelledby":d}}},[l,o,d,c]),w=P.useCallback(b=>{let{active:E,selected:R}=b;const T={role:"option",...E&&{id:o+"-option"}};switch(c){case"select":return{...T,"aria-selected":E&&R};case"combobox":return{...T,...E&&{"aria-selected":!0}}}return{}},[o,c]);return P.useMemo(()=>a?{reference:v,floating:g,item:w}:{},[a,v,g,w])}const[DI,nn]=Bn("ScrollArea.Root component was not found in tree");function Xi(e,t){const r=No(t);ea(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}const jI=P.forwardRef((e,t)=>{const{style:r,...n}=e,o=nn(),[a,c]=P.useState(0),[l,d]=P.useState(0),f=!!(a&&l);return Xi(o.scrollbarX,()=>{var v;const m=((v=o.scrollbarX)==null?void 0:v.offsetHeight)||0;o.onCornerHeightChange(m),d(m)}),Xi(o.scrollbarY,()=>{var v;const m=((v=o.scrollbarY)==null?void 0:v.offsetWidth)||0;o.onCornerWidthChange(m),c(m)}),f?y.jsx("div",{...n,ref:t,style:{...r,width:a,height:l}}):null}),II=P.forwardRef((e,t)=>{const r=nn(),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?y.jsx(jI,{...e,ref:t}):null}),MI={scrollHideDelay:1e3,type:"hover"},K1=P.forwardRef((e,t)=>{const r=ie("ScrollAreaRoot",MI,e),{type:n,scrollHideDelay:o,scrollbars:a,...c}=r,[l,d]=P.useState(null),[f,m]=P.useState(null),[v,g]=P.useState(null),[w,b]=P.useState(null),[E,R]=P.useState(null),[T,x]=P.useState(0),[p,h]=P.useState(0),[S,C]=P.useState(!1),[D,j]=P.useState(!1),L=Ut(t,N=>d(N));return y.jsx(DI,{value:{type:n,scrollHideDelay:o,scrollArea:l,viewport:f,onViewportChange:m,content:v,onContentChange:g,scrollbarX:w,onScrollbarXChange:b,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:E,onScrollbarYChange:R,scrollbarYEnabled:D,onScrollbarYEnabledChange:j,onCornerWidthChange:x,onCornerHeightChange:h},children:y.jsx(oe,{...c,ref:L,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${T}px`,"--sa-corner-height":a!=="xy"?"0px":`${p}px`}})})});K1.displayName="@mantine/core/ScrollAreaRoot";function X1(e,t){const r=e/t;return Number.isNaN(r)?0:r}function Wd(e){const t=X1(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Y1(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function NI(e,[t,r]){return Math.min(r,Math.max(t,e))}function Mb(e,t,r="ltr"){const n=Wd(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,c=t.content-t.viewport,l=a-n,d=r==="ltr"?[0,c]:[c*-1,0],f=NI(e,d);return Y1([0,c],[0,l])(f)}function LI(e,t,r,n="ltr"){const o=Wd(r),a=o/2,c=t||a,l=o-c,d=r.scrollbar.paddingStart+c,f=r.scrollbar.size-r.scrollbar.paddingEnd-l,m=r.content-r.viewport,v=n==="ltr"?[0,m]:[m*-1,0];return Y1([d,f],v)(e)}function Q1(e,t){return e>0&&e<t}function _d(e){return e?parseInt(e,10):0}function Fo(e,t,{checkForDefaultPrevented:r=!0}={}){return n=>{e==null||e(n),(r===!1||!n.defaultPrevented)&&(t==null||t(n))}}const[OI,J1]=Bn("ScrollAreaScrollbar was not found in tree"),Z1=P.forwardRef((e,t)=>{const{sizes:r,hasThumb:n,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:l,onDragScroll:d,onWheelScroll:f,onResize:m,...v}=e,g=nn(),[w,b]=P.useState(null),E=Ut(t,j=>b(j)),R=P.useRef(null),T=P.useRef(""),{viewport:x}=g,p=r.content-r.viewport,h=No(f),S=No(l),C=Nd(m,10),D=j=>{if(R.current){const L=j.clientX-R.current.left,N=j.clientY-R.current.top;d({x:L,y:N})}};return P.useEffect(()=>{const j=L=>{const N=L.target;(w==null?void 0:w.contains(N))&&h(L,p)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[x,w,p,h]),P.useEffect(S,[r,S]),Xi(w,C),Xi(g.content,C),y.jsx(OI,{value:{scrollbar:w,hasThumb:n,onThumbChange:No(o),onThumbPointerUp:No(a),onThumbPositionChange:S,onThumbPointerDown:No(c)},children:y.jsx("div",{...v,ref:E,"data-mantine-scrollbar":!0,style:{position:"absolute",...v.style},onPointerDown:Fo(e.onPointerDown,j=>{j.preventDefault(),j.button===0&&(j.target.setPointerCapture(j.pointerId),R.current=w.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",D(j))}),onPointerMove:Fo(e.onPointerMove,D),onPointerUp:Fo(e.onPointerUp,j=>{const L=j.target;L.hasPointerCapture(j.pointerId)&&(j.preventDefault(),L.releasePointerCapture(j.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=T.current,R.current=null}})})}),ex=P.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:o,...a}=e,c=nn(),[l,d]=P.useState(),f=P.useRef(null),m=Ut(t,f,c.onScrollbarXChange);return P.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),y.jsx(Z1,{"data-orientation":"horizontal",...a,ref:m,sizes:r,style:{...o,"--sa-thumb-width":`${Wd(r)}px`},onThumbPointerDown:v=>e.onThumbPointerDown(v.x),onDragScroll:v=>e.onDragScroll(v.x),onWheelScroll:(v,g)=>{if(c.viewport){const w=c.viewport.scrollLeft+v.deltaX;e.onWheelScroll(w),Q1(w,g)&&v.preventDefault()}},onResize:()=>{f.current&&c.viewport&&l&&n({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:_d(l.paddingLeft),paddingEnd:_d(l.paddingRight)}})}})});ex.displayName="@mantine/core/ScrollAreaScrollbarX";const tx=P.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,style:o,...a}=e,c=nn(),[l,d]=P.useState(),f=P.useRef(null),m=Ut(t,f,c.onScrollbarYChange);return P.useEffect(()=>{f.current&&d(window.getComputedStyle(f.current))},[]),y.jsx(Z1,{...a,"data-orientation":"vertical",ref:m,sizes:r,style:{"--sa-thumb-height":`${Wd(r)}px`,...o},onThumbPointerDown:v=>e.onThumbPointerDown(v.y),onDragScroll:v=>e.onDragScroll(v.y),onWheelScroll:(v,g)=>{if(c.viewport){const w=c.viewport.scrollTop+v.deltaY;e.onWheelScroll(w),Q1(w,g)&&v.preventDefault()}},onResize:()=>{f.current&&c.viewport&&l&&n({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:_d(l.paddingTop),paddingEnd:_d(l.paddingBottom)}})}})});tx.displayName="@mantine/core/ScrollAreaScrollbarY";const qd=P.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,{dir:o}=uo(),a=nn(),c=P.useRef(null),l=P.useRef(0),[d,f]=P.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=X1(d.viewport,d.content),v={...n,sizes:d,onSizesChange:f,hasThumb:m>0&&m<1,onThumbChange:w=>{c.current=w},onThumbPointerUp:()=>{l.current=0},onThumbPointerDown:w=>{l.current=w}},g=(w,b)=>LI(w,l.current,d,b);return r==="horizontal"?y.jsx(ex,{...v,ref:t,onThumbPositionChange:()=>{if(a.viewport&&c.current){const w=a.viewport.scrollLeft,b=Mb(w,d,o);c.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:w=>{a.viewport&&(a.viewport.scrollLeft=w)},onDragScroll:w=>{a.viewport&&(a.viewport.scrollLeft=g(w,o))}}):r==="vertical"?y.jsx(tx,{...v,ref:t,onThumbPositionChange:()=>{if(a.viewport&&c.current){const w=a.viewport.scrollTop,b=Mb(w,d);d.scrollbar.size===0?c.current.style.setProperty("--thumb-opacity","0"):c.current.style.setProperty("--thumb-opacity","1"),c.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:w=>{a.viewport&&(a.viewport.scrollTop=w)},onDragScroll:w=>{a.viewport&&(a.viewport.scrollTop=g(w))}}):null});qd.displayName="@mantine/core/ScrollAreaScrollbarVisible";const Hg=P.forwardRef((e,t)=>{const r=nn(),{forceMount:n,...o}=e,[a,c]=P.useState(!1),l=e.orientation==="horizontal",d=Nd(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;c(l?f:m)}},10);return Xi(r.viewport,d),Xi(r.content,d),n||a?y.jsx(qd,{"data-state":a?"visible":"hidden",...o,ref:t}):null});Hg.displayName="@mantine/core/ScrollAreaScrollbarAuto";const rx=P.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=nn(),[a,c]=P.useState(!1);return P.useEffect(()=>{const{scrollArea:l}=o;let d=0;if(l){const f=()=>{window.clearTimeout(d),c(!0)},m=()=>{d=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",f),l.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",f),l.removeEventListener("pointerleave",m)}}},[o.scrollArea,o.scrollHideDelay]),r||a?y.jsx(Hg,{"data-state":a?"visible":"hidden",...n,ref:t}):null});rx.displayName="@mantine/core/ScrollAreaScrollbarHover";const AI=P.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=nn(),a=e.orientation==="horizontal",[c,l]=P.useState("hidden"),d=Nd(()=>l("idle"),100);return P.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>l("hidden"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,o.scrollHideDelay]),P.useEffect(()=>{const{viewport:f}=o,m=a?"scrollLeft":"scrollTop";if(f){let v=f[m];const g=()=>{const w=f[m];v!==w&&(l("scrolling"),d()),v=w};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[o.viewport,a,d]),r||c!=="hidden"?y.jsx(qd,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Fo(e.onPointerEnter,()=>l("interacting")),onPointerLeave:Fo(e.onPointerLeave,()=>l("idle"))}):null}),Bm=P.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=nn(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:c}=o,l=e.orientation==="horizontal";return P.useEffect(()=>(l?a(!0):c(!0),()=>{l?a(!1):c(!1)}),[l,a,c]),o.type==="hover"?y.jsx(rx,{...n,ref:t,forceMount:r}):o.type==="scroll"?y.jsx(AI,{...n,ref:t,forceMount:r}):o.type==="auto"?y.jsx(Hg,{...n,ref:t,forceMount:r}):o.type==="always"?y.jsx(qd,{...n,ref:t}):null});Bm.displayName="@mantine/core/ScrollAreaScrollbar";function $I(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},c=r.left!==a.left,l=r.top!==a.top;(c||l)&&t(),r=a,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)}const nx=P.forwardRef((e,t)=>{const{style:r,...n}=e,o=nn(),a=J1(),{onThumbPositionChange:c}=a,l=Ut(t,m=>a.onThumbChange(m)),d=P.useRef(void 0),f=Nd(()=>{d.current&&(d.current(),d.current=void 0)},100);return P.useEffect(()=>{const{viewport:m}=o;if(m){const v=()=>{if(f(),!d.current){const g=$I(m,c);d.current=g,c()}};return c(),m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[o.viewport,f,c]),y.jsx("div",{"data-state":a.hasThumb?"visible":"hidden",...n,ref:l,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:Fo(e.onPointerDownCapture,m=>{const g=m.target.getBoundingClientRect(),w=m.clientX-g.left,b=m.clientY-g.top;a.onThumbPointerDown({x:w,y:b})}),onPointerUp:Fo(e.onPointerUp,a.onThumbPointerUp)})});nx.displayName="@mantine/core/ScrollAreaThumb";const Um=P.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=J1();return r||o.hasThumb?y.jsx(nx,{ref:t,...n}):null});Um.displayName="@mantine/core/ScrollAreaThumb";const sx=P.forwardRef(({children:e,style:t,...r},n)=>{const o=nn(),a=Ut(n,o.onViewportChange);return y.jsx(oe,{...r,ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t},children:y.jsx("div",{style:{minWidth:"100%",display:"table"},ref:o.onContentChange,children:e})})});sx.displayName="@mantine/core/ScrollAreaViewport";var Wg={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const ox={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},FI=(e,{scrollbarSize:t,overscrollBehavior:r})=>({root:{"--scrollarea-scrollbar-size":re(t),"--scrollarea-over-scroll-behavior":r}}),er=ye((e,t)=>{const r=ie("ScrollArea",ox,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,scrollbarSize:d,vars:f,type:m,scrollHideDelay:v,viewportProps:g,viewportRef:w,onScrollPositionChange:b,children:E,offsetScrollbars:R,scrollbars:T,onBottomReached:x,onTopReached:p,overscrollBehavior:h,...S}=r,[C,D]=P.useState(!1),[j,L]=P.useState(!1),[N,A]=P.useState(!1),O=Ae({name:"ScrollArea",props:r,classes:Wg,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:f,varsResolver:FI}),V=P.useRef(null),W=cI([w,V]);return P.useEffect(()=>{if(!V.current||R!=="present")return;const X=V.current,M=new ResizeObserver(()=>{const{scrollHeight:B,clientHeight:$,scrollWidth:F,clientWidth:H}=X;L(B>$),A(F>H)});return M.observe(X),()=>M.disconnect()},[V,R]),y.jsxs(K1,{type:m==="never"?"always":m,scrollHideDelay:v,ref:t,scrollbars:T,...O("root"),...S,children:[y.jsx(sx,{...g,...O("viewport",{style:g==null?void 0:g.style}),ref:W,"data-offset-scrollbars":R===!0?"xy":R||void 0,"data-scrollbars":T||void 0,"data-horizontal-hidden":R==="present"&&!N?"true":void 0,"data-vertical-hidden":R==="present"&&!j?"true":void 0,onScroll:X=>{var F;(F=g==null?void 0:g.onScroll)==null||F.call(g,X),b==null||b({x:X.currentTarget.scrollLeft,y:X.currentTarget.scrollTop});const{scrollTop:M,scrollHeight:B,clientHeight:$}=X.currentTarget;M-(B-$)>=0&&(x==null||x()),M===0&&(p==null||p())},children:E}),(T==="xy"||T==="x")&&y.jsx(Bm,{...O("scrollbar"),orientation:"horizontal","data-hidden":m==="never"||void 0,forceMount:!0,onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),children:y.jsx(Um,{...O("thumb")})}),(T==="xy"||T==="y")&&y.jsx(Bm,{...O("scrollbar"),orientation:"vertical","data-hidden":m==="never"||void 0,forceMount:!0,onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),children:y.jsx(Um,{...O("thumb")})}),y.jsx(II,{...O("corner"),"data-hovered":C||void 0,"data-hidden":m==="never"||void 0})]})});er.displayName="@mantine/core/ScrollArea";const qg=ye((e,t)=>{const{children:r,classNames:n,styles:o,scrollbarSize:a,scrollHideDelay:c,type:l,dir:d,offsetScrollbars:f,viewportRef:m,onScrollPositionChange:v,unstyled:g,variant:w,viewportProps:b,scrollbars:E,style:R,vars:T,onBottomReached:x,onTopReached:p,...h}=ie("ScrollAreaAutosize",ox,e);return y.jsx(oe,{...h,ref:t,style:[{display:"flex",overflow:"auto"},R],children:y.jsx(oe,{style:{display:"flex",flexDirection:"column",flex:1},children:y.jsx(er,{classNames:n,styles:o,scrollHideDelay:c,scrollbarSize:a,type:l,dir:d,offsetScrollbars:f,viewportRef:m,onScrollPositionChange:v,unstyled:g,variant:w,viewportProps:b,vars:T,scrollbars:E,onBottomReached:x,onTopReached:p,children:r})})})});er.classes=Wg;qg.displayName="@mantine/core/ScrollAreaAutosize";qg.classes=Wg;er.Autosize=qg;var ix={root:"m_87cf2631"};const zI={__staticSelector:"UnstyledButton"},ns=Zt((e,t)=>{const r=ie("UnstyledButton",zI,e),{className:n,component:o="button",__staticSelector:a,unstyled:c,classNames:l,styles:d,style:f,...m}=r,v=Ae({name:a,props:r,classes:ix,className:n,style:f,classNames:l,styles:d,unstyled:c});return y.jsx(oe,{...v("root",{focusable:!0}),component:o,ref:t,type:o==="button"?"button":void 0,...m})});ns.classes=ix;ns.displayName="@mantine/core/UnstyledButton";var ax={root:"m_515a97f8"};const BI={},Gg=ye((e,t)=>{const r=ie("VisuallyHidden",BI,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,...f}=r,m=Ae({name:"VisuallyHidden",classes:ax,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l});return y.jsx(oe,{component:"span",ref:t,...m("root"),...f})});Gg.classes=ax;Gg.displayName="@mantine/core/VisuallyHidden";var cx={root:"m_1b7284a3"};const UI={},VI=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:kt(t),"--paper-shadow":bg(r)}}),Oc=Zt((e,t)=>{const r=ie("Paper",UI,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,withBorder:d,vars:f,radius:m,shadow:v,variant:g,mod:w,...b}=r,E=Ae({name:"Paper",props:r,classes:cx,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:f,varsResolver:VI});return y.jsx(oe,{ref:t,mod:[{"data-with-border":d},w],...E("root"),variant:g,...b})});Oc.classes=cx;Oc.displayName="@mantine/core/Paper";function lx(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,n]=t.split("-"),o=r==="right"?"left":"right";return n===void 0?o:`${o}-${n}`}return t}function Nb(e,t,r,n){return e==="center"||n==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function Lb(e,t,r,n,o){return e==="center"||n==="center"?{left:t}:e==="end"?{[o==="ltr"?"right":"left"]:r}:e==="start"?{[o==="ltr"?"left":"right"]:r}:{}}const HI={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function WI({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:o,arrowX:a,arrowY:c,dir:l}){const[d,f="center"]=e.split("-"),m={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[HI[d]]:n},v=-t/2;return d==="left"?{...m,...Nb(f,c,r,o),right:v,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:d==="right"?{...m,...Nb(f,c,r,o),left:v,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:d==="top"?{...m,...Lb(f,a,r,o,l),bottom:v,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:d==="bottom"?{...m,...Lb(f,a,r,o,l),top:v,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const Kg=P.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:o,visible:a,arrowX:c,arrowY:l,style:d,...f},m)=>{const{dir:v}=uo();return a?y.jsx("div",{...f,ref:m,style:{...d,...WI({position:e,arrowSize:t,arrowOffset:r,arrowRadius:n,arrowPosition:o,dir:v,arrowX:c,arrowY:l})}}):null});Kg.displayName="@mantine/core/FloatingArrow";var ux={root:"m_9814e45f"};const qI={zIndex:Pr("modal")},GI=(e,{gradient:t,color:r,backgroundOpacity:n,blur:o,radius:a,zIndex:c})=>({root:{"--overlay-bg":t||(r!==void 0||n!==void 0)&&Yn(r||"#000",n??.6)||void 0,"--overlay-filter":o?`blur(${re(o)})`:void 0,"--overlay-radius":a===void 0?void 0:kt(a),"--overlay-z-index":c==null?void 0:c.toString()}}),Gd=Zt((e,t)=>{const r=ie("Overlay",qI,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,fixed:f,center:m,children:v,radius:g,zIndex:w,gradient:b,blur:E,color:R,backgroundOpacity:T,mod:x,...p}=r,h=Ae({name:"Overlay",props:r,classes:ux,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:GI});return y.jsx(oe,{ref:t,...h("root"),mod:[{center:m,fixed:f},x],...p,children:v})});Gd.classes=ux;Gd.displayName="@mantine/core/Overlay";function Jh(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function KI({target:e,reuseTargetNode:t,...r}){if(e)return typeof e=="string"?document.querySelector(e)||Jh(r):e;if(t){const n=document.querySelector("[data-mantine-shared-portal-node]");if(n)return n;const o=Jh(r);return o.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(o),o}return Jh(r)}const XI={},dx=ye((e,t)=>{const{children:r,target:n,reuseTargetNode:o,...a}=ie("Portal",XI,e),[c,l]=P.useState(!1),d=P.useRef(null);return ea(()=>(l(!0),d.current=KI({target:n,reuseTargetNode:o,...a}),gd(t,d.current),!n&&!o&&d.current&&document.body.appendChild(d.current),()=>{!n&&!o&&d.current&&document.body.removeChild(d.current)}),[n]),!c||!d.current?null:Fd.createPortal(y.jsx(y.Fragment,{children:r}),d.current)});dx.displayName="@mantine/core/Portal";const Yo=ye(({withinPortal:e=!0,children:t,...r},n)=>S1()==="test"||!e?y.jsx(y.Fragment,{children:t}):y.jsx(dx,{ref:n,...r,children:t}));Yo.displayName="@mantine/core/OptionalPortal";const ec=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),ou={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...ec("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...ec("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...ec("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...ec("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...ec("top"),common:{transformOrigin:"top right"}}},Ob={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function YI({transition:e,state:t,duration:r,timingFunction:n}){const o={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${r}ms`,transitionTimingFunction:n};return typeof e=="string"?e in ou?{transitionProperty:ou[e].transitionProperty,...o,...ou[e].common,...ou[e][Ob[t]]}:{}:{transitionProperty:e.transitionProperty,...o,...e.common,...e[Ob[t]]}}function QI({duration:e,exitDuration:t,timingFunction:r,mounted:n,onEnter:o,onExit:a,onEntered:c,onExited:l,enterDelay:d,exitDelay:f}){const m=lr(),v=Ld(),g=m.respectReducedMotion?v:!1,[w,b]=P.useState(g?0:e),[E,R]=P.useState(n?"entered":"exited"),T=P.useRef(-1),x=P.useRef(-1),p=P.useRef(-1),h=C=>{const D=C?o:a,j=C?c:l;window.clearTimeout(T.current);const L=g?0:C?e:t;b(L),L===0?(typeof D=="function"&&D(),typeof j=="function"&&j(),R(C?"entered":"exited")):p.current=requestAnimationFrame(()=>{fc.flushSync(()=>{R(C?"pre-entering":"pre-exiting")}),p.current=requestAnimationFrame(()=>{typeof D=="function"&&D(),R(C?"entering":"exiting"),T.current=window.setTimeout(()=>{typeof j=="function"&&j(),R(C?"entered":"exited")},L)})})},S=C=>{if(window.clearTimeout(x.current),typeof(C?d:f)!="number"){h(C);return}x.current=window.setTimeout(()=>{h(C)},C?d:f)};return Er(()=>{S(n)},[n]),P.useEffect(()=>()=>{window.clearTimeout(T.current),cancelAnimationFrame(p.current)},[]),{transitionDuration:w,transitionStatus:E,transitionTimingFunction:r||"ease"}}function ks({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:n=r,mounted:o,children:a,timingFunction:c="ease",onExit:l,onEntered:d,onEnter:f,onExited:m,enterDelay:v,exitDelay:g}){const w=S1(),{transitionDuration:b,transitionStatus:E,transitionTimingFunction:R}=QI({mounted:o,exitDuration:n,duration:r,timingFunction:c,onExit:l,onEntered:d,onEnter:f,onExited:m,enterDelay:v,exitDelay:g});return b===0||w==="test"?o?y.jsx(y.Fragment,{children:a({})}):e?a({display:"none"}):null:E==="exited"?e?a({display:"none"}):null:y.jsx(y.Fragment,{children:a(YI({transition:t,duration:b,state:E,timingFunction:R}))})}ks.displayName="@mantine/core/Transition";const[JI,fx]=Bn("Popover component was not found in the tree");function Kd({children:e,active:t=!0,refProp:r="ref",innerRef:n}){const o=FP(t),a=Ut(o,n);return co(e)?P.cloneElement(e,{[r]:a}):e}function px(e){return y.jsx(Gg,{tabIndex:-1,"data-autofocus":!0,...e})}Kd.displayName="@mantine/core/FocusTrap";px.displayName="@mantine/core/FocusTrapInitialFocus";Kd.InitialFocus=px;var hx={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const ZI={},Xg=ye((e,t)=>{var R,T,x,p;const r=ie("PopoverDropdown",ZI,e),{className:n,style:o,vars:a,children:c,onKeyDownCapture:l,variant:d,classNames:f,styles:m,...v}=r,g=fx(),w=f1({opened:g.opened,shouldReturnFocus:g.returnFocus}),b=g.withRoles?{"aria-labelledby":g.getTargetId(),id:g.getDropdownId(),role:"dialog",tabIndex:-1}:{},E=Ut(t,g.floating);return g.disabled?null:y.jsx(Yo,{...g.portalProps,withinPortal:g.withinPortal,children:y.jsx(ks,{mounted:g.opened,...g.transitionProps,transition:((R=g.transitionProps)==null?void 0:R.transition)||"fade",duration:((T=g.transitionProps)==null?void 0:T.duration)??150,keepMounted:g.keepMounted,exitDuration:typeof((x=g.transitionProps)==null?void 0:x.exitDuration)=="number"?g.transitionProps.exitDuration:(p=g.transitionProps)==null?void 0:p.duration,children:h=>y.jsx(Kd,{active:g.trapFocus&&g.opened,innerRef:E,children:y.jsxs(oe,{...b,...v,variant:d,onKeyDownCapture:_P(()=>{var S,C;(S=g.onClose)==null||S.call(g),(C=g.onDismiss)==null||C.call(g)},{active:g.closeOnEscape,onTrigger:w,onKeyDown:l}),"data-position":g.placement,"data-fixed":g.floatingStrategy==="fixed"||void 0,...g.getStyles("dropdown",{className:n,props:r,classNames:f,styles:m,style:[{...h,zIndex:g.zIndex,top:g.y??0,left:g.x??0,width:g.width==="target"?void 0:re(g.width)},g.resolvedStyles.dropdown,m==null?void 0:m.dropdown,o]}),children:[c,y.jsx(Kg,{ref:g.arrowRef,arrowX:g.arrowX,arrowY:g.arrowY,visible:g.withArrow,position:g.placement,arrowSize:g.arrowSize,arrowRadius:g.arrowRadius,arrowOffset:g.arrowOffset,arrowPosition:g.arrowPosition,...g.getStyles("arrow",{props:r,classNames:f,styles:m})})]})})})})});Xg.classes=hx;Xg.displayName="@mantine/core/PopoverDropdown";const e2={refProp:"ref",popupType:"dialog"},mx=ye((e,t)=>{const{children:r,refProp:n,popupType:o,...a}=ie("PopoverTarget",e2,e);if(!co(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=a,l=fx(),d=Ut(l.reference,Od(r),t),f=l.withRoles?{"aria-haspopup":o,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return P.cloneElement(r,{...c,...f,...l.targetProps,className:qt(l.targetProps.className,c.className,r.props.className),[n]:d,...l.controlled?null:{onClick:l.onToggle}})});mx.displayName="@mantine/core/PopoverTarget";function gx({opened:e,floating:t,position:r,positionDependencies:n}){const[o,a]=P.useState(0);P.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return Qj(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,o,r]),Er(()=>{t.update()},n),Er(()=>{a(c=>c+1)},[e])}function t2(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function r2(e,t){const r=t2(e.middlewares),n=[V1(e.offset)];return r.shift&&n.push(Fg(typeof r.shift=="boolean"?{limiter:Eb(),padding:5}:{limiter:Eb(),padding:5,...r.shift})),r.flip&&n.push(typeof r.flip=="boolean"?bd():bd(r.flip)),r.inline&&n.push(typeof r.inline=="boolean"?wc():wc(r.inline)),n.push(H1({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&n.push(aI({...typeof r.size=="boolean"?{}:r.size,apply({rects:o,availableWidth:a,availableHeight:c,...l}){var m;const f=((m=t().refs.floating.current)==null?void 0:m.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:o,availableWidth:a,availableHeight:c,...l}):Object.assign(f,{maxWidth:`${a}px`,maxHeight:`${c}px`})),e.width==="target"&&Object.assign(f,{width:`${o.reference.width}px`})}})),n}function n2(e){const[t,r]=Tr({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),n=P.useRef(t),o=()=>{t&&r(!1)},a=()=>r(!t),c=Vg({strategy:e.strategy,placement:e.position,middleware:r2(e,()=>c)});return gx({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:c}),Er(()=>{var l;(l=e.onPositionChange)==null||l.call(e,c.placement)},[c.placement]),Er(()=>{var l,d;t!==n.current&&(t?(d=e.onOpen)==null||d.call(e):(l=e.onClose)==null||l.call(e)),n.current=t},[t,e.onClose,e.onOpen]),{floating:c,controlled:typeof e.opened=="boolean",opened:t,onClose:o,onToggle:a}}const s2={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Pr("popover"),__staticSelector:"Popover",width:"max-content"},o2=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:kt(t),"--popover-shadow":bg(r)}});function Jt(e){var Pe,Ce,Ne,Se,Ye,at;const t=ie("Popover",s2,e),{children:r,position:n,offset:o,onPositionChange:a,positionDependencies:c,opened:l,transitionProps:d,onExitTransitionEnd:f,onEnterTransitionEnd:m,width:v,middlewares:g,withArrow:w,arrowSize:b,arrowOffset:E,arrowRadius:R,arrowPosition:T,unstyled:x,classNames:p,styles:h,closeOnClickOutside:S,withinPortal:C,portalProps:D,closeOnEscape:j,clickOutsideEvents:L,trapFocus:N,onClose:A,onDismiss:O,onOpen:V,onChange:W,zIndex:X,radius:M,shadow:B,id:$,defaultOpened:F,__staticSelector:H,withRoles:U,disabled:G,returnFocus:ne,variant:ue,keepMounted:Q,vars:se,floatingStrategy:le,withOverlay:ge,overlayProps:te,...he}=t,_e=Ae({name:H,props:t,classes:hx,classNames:p,styles:h,unstyled:x,rootSelector:"dropdown",vars:se,varsResolver:o2}),{resolvedStyles:He}=Xo({classNames:p,styles:h,props:t}),qe=P.useRef(null),[Qe,ot]=P.useState(null),[dt,fe]=P.useState(null),{dir:we}=uo(),Ee=Ts($),Me=n2({middlewares:g,width:v,position:lx(we,n),offset:typeof o=="number"?o+(w?b/2:0):o,arrowRef:qe,arrowOffset:E,onPositionChange:a,positionDependencies:c,opened:l,defaultOpened:F,onChange:W,onOpen:V,onClose:A,onDismiss:O,strategy:le});PP(()=>{S&&(Me.onClose(),O==null||O())},L,[Qe,dt]);const ze=P.useCallback(Ze=>{ot(Ze),Me.floating.refs.setReference(Ze)},[Me.floating.refs.setReference]),Fe=P.useCallback(Ze=>{fe(Ze),Me.floating.refs.setFloating(Ze)},[Me.floating.refs.setFloating]),Ge=P.useCallback(()=>{var Ze;(Ze=d==null?void 0:d.onExited)==null||Ze.call(d),f==null||f()},[d==null?void 0:d.onExited,f]),me=P.useCallback(()=>{var Ze;(Ze=d==null?void 0:d.onEntered)==null||Ze.call(d),m==null||m()},[d==null?void 0:d.onEntered,m]);return y.jsxs(JI,{value:{returnFocus:ne,disabled:G,controlled:Me.controlled,reference:ze,floating:Fe,x:Me.floating.x,y:Me.floating.y,arrowX:(Ne=(Ce=(Pe=Me.floating)==null?void 0:Pe.middlewareData)==null?void 0:Ce.arrow)==null?void 0:Ne.x,arrowY:(at=(Ye=(Se=Me.floating)==null?void 0:Se.middlewareData)==null?void 0:Ye.arrow)==null?void 0:at.y,opened:Me.opened,arrowRef:qe,transitionProps:{...d,onExited:Ge,onEntered:me},width:v,withArrow:w,arrowSize:b,arrowOffset:E,arrowRadius:R,arrowPosition:T,placement:Me.floating.placement,trapFocus:N,withinPortal:C,portalProps:D,zIndex:X,radius:M,shadow:B,closeOnEscape:j,onDismiss:O,onClose:Me.onClose,onToggle:Me.onToggle,getTargetId:()=>`${Ee}-target`,getDropdownId:()=>`${Ee}-dropdown`,withRoles:U,targetProps:he,__staticSelector:H,classNames:p,styles:h,unstyled:x,variant:ue,keepMounted:Q,getStyles:_e,resolvedStyles:He,floatingStrategy:le},children:[r,ge&&y.jsx(ks,{transition:"fade",mounted:Me.opened,duration:(d==null?void 0:d.duration)||250,exitDuration:(d==null?void 0:d.exitDuration)||250,children:Ze=>y.jsx(Yo,{withinPortal:C,children:y.jsx(Gd,{...te,..._e("overlay",{className:te==null?void 0:te.className,style:[Ze,te==null?void 0:te.style]})})})})]})}Jt.Target=mx;Jt.Dropdown=Xg;Jt.displayName="@mantine/core/Popover";Jt.extend=e=>e;var Ln={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const vx=P.forwardRef(({className:e,...t},r)=>y.jsxs(oe,{component:"span",className:qt(Ln.barsLoader,e),...t,ref:r,children:[y.jsx("span",{className:Ln.bar}),y.jsx("span",{className:Ln.bar}),y.jsx("span",{className:Ln.bar})]}));vx.displayName="@mantine/core/Bars";const yx=P.forwardRef(({className:e,...t},r)=>y.jsxs(oe,{component:"span",className:qt(Ln.dotsLoader,e),...t,ref:r,children:[y.jsx("span",{className:Ln.dot}),y.jsx("span",{className:Ln.dot}),y.jsx("span",{className:Ln.dot})]}));yx.displayName="@mantine/core/Dots";const wx=P.forwardRef(({className:e,...t},r)=>y.jsx(oe,{component:"span",className:qt(Ln.ovalLoader,e),...t,ref:r}));wx.displayName="@mantine/core/Oval";const Sx={bars:vx,oval:wx,dots:yx},i2={loaders:Sx,type:"oval"},a2=(e,{size:t,color:r})=>({root:{"--loader-size":Xe(t,"loader-size"),"--loader-color":r?gr(r,e):void 0}}),Ps=ye((e,t)=>{const r=ie("Loader",i2,e),{size:n,color:o,type:a,vars:c,className:l,style:d,classNames:f,styles:m,unstyled:v,loaders:g,variant:w,children:b,...E}=r,R=Ae({name:"Loader",props:r,classes:Ln,className:l,style:d,classNames:f,styles:m,unstyled:v,vars:c,varsResolver:a2});return b?y.jsx(oe,{...R("root"),ref:t,...E,children:b}):y.jsx(oe,{...R("root"),ref:t,component:g[a],variant:w,size:n,...E})});Ps.defaultLoaders=Sx;Ps.classes=Ln;Ps.displayName="@mantine/core/Loader";var sa={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const Ab={orientation:"horizontal"},c2=(e,{borderWidth:t})=>({group:{"--ai-border-width":re(t)}}),Yg=ye((e,t)=>{const r=ie("ActionIconGroup",Ab,e),{className:n,style:o,classNames:a,styles:c,unstyled:l,orientation:d,vars:f,borderWidth:m,variant:v,mod:g,...w}=ie("ActionIconGroup",Ab,e),b=Ae({name:"ActionIconGroup",props:r,classes:sa,className:n,style:o,classNames:a,styles:c,unstyled:l,vars:f,varsResolver:c2,rootSelector:"group"});return y.jsx(oe,{...b("group"),ref:t,variant:v,mod:[{"data-orientation":d},g],role:"group",...w})});Yg.classes=sa;Yg.displayName="@mantine/core/ActionIconGroup";const $b={},l2=(e,{radius:t,color:r,gradient:n,variant:o,autoContrast:a,size:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:o||"filled",autoContrast:a});return{groupSection:{"--section-height":Xe(c,"section-height"),"--section-padding-x":Xe(c,"section-padding-x"),"--section-fz":cr(c),"--section-radius":t===void 0?void 0:kt(t),"--section-bg":r||o?l.background:void 0,"--section-color":l.color,"--section-bd":r||o?l.border:void 0}}},Qg=ye((e,t)=>{const r=ie("ActionIconGroupSection",$b,e),{className:n,style:o,classNames:a,styles:c,unstyled:l,vars:d,variant:f,gradient:m,radius:v,autoContrast:g,...w}=ie("ActionIconGroupSection",$b,e),b=Ae({name:"ActionIconGroupSection",props:r,classes:sa,className:n,style:o,classNames:a,styles:c,unstyled:l,vars:d,varsResolver:l2,rootSelector:"groupSection"});return y.jsx(oe,{...b("groupSection"),ref:t,variant:f,...w})});Qg.classes=sa;Qg.displayName="@mantine/core/ActionIconGroupSection";const u2={},d2=(e,{size:t,radius:r,variant:n,gradient:o,color:a,autoContrast:c})=>{const l=e.variantColorResolver({color:a||e.primaryColor,theme:e,gradient:o,variant:n||"filled",autoContrast:c});return{root:{"--ai-size":Xe(t,"ai-size"),"--ai-radius":r===void 0?void 0:kt(r),"--ai-bg":a||n?l.background:void 0,"--ai-hover":a||n?l.hover:void 0,"--ai-hover-color":a||n?l.hoverColor:void 0,"--ai-color":l.color,"--ai-bd":a||n?l.border:void 0}}},ut=Zt((e,t)=>{const r=ie("ActionIcon",u2,e),{className:n,unstyled:o,variant:a,classNames:c,styles:l,style:d,loading:f,loaderProps:m,size:v,color:g,radius:w,__staticSelector:b,gradient:E,vars:R,children:T,disabled:x,"data-disabled":p,autoContrast:h,mod:S,...C}=r,D=Ae({name:["ActionIcon",b],props:r,className:n,style:d,classes:sa,classNames:c,styles:l,unstyled:o,vars:R,varsResolver:d2});return y.jsxs(ns,{...D("root",{active:!x&&!f&&!p}),...C,unstyled:o,variant:a,size:v,disabled:x||f,ref:t,mod:[{loading:f,disabled:x||p},S],children:[y.jsx(ks,{mounted:!!f,transition:"slide-down",duration:150,children:j=>y.jsx(oe,{component:"span",...D("loader",{style:j}),"aria-hidden":!0,children:y.jsx(Ps,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...m})})}),y.jsx(oe,{component:"span",mod:{loading:f},...D("icon"),children:T})]})});ut.classes=sa;ut.displayName="@mantine/core/ActionIcon";ut.Group=Yg;ut.GroupSection=Qg;const bx=P.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},n)=>y.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:n,...r,children:y.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));bx.displayName="@mantine/core/CloseIcon";var _x={root:"m_86a44da5","root--subtle":"m_220c80f2"};const f2={variant:"subtle"},p2=(e,{size:t,radius:r,iconSize:n})=>({root:{"--cb-size":Xe(t,"cb-size"),"--cb-radius":r===void 0?void 0:kt(r),"--cb-icon-size":re(n)}}),oa=Zt((e,t)=>{const r=ie("CloseButton",f2,e),{iconSize:n,children:o,vars:a,radius:c,className:l,classNames:d,style:f,styles:m,unstyled:v,"data-disabled":g,disabled:w,variant:b,icon:E,mod:R,__staticSelector:T,...x}=r,p=Ae({name:T||"CloseButton",props:r,className:l,style:f,classes:_x,classNames:d,styles:m,unstyled:v,vars:a,varsResolver:p2});return y.jsxs(ns,{ref:t,...x,unstyled:v,variant:b,disabled:w,mod:[{disabled:w||g},R],...p("root",{variant:b,active:!w&&!g}),children:[E||y.jsx(bx,{}),o]})});oa.classes=_x;oa.displayName="@mantine/core/CloseButton";function h2(e){return P.Children.toArray(e).filter(Boolean)}var xx={root:"m_4081bf90"};const m2={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},g2=(e,{grow:t,preventGrowOverflow:r,gap:n,align:o,justify:a,wrap:c},{childWidth:l})=>({root:{"--group-child-width":t&&r?l:void 0,"--group-gap":ar(n),"--group-align":o,"--group-justify":a,"--group-wrap":c}}),Le=ye((e,t)=>{const r=ie("Group",m2,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,children:d,gap:f,align:m,justify:v,wrap:g,grow:w,preventGrowOverflow:b,vars:E,variant:R,__size:T,mod:x,...p}=r,h=h2(d),S=h.length,C=ar(f??"md"),j={childWidth:`calc(${100/S}% - (${C} - ${C} / ${S}))`},L=Ae({name:"Group",props:r,stylesCtx:j,className:o,style:a,classes:xx,classNames:n,styles:c,unstyled:l,vars:E,varsResolver:g2});return y.jsx(oe,{...L("root"),ref:t,variant:R,mod:[{grow:w},x],size:T,...p,children:h})});Le.classes=xx;Le.displayName="@mantine/core/Group";const[v2,Ds]=Bn("ModalBase component was not found in tree");function y2({opened:e,transitionDuration:t}){const[r,n]=P.useState(e),o=P.useRef(-1),c=Ld()?0:t;return P.useEffect(()=>(e?(n(!0),window.clearTimeout(o.current)):c===0?n(!1):o.current=window.setTimeout(()=>n(!1),c),()=>window.clearTimeout(o.current)),[e,c]),r}function w2({id:e,transitionProps:t,opened:r,trapFocus:n,closeOnEscape:o,onClose:a,returnFocus:c}){const l=Ts(e),[d,f]=P.useState(!1),[m,v]=P.useState(!1),g=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,w=y2({opened:r,transitionDuration:g});return HP("keydown",b=>{var E;b.key==="Escape"&&o&&r&&((E=b.target)==null?void 0:E.getAttribute("data-mantine-stop-propagation"))!=="true"&&a()},{capture:!0}),f1({opened:r,shouldReturnFocus:n&&c}),{_id:l,titleMounted:d,bodyMounted:m,shouldLockScroll:w,setTitleMounted:f,setBodyMounted:v}}const Jg=P.forwardRef(({keepMounted:e,opened:t,onClose:r,id:n,transitionProps:o,onExitTransitionEnd:a,onEnterTransitionEnd:c,trapFocus:l,closeOnEscape:d,returnFocus:f,closeOnClickOutside:m,withinPortal:v,portalProps:g,lockScroll:w,children:b,zIndex:E,shadow:R,padding:T,__vars:x,unstyled:p,removeScrollProps:h,...S},C)=>{const{_id:D,titleMounted:j,bodyMounted:L,shouldLockScroll:N,setTitleMounted:A,setBodyMounted:O}=w2({id:n,transitionProps:o,opened:t,trapFocus:l,closeOnEscape:d,onClose:r,returnFocus:f}),{key:V,...W}=h||{};return y.jsx(Yo,{...g,withinPortal:v,children:y.jsx(v2,{value:{opened:t,onClose:r,closeOnClickOutside:m,onExitTransitionEnd:a,onEnterTransitionEnd:c,transitionProps:{...o,keepMounted:e},getTitleId:()=>`${D}-title`,getBodyId:()=>`${D}-body`,titleMounted:j,bodyMounted:L,setTitleMounted:A,setBodyMounted:O,trapFocus:l,closeOnEscape:d,zIndex:E,unstyled:p},children:y.jsx(hd,{enabled:N&&w,...W,children:y.jsx(oe,{ref:C,...S,__vars:{...x,"--mb-z-index":(E||Pr("modal")).toString(),"--mb-shadow":bg(R),"--mb-padding":ar(T)},children:b})},V)})})});Jg.displayName="@mantine/core/ModalBase";function S2(){const e=Ds();return P.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Yi={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const Zg=P.forwardRef(({className:e,...t},r)=>{const n=S2(),o=Ds();return y.jsx(oe,{ref:r,...t,id:n,className:qt({[Yi.body]:!o.unstyled},e)})});Zg.displayName="@mantine/core/ModalBaseBody";const ev=P.forwardRef(({className:e,onClick:t,...r},n)=>{const o=Ds();return y.jsx(oa,{ref:n,...r,onClick:a=>{o.onClose(),t==null||t(a)},className:qt({[Yi.close]:!o.unstyled},e),unstyled:o.unstyled})});ev.displayName="@mantine/core/ModalBaseCloseButton";const tv=P.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:n,style:o,...a},c)=>{const l=Ds();return y.jsx(ks,{mounted:l.opened,transition:"pop",...l.transitionProps,onExited:()=>{var d,f,m;(d=l.onExitTransitionEnd)==null||d.call(l),(m=(f=l.transitionProps)==null?void 0:f.onExited)==null||m.call(f)},onEntered:()=>{var d,f,m;(d=l.onEnterTransitionEnd)==null||d.call(l),(m=(f=l.transitionProps)==null?void 0:f.onEntered)==null||m.call(f)},...e,children:d=>y.jsx("div",{...r,className:qt({[Yi.inner]:!l.unstyled},r.className),children:y.jsx(Kd,{active:l.opened&&l.trapFocus,innerRef:c,children:y.jsx(Oc,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":l.bodyMounted?l.getBodyId():void 0,"aria-labelledby":l.titleMounted?l.getTitleId():void 0,style:[o,d],className:qt({[Yi.content]:!l.unstyled},t),unstyled:l.unstyled,children:a.children})})})})});tv.displayName="@mantine/core/ModalBaseContent";const rv=P.forwardRef(({className:e,...t},r)=>{const n=Ds();return y.jsx(oe,{component:"header",ref:r,className:qt({[Yi.header]:!n.unstyled},e),...t})});rv.displayName="@mantine/core/ModalBaseHeader";const b2={duration:200,timingFunction:"ease",transition:"fade"};function _2(e){const t=Ds();return{...b2,...t.transitionProps,...e}}const nv=P.forwardRef(({onClick:e,transitionProps:t,style:r,visible:n,...o},a)=>{const c=Ds(),l=_2(t);return y.jsx(ks,{mounted:n!==void 0?n:c.opened,...l,transition:"fade",children:d=>y.jsx(Gd,{ref:a,fixed:!0,style:[r,d],zIndex:c.zIndex,unstyled:c.unstyled,onClick:f=>{e==null||e(f),c.closeOnClickOutside&&c.onClose()},...o})})});nv.displayName="@mantine/core/ModalBaseOverlay";function x2(){const e=Ds();return P.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const sv=P.forwardRef(({className:e,...t},r)=>{const n=x2(),o=Ds();return y.jsx(oe,{component:"h2",ref:r,className:qt({[Yi.title]:!o.unstyled},e),...t,id:n})});sv.displayName="@mantine/core/ModalBaseTitle";function Cx({children:e}){return y.jsx(y.Fragment,{children:e})}const[C2,R2]=Ko({size:"sm"}),E2={},Rx=ye((e,t)=>{const r=ie("InputClearButton",E2,e),{size:n,variant:o,vars:a,classNames:c,styles:l,...d}=r,f=R2(),{resolvedClassNames:m,resolvedStyles:v}=Xo({classNames:c,styles:l,props:r});return y.jsx(oa,{variant:o||"transparent",ref:t,size:n||(f==null?void 0:f.size)||"sm",classNames:m,styles:v,__staticSelector:"InputClearButton",...d})});Rx.displayName="@mantine/core/InputClearButton";const[T2,Ac]=Ko({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var sn={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Fb={},k2=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${cr(t)} - ${re(2)})`}}),Xd=ye((e,t)=>{const r=ie("InputDescription",Fb,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,size:f,__staticSelector:m,__inheritStyles:v=!0,variant:g,...w}=ie("InputDescription",Fb,r),b=Ac(),E=Ae({name:["InputWrapper",m],props:r,classes:sn,className:o,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"description",vars:d,varsResolver:k2}),R=v&&(b==null?void 0:b.getStyles)||E;return y.jsx(oe,{component:"p",ref:t,variant:g,size:f,...R("description",b!=null&&b.getStyles?{className:o,style:a}:void 0),...w})});Xd.classes=sn;Xd.displayName="@mantine/core/InputDescription";const P2={},D2=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${cr(t)} - ${re(2)})`}}),Yd=ye((e,t)=>{const r=ie("InputError",P2,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,size:f,__staticSelector:m,__inheritStyles:v=!0,variant:g,...w}=r,b=Ae({name:["InputWrapper",m],props:r,classes:sn,className:o,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"error",vars:d,varsResolver:D2}),E=Ac(),R=v&&(E==null?void 0:E.getStyles)||b;return y.jsx(oe,{component:"p",ref:t,variant:g,size:f,...R("error",E!=null&&E.getStyles?{className:o,style:a}:void 0),...w})});Yd.classes=sn;Yd.displayName="@mantine/core/InputError";const zb={labelElement:"label"},j2=(e,{size:t})=>({label:{"--input-label-size":cr(t),"--input-asterisk-color":void 0}}),Qd=ye((e,t)=>{const r=ie("InputLabel",zb,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,labelElement:f,size:m,required:v,htmlFor:g,onMouseDown:w,children:b,__staticSelector:E,variant:R,mod:T,...x}=ie("InputLabel",zb,r),p=Ae({name:["InputWrapper",E],props:r,classes:sn,className:o,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"label",vars:d,varsResolver:j2}),h=Ac(),S=(h==null?void 0:h.getStyles)||p;return y.jsxs(oe,{...S("label",h!=null&&h.getStyles?{className:o,style:a}:void 0),component:f,variant:R,size:m,ref:t,htmlFor:f==="label"?g:void 0,mod:[{required:v},T],onMouseDown:C=>{w==null||w(C),!C.defaultPrevented&&C.detail>1&&C.preventDefault()},...x,children:[b,v&&y.jsx("span",{...S("required"),"aria-hidden":!0,children:" *"})]})});Qd.classes=sn;Qd.displayName="@mantine/core/InputLabel";const Bb={},ov=ye((e,t)=>{const r=ie("InputPlaceholder",Bb,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,__staticSelector:f,variant:m,error:v,mod:g,...w}=ie("InputPlaceholder",Bb,r),b=Ae({name:["InputPlaceholder",f],props:r,classes:sn,className:o,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"placeholder"});return y.jsx(oe,{...b("placeholder"),mod:[{error:!!v},g],component:"span",variant:m,ref:t,...w})});ov.classes=sn;ov.displayName="@mantine/core/InputPlaceholder";function I2(e,{hasDescription:t,hasError:r}){const n=e.findIndex(d=>d==="input"),o=e.slice(0,n),a=e.slice(n+1),c=t&&o.includes("description")||r&&o.includes("error");return{offsetBottom:t&&a.includes("description")||r&&a.includes("error"),offsetTop:c}}const M2={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},N2=(e,{size:t})=>({label:{"--input-label-size":cr(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${cr(t)} - ${re(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${cr(t)} - ${re(2)})`}}),iv=ye((e,t)=>{const r=ie("InputWrapper",M2,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,size:f,variant:m,__staticSelector:v,inputContainer:g,inputWrapperOrder:w,label:b,error:E,description:R,labelProps:T,descriptionProps:x,errorProps:p,labelElement:h,children:S,withAsterisk:C,id:D,required:j,__stylesApiProps:L,mod:N,...A}=r,O=Ae({name:["InputWrapper",v],props:L||r,classes:sn,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:N2}),V={size:f,variant:m,__staticSelector:v},W=Ts(D),X=typeof C=="boolean"?C:j,M=(p==null?void 0:p.id)||`${W}-error`,B=(x==null?void 0:x.id)||`${W}-description`,$=W,F=!!E&&typeof E!="boolean",H=!!R,U=`${F?M:""} ${H?B:""}`,G=U.trim().length>0?U.trim():void 0,ne=(T==null?void 0:T.id)||`${W}-label`,ue=b&&y.jsx(Qd,{labelElement:h,id:ne,htmlFor:$,required:X,...V,...T,children:b},"label"),Q=H&&y.jsx(Xd,{...x,...V,size:(x==null?void 0:x.size)||V.size,id:(x==null?void 0:x.id)||B,children:R},"description"),se=y.jsx(P.Fragment,{children:g(S)},"input"),le=F&&P.createElement(Yd,{...p,...V,size:(p==null?void 0:p.size)||V.size,key:"error",id:(p==null?void 0:p.id)||M},E),ge=w.map(te=>{switch(te){case"label":return ue;case"input":return se;case"description":return Q;case"error":return le;default:return null}});return y.jsx(T2,{value:{getStyles:O,describedBy:G,inputId:$,labelId:ne,...I2(w,{hasDescription:H,hasError:F})},children:y.jsx(oe,{ref:t,variant:m,size:f,mod:[{error:!!E},N],...O("root"),...A,children:ge})})});iv.classes=sn;iv.displayName="@mantine/core/InputWrapper";const L2={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},O2=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Xe(t.size,"input-height"),"--input-fz":cr(t.size),"--input-radius":t.radius===void 0?void 0:kt(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?re(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?re(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Xe(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Tt=Zt((e,t)=>{const r=ie("Input",L2,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,required:d,__staticSelector:f,__stylesApiProps:m,size:v,wrapperProps:g,error:w,disabled:b,leftSection:E,leftSectionProps:R,leftSectionWidth:T,rightSection:x,rightSectionProps:p,rightSectionWidth:h,rightSectionPointerEvents:S,leftSectionPointerEvents:C,variant:D,vars:j,pointer:L,multiline:N,radius:A,id:O,withAria:V,withErrorStyles:W,mod:X,inputSize:M,__clearSection:B,__clearable:$,__defaultRightSection:F,...H}=r,{styleProps:U,rest:G}=Nc(H),ne=Ac(),ue={offsetBottom:ne==null?void 0:ne.offsetBottom,offsetTop:ne==null?void 0:ne.offsetTop},Q=Ae({name:["Input",f],props:m||r,classes:sn,className:o,style:a,classNames:n,styles:c,unstyled:l,stylesCtx:ue,rootSelector:"wrapper",vars:j,varsResolver:O2}),se=V?{required:d,disabled:b,"aria-invalid":!!w,"aria-describedby":ne==null?void 0:ne.describedBy,id:(ne==null?void 0:ne.inputId)||O}:{},le=x||$&&B||F;return y.jsx(C2,{value:{size:v||"sm"},children:y.jsxs(oe,{...Q("wrapper"),...U,...g,mod:[{error:!!w&&W,pointer:L,disabled:b,multiline:N,"data-with-right-section":!!le,"data-with-left-section":!!E},X],variant:D,size:v,children:[E&&y.jsx("div",{...R,"data-position":"left",...Q("section",{className:R==null?void 0:R.className,style:R==null?void 0:R.style}),children:E}),y.jsx(oe,{component:"input",...G,...se,ref:t,required:d,mod:{disabled:b,error:!!w&&W},variant:D,__size:M,...Q("input")}),le&&y.jsx("div",{...p,"data-position":"right",...Q("section",{className:p==null?void 0:p.className,style:p==null?void 0:p.style}),children:le})]})})});Tt.classes=sn;Tt.Wrapper=iv;Tt.Label=Qd;Tt.Error=Yd;Tt.Description=Xd;Tt.Placeholder=ov;Tt.ClearButton=Rx;Tt.displayName="@mantine/core/Input";function Ex(e,t,r){const n=ie(e,t,r),{label:o,description:a,error:c,required:l,classNames:d,styles:f,className:m,unstyled:v,__staticSelector:g,__stylesApiProps:w,errorProps:b,labelProps:E,descriptionProps:R,wrapperProps:T,id:x,size:p,style:h,inputContainer:S,inputWrapperOrder:C,withAsterisk:D,variant:j,vars:L,mod:N,...A}=n,{styleProps:O,rest:V}=Nc(A),W={label:o,description:a,error:c,required:l,classNames:d,className:m,__staticSelector:g,__stylesApiProps:w||n,errorProps:b,labelProps:E,descriptionProps:R,unstyled:v,styles:f,size:p,style:h,inputContainer:S,inputWrapperOrder:C,withAsterisk:D,variant:j,id:x,mod:N,...T};return{...V,classNames:d,styles:f,unstyled:v,wrapperProps:{...W,...O},inputProps:{required:l,classNames:d,styles:f,unstyled:v,size:p,__staticSelector:g,__stylesApiProps:w||n,error:c,variant:j,id:x}}}const A2={__staticSelector:"InputBase",withAria:!0},on=Zt((e,t)=>{const{inputProps:r,wrapperProps:n,...o}=Ex("InputBase",A2,e);return y.jsx(Tt.Wrapper,{...n,children:y.jsx(Tt,{...r,...o,ref:t})})});on.classes={...Tt.classes,...Tt.Wrapper.classes};on.displayName="@mantine/core/InputBase";const $2={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var Tx={root:"m_8bffd616"};const F2={},zn=Zt((e,t)=>{const r=ie("Flex",F2,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,gap:f,rowGap:m,columnGap:v,align:g,justify:w,wrap:b,direction:E,...R}=r,T=Ae({name:"Flex",classes:Tx,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d}),x=lr(),p=Pg(),h=E1({styleProps:{gap:f,rowGap:m,columnGap:v,align:g,justify:w,wrap:b,direction:E},theme:x,data:$2});return y.jsxs(y.Fragment,{children:[h.hasResponsiveStyles&&y.jsx($d,{selector:`.${p}`,styles:h.styles,media:h.media}),y.jsx(oe,{ref:t,...T("root",{className:p,style:Zi(h.inlineStyles)}),...R})]})});zn.classes=Tx;zn.displayName="@mantine/core/Flex";function kx({style:e,size:t=16,...r}){return y.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:re(t),height:re(t),display:"block"},...r,children:y.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}kx.displayName="@mantine/core/AccordionChevron";var Px={root:"m_b6d8b162"};function z2(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const B2={inherit:!1},U2=(e,{variant:t,lineClamp:r,gradient:n,size:o,color:a})=>({root:{"--text-fz":cr(o),"--text-lh":xP(o),"--text-gradient":t==="gradient"?Im(n,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":a?gr(a,e):void 0}}),Oe=Zt((e,t)=>{const r=ie("Text",B2,e),{lineClamp:n,truncate:o,inline:a,inherit:c,gradient:l,span:d,__staticSelector:f,vars:m,className:v,style:g,classNames:w,styles:b,unstyled:E,variant:R,mod:T,size:x,...p}=r,h=Ae({name:["Text",f],props:r,classes:Px,className:v,style:g,classNames:w,styles:b,unstyled:E,vars:m,varsResolver:U2});return y.jsx(oe,{...h("root",{focusable:!0}),ref:t,component:d?"span":"p",variant:R,mod:[{"data-truncate":z2(o),"data-line-clamp":typeof n=="number","data-inline":a,"data-inherit":c},T],size:x,...p})});Oe.classes=Px;Oe.displayName="@mantine/core/Text";function Dx(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>Dx(t))}:e}function V2(e){return e?e.map(t=>Dx(t)):[]}function jx(e){return e.reduce((t,r)=>"group"in r?{...t,...jx(r.items)}:(t[r.value]=r,t),{})}var kr={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const H2={error:null},W2=(e,{size:t,color:r})=>({chevron:{"--combobox-chevron-size":Xe(t,"combobox-chevron-size"),"--combobox-chevron-color":r?gr(r,e):void 0}}),av=ye((e,t)=>{const r=ie("ComboboxChevron",H2,e),{size:n,error:o,style:a,className:c,classNames:l,styles:d,unstyled:f,vars:m,mod:v,...g}=r,w=Ae({name:"ComboboxChevron",classes:kr,props:r,style:a,className:c,classNames:l,styles:d,unstyled:f,vars:m,varsResolver:W2,rootSelector:"chevron"});return y.jsx(oe,{component:"svg",...g,...w("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:o},v],ref:t,children:y.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});av.classes=kr;av.displayName="@mantine/core/ComboboxChevron";const[q2,an]=Bn("Combobox component was not found in tree"),Ix=P.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:n,...o},a)=>y.jsx(Tt.ClearButton,{ref:a,tabIndex:-1,"aria-hidden":!0,...o,onMouseDown:c=>{c.preventDefault(),t==null||t(c)},onClick:c=>{n(),r==null||r(c)}}));Ix.displayName="@mantine/core/ComboboxClearButton";const G2={},cv=ye((e,t)=>{const{classNames:r,styles:n,className:o,style:a,hidden:c,...l}=ie("ComboboxDropdown",G2,e),d=an();return y.jsx(Jt.Dropdown,{...l,ref:t,role:"presentation","data-hidden":c||void 0,...d.getStyles("dropdown",{className:o,style:a,classNames:r,styles:n})})});cv.classes=kr;cv.displayName="@mantine/core/ComboboxDropdown";const K2={refProp:"ref"},Mx=ye((e,t)=>{const{children:r,refProp:n}=ie("ComboboxDropdownTarget",K2,e);if(an(),!co(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return y.jsx(Jt.Target,{ref:t,refProp:n,children:r})});Mx.displayName="@mantine/core/ComboboxDropdownTarget";const X2={},lv=ye((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,...l}=ie("ComboboxEmpty",X2,e),d=an();return y.jsx(oe,{ref:t,...d.getStyles("empty",{className:n,classNames:r,styles:a,style:o}),...l})});lv.classes=kr;lv.displayName="@mantine/core/ComboboxEmpty";function uv({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:n,targetType:o,autoComplete:a}){const c=an(),[l,d]=P.useState(null),f=v=>{if(e==null||e(v),!c.readOnly&&t){if(v.nativeEvent.isComposing)return;if(v.nativeEvent.code==="ArrowDown"&&(v.preventDefault(),c.store.dropdownOpened?d(c.store.selectNextOption()):(c.store.openDropdown("keyboard"),d(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),v.nativeEvent.code==="ArrowUp"&&(v.preventDefault(),c.store.dropdownOpened?d(c.store.selectPreviousOption()):(c.store.openDropdown("keyboard"),d(c.store.selectActiveOption()),c.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),v.nativeEvent.code==="Enter"||v.nativeEvent.code==="NumpadEnter"){if(v.nativeEvent.keyCode===229)return;const g=c.store.getSelectedOptionIndex();c.store.dropdownOpened&&g!==-1?(v.preventDefault(),c.store.clickSelectedOption()):o==="button"&&(v.preventDefault(),c.store.openDropdown("keyboard"))}v.key==="Escape"&&c.store.closeDropdown("keyboard"),v.nativeEvent.code==="Space"&&o==="button"&&(v.preventDefault(),c.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":n&&!!(c.store.listId&&c.store.dropdownOpened)||void 0,"aria-controls":c.store.dropdownOpened?c.store.listId:void 0,"aria-activedescendant":c.store.dropdownOpened&&l||void 0,autoComplete:a,"data-expanded":c.store.dropdownOpened||void 0,"data-mantine-stop-propagation":c.store.dropdownOpened||void 0}:{},onKeyDown:f}}const Y2={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Nx=ye((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:o,withAriaAttributes:a,withExpandedAttribute:c,targetType:l,autoComplete:d,...f}=ie("ComboboxEventsTarget",Y2,e);if(!co(r))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=an(),v=uv({targetType:l,withAriaAttributes:a,withKeyboardNavigation:o,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:d});return P.cloneElement(r,{...v,...f,[n]:Ut(t,m.store.targetRef,Od(r))})});Nx.displayName="@mantine/core/ComboboxEventsTarget";const Q2={},dv=ye((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,...l}=ie("ComboboxFooter",Q2,e),d=an();return y.jsx(oe,{ref:t,...d.getStyles("footer",{className:n,classNames:r,style:o,styles:a}),...l,onMouseDown:f=>{f.preventDefault()}})});dv.classes=kr;dv.displayName="@mantine/core/ComboboxFooter";const J2={},fv=ye((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,children:l,label:d,...f}=ie("ComboboxGroup",J2,e),m=an();return y.jsxs(oe,{ref:t,...m.getStyles("group",{className:n,classNames:r,style:o,styles:a}),...f,children:[d&&y.jsx("div",{...m.getStyles("groupLabel",{classNames:r,styles:a}),children:d}),l]})});fv.classes=kr;fv.displayName="@mantine/core/ComboboxGroup";const Z2={},pv=ye((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,...l}=ie("ComboboxHeader",Z2,e),d=an();return y.jsx(oe,{ref:t,...d.getStyles("header",{className:n,classNames:r,style:o,styles:a}),...l,onMouseDown:f=>{f.preventDefault()}})});pv.classes=kr;pv.displayName="@mantine/core/ComboboxHeader";function Lx({value:e,valuesDivider:t=",",...r}){return y.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}Lx.displayName="@mantine/core/ComboboxHiddenInput";const eM={},hv=ye((e,t)=>{const r=ie("ComboboxOption",eM,e),{classNames:n,className:o,style:a,styles:c,vars:l,onClick:d,id:f,active:m,onMouseDown:v,onMouseOver:g,disabled:w,selected:b,mod:E,...R}=r,T=an(),x=P.useId(),p=f||x;return y.jsx(oe,{...T.getStyles("option",{className:o,classNames:n,styles:c,style:a}),...R,ref:t,id:p,mod:["combobox-option",{"combobox-active":m,"combobox-disabled":w,"combobox-selected":b},E],role:"option",onClick:h=>{var S;w?h.preventDefault():((S=T.onOptionSubmit)==null||S.call(T,r.value,r),d==null||d(h))},onMouseDown:h=>{h.preventDefault(),v==null||v(h)},onMouseOver:h=>{T.resetSelectionOnOptionHover&&T.store.resetSelectedOption(),g==null||g(h)}})});hv.classes=kr;hv.displayName="@mantine/core/ComboboxOption";const tM={},mv=ye((e,t)=>{const r=ie("ComboboxOptions",tM,e),{classNames:n,className:o,style:a,styles:c,id:l,onMouseDown:d,labelledBy:f,...m}=r,v=an(),g=Ts(l);return P.useEffect(()=>{v.store.setListId(g)},[g]),y.jsx(oe,{ref:t,...v.getStyles("options",{className:o,style:a,classNames:n,styles:c}),...m,id:g,role:"listbox","aria-labelledby":f,onMouseDown:w=>{w.preventDefault(),d==null||d(w)}})});mv.classes=kr;mv.displayName="@mantine/core/ComboboxOptions";const rM={withAriaAttributes:!0,withKeyboardNavigation:!0},gv=ye((e,t)=>{const r=ie("ComboboxSearch",rM,e),{classNames:n,styles:o,unstyled:a,vars:c,withAriaAttributes:l,onKeyDown:d,withKeyboardNavigation:f,size:m,...v}=r,g=an(),w=g.getStyles("search"),b=uv({targetType:"input",withAriaAttributes:l,withKeyboardNavigation:f,withExpandedAttribute:!1,onKeyDown:d,autoComplete:"off"});return y.jsx(Tt,{ref:Ut(t,g.store.searchRef),classNames:[{input:w.className},n],styles:[{input:w.style},o],size:m||g.size,...b,...v,__staticSelector:"Combobox"})});gv.classes=kr;gv.displayName="@mantine/core/ComboboxSearch";const nM={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Ox=ye((e,t)=>{const{children:r,refProp:n,withKeyboardNavigation:o,withAriaAttributes:a,withExpandedAttribute:c,targetType:l,autoComplete:d,...f}=ie("ComboboxTarget",nM,e);if(!co(r))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const m=an(),v=uv({targetType:l,withAriaAttributes:a,withKeyboardNavigation:o,withExpandedAttribute:c,onKeyDown:r.props.onKeyDown,autoComplete:d}),g=P.cloneElement(r,{...v,...f});return y.jsx(Jt.Target,{ref:Ut(t,m.store.targetRef),children:g})});Ox.displayName="@mantine/core/ComboboxTarget";function sM(e,t,r){for(let n=e-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function oM(e,t,r){for(let n=e+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(r){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function iM(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function Ax({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:n,onDropdownOpen:o,loop:a=!0,scrollBehavior:c="instant"}={}){const[l,d]=Tr({value:t,defaultValue:e,finalValue:!1,onChange:r}),f=P.useRef(null),m=P.useRef(-1),v=P.useRef(null),g=P.useRef(null),w=P.useRef(-1),b=P.useRef(-1),E=P.useRef(-1),R=P.useCallback((M="unknown")=>{l||(d(!0),o==null||o(M))},[d,o,l]),T=P.useCallback((M="unknown")=>{l&&(d(!1),n==null||n(M))},[d,n,l]),x=P.useCallback((M="unknown")=>{l?T(M):R(M)},[T,R,l]),p=P.useCallback(()=>{const M=document.querySelector(`#${f.current} [data-combobox-selected]`);M==null||M.removeAttribute("data-combobox-selected"),M==null||M.removeAttribute("aria-selected")},[]),h=P.useCallback(M=>{const B=document.getElementById(f.current),$=B==null?void 0:B.querySelectorAll("[data-combobox-option]");if(!$)return null;const F=M>=$.length?0:M<0?$.length-1:M;return m.current=F,$!=null&&$[F]&&!$[F].hasAttribute("data-combobox-disabled")?(p(),$[F].setAttribute("data-combobox-selected","true"),$[F].setAttribute("aria-selected","true"),$[F].scrollIntoView({block:"nearest",behavior:c}),$[F].id):null},[c,p]),S=P.useCallback(()=>{const M=document.querySelector(`#${f.current} [data-combobox-active]`);if(M){const B=document.querySelectorAll(`#${f.current} [data-combobox-option]`),$=Array.from(B).findIndex(F=>F===M);return h($)}return h(0)},[h]),C=P.useCallback(()=>h(oM(m.current,document.querySelectorAll(`#${f.current} [data-combobox-option]`),a)),[h,a]),D=P.useCallback(()=>h(sM(m.current,document.querySelectorAll(`#${f.current} [data-combobox-option]`),a)),[h,a]),j=P.useCallback(()=>h(iM(document.querySelectorAll(`#${f.current} [data-combobox-option]`))),[h]),L=P.useCallback((M="selected",B)=>{E.current=window.setTimeout(()=>{var H;const $=document.querySelectorAll(`#${f.current} [data-combobox-option]`),F=Array.from($).findIndex(U=>U.hasAttribute(`data-combobox-${M}`));m.current=F,B!=null&&B.scrollIntoView&&((H=$[F])==null||H.scrollIntoView({block:"nearest",behavior:c}))},0)},[]),N=P.useCallback(()=>{m.current=-1,p()},[p]),A=P.useCallback(()=>{const M=document.querySelectorAll(`#${f.current} [data-combobox-option]`),B=M==null?void 0:M[m.current];B==null||B.click()},[]),O=P.useCallback(M=>{f.current=M},[]),V=P.useCallback(()=>{w.current=window.setTimeout(()=>v.current.focus(),0)},[]),W=P.useCallback(()=>{b.current=window.setTimeout(()=>g.current.focus(),0)},[]),X=P.useCallback(()=>m.current,[]);return P.useEffect(()=>()=>{window.clearTimeout(w.current),window.clearTimeout(b.current),window.clearTimeout(E.current)},[]),{dropdownOpened:l,openDropdown:R,closeDropdown:T,toggleDropdown:x,selectedOptionIndex:m.current,getSelectedOptionIndex:X,selectOption:h,selectFirstOption:j,selectActiveOption:S,selectNextOption:C,selectPreviousOption:D,resetSelectedOption:N,updateSelectedOptionIndex:L,listId:f.current,setListId:O,clickSelectedOption:A,searchRef:v,focusSearchInput:V,targetRef:g,focusTarget:W}}const aM={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},cM=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":cr(t),"--combobox-option-padding":Xe(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:re(r),"--combobox-option-fz":cr(t),"--combobox-option-padding":Xe(t,"combobox-option-padding")}});function ht(e){const t=ie("Combobox",aM,e),{classNames:r,styles:n,unstyled:o,children:a,store:c,vars:l,onOptionSubmit:d,onClose:f,size:m,dropdownPadding:v,resetSelectionOnOptionHover:g,__staticSelector:w,readOnly:b,...E}=t,R=Ax(),T=c||R,x=Ae({name:w||"Combobox",classes:kr,props:t,classNames:r,styles:n,unstyled:o,vars:l,varsResolver:cM}),p=()=>{f==null||f(),T.closeDropdown()};return y.jsx(q2,{value:{getStyles:x,store:T,onOptionSubmit:d,size:m,resetSelectionOnOptionHover:g,readOnly:b},children:y.jsx(Jt,{opened:T.dropdownOpened,...E,onChange:h=>!h&&p(),withRoles:!1,unstyled:o,children:a})})}const lM=e=>e;ht.extend=lM;ht.classes=kr;ht.displayName="@mantine/core/Combobox";ht.Target=Ox;ht.Dropdown=cv;ht.Options=mv;ht.Option=hv;ht.Search=gv;ht.Empty=lv;ht.Chevron=av;ht.Footer=dv;ht.Header=pv;ht.EventsTarget=Nx;ht.DropdownTarget=Mx;ht.Group=fv;ht.ClearButton=Ix;ht.HiddenInput=Lx;var $x={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const uM=$x,Fx=P.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:r,classNames:n,styles:o,unstyled:a,children:c,label:l,description:d,id:f,disabled:m,error:v,size:g,labelPosition:w="left",bodyElement:b="div",labelElement:E="label",variant:R,style:T,vars:x,mod:p,...h},S)=>{const C=Ae({name:e,props:t,className:r,style:T,classes:$x,classNames:n,styles:o,unstyled:a});return y.jsx(oe,{...C("root"),ref:S,__vars:{"--label-fz":cr(g),"--label-lh":Xe(g,"label-lh")},mod:[{"label-position":w},p],variant:R,size:g,...h,children:y.jsxs(oe,{component:b,htmlFor:b==="label"?f:void 0,...C("body"),children:[c,y.jsxs("div",{...C("labelWrapper"),"data-disabled":m||void 0,children:[l&&y.jsx(oe,{component:E,htmlFor:E==="label"?f:void 0,...C("label"),"data-disabled":m||void 0,children:l}),d&&y.jsx(Tt.Description,{size:g,__inheritStyles:!1,...C("description"),children:d}),v&&typeof v!="boolean"&&y.jsx(Tt.Error,{size:g,__inheritStyles:!1,...C("error"),children:v})]})]})})});Fx.displayName="@mantine/core/InlineInput";function dM({children:e,role:t}){const r=Ac();return r?y.jsx("div",{role:t,"aria-labelledby":r.labelId,"aria-describedby":r.describedBy,children:e}):y.jsx(y.Fragment,{children:e})}function fM({size:e,style:t,...r}){const n=e!==void 0?{width:re(e),height:re(e),...t}:t;return y.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...r,children:y.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Tc(e){return"group"in e}function zx({options:e,search:t,limit:r}){const n=t.trim().toLowerCase(),o=[];for(let a=0;a<e.length;a+=1){const c=e[a];if(o.length===r)return o;Tc(c)&&o.push({group:c.group,items:zx({options:c.items,search:t,limit:r-o.length})}),Tc(c)||c.label.toLowerCase().includes(n)&&o.push(c)}return o}function pM(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function Bx(e,t=new Set){if(Array.isArray(e))for(const r of e)if(Tc(r))Bx(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function hM(e,t){return Array.isArray(e)?e.includes(t):e===t}function Ux({data:e,withCheckIcon:t,value:r,checkIconPosition:n,unstyled:o,renderOption:a}){if(!Tc(e)){const l=hM(r,e.value),d=t&&l&&y.jsx(fM,{className:kr.optionsDropdownCheckIcon}),f=y.jsxs(y.Fragment,{children:[n==="left"&&d,y.jsx("span",{children:e.label}),n==="right"&&d]});return y.jsx(ht.Option,{value:e.value,disabled:e.disabled,className:qt({[kr.optionsDropdownOption]:!o}),"data-reverse":n==="right"||void 0,"data-checked":l||void 0,"aria-selected":l,active:l,children:typeof a=="function"?a({option:e,checked:l}):f})}const c=e.items.map(l=>y.jsx(Ux,{data:l,value:r,unstyled:o,withCheckIcon:t,checkIconPosition:n,renderOption:a},l.value));return y.jsx(ht.Group,{label:e.group,children:c})}function mM({data:e,hidden:t,hiddenWhenEmpty:r,filter:n,search:o,limit:a,maxDropdownHeight:c,withScrollArea:l=!0,filterOptions:d=!0,withCheckIcon:f=!1,value:m,checkIconPosition:v,nothingFoundMessage:g,unstyled:w,labelId:b,renderOption:E,scrollAreaProps:R,"aria-label":T}){Bx(e);const p=typeof o=="string"?(n||zx)({options:e,search:d?o:"",limit:a??1/0}):e,h=pM(p),S=p.map(C=>y.jsx(Ux,{data:C,withCheckIcon:f,value:m,checkIconPosition:v,unstyled:w,renderOption:E},Tc(C)?C.group:C.value));return y.jsx(ht.Dropdown,{hidden:t||r&&h,"data-composed":!0,children:y.jsxs(ht.Options,{labelledBy:b,"aria-label":T,children:[l?y.jsx(er.Autosize,{mah:c??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...R,children:S}):S,h&&g&&y.jsx(ht.Empty,{children:g})]})})}const Vx=P.createContext(null),gM=Vx.Provider;function vM(){return{withinGroup:!!P.useContext(Vx)}}var Jd={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const yM={},wM=(e,{spacing:t})=>({group:{"--ag-spacing":ar(t)}}),vv=ye((e,t)=>{const r=ie("AvatarGroup",yM,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,spacing:f,...m}=r,v=Ae({name:"AvatarGroup",classes:Jd,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:wM,rootSelector:"group"});return y.jsx(gM,{value:!0,children:y.jsx(oe,{ref:t,...v("group"),...m})})});vv.classes=Jd;vv.displayName="@mantine/core/AvatarGroup";function SM(e){return y.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function bM(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}const _M=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function xM(e,t=_M){const r=bM(e),n=Math.abs(r)%t.length;return t[n]}function CM(e,t=2){const r=e.split(" ");return r.length===1?e.slice(0,t).toUpperCase():r.map(n=>n[0]).slice(0,t).join("").toUpperCase()}const RM={},EM=(e,{size:t,radius:r,variant:n,gradient:o,color:a,autoContrast:c,name:l,allowedInitialsColors:d})=>{const f=a==="initials"&&typeof l=="string"?xM(l,d):a,m=e.variantColorResolver({color:f||"gray",theme:e,gradient:o,variant:n||"light",autoContrast:c});return{root:{"--avatar-size":Xe(t,"avatar-size"),"--avatar-radius":r===void 0?void 0:kt(r),"--avatar-bg":f||n?m.background:void 0,"--avatar-color":f||n?m.color:void 0,"--avatar-bd":f||n?m.border:void 0}}},Dr=Zt((e,t)=>{const r=ie("Avatar",RM,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,src:f,alt:m,radius:v,color:g,gradient:w,imageProps:b,children:E,autoContrast:R,mod:T,name:x,allowedInitialsColors:p,...h}=r,S=vM(),[C,D]=P.useState(!f),j=Ae({name:"Avatar",props:r,classes:Jd,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:EM});return P.useEffect(()=>D(!f),[f]),y.jsx(oe,{...j("root"),mod:[{"within-group":S.withinGroup},T],ref:t,...h,children:C?y.jsx("span",{...j("placeholder"),title:m,children:E||typeof x=="string"&&CM(x)||y.jsx(SM,{})}):y.jsx("img",{...b,...j("image"),src:f,alt:m,onError:L=>{var N;D(!0),(N=b==null?void 0:b.onError)==null||N.call(b,L)}})})});Dr.classes=Jd;Dr.displayName="@mantine/core/Avatar";Dr.Group=vv;var Hx={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const TM={},kM=(e,{radius:t,color:r,gradient:n,variant:o,size:a,autoContrast:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:o||"filled",autoContrast:c});return{root:{"--badge-height":Xe(a,"badge-height"),"--badge-padding-x":Xe(a,"badge-padding-x"),"--badge-fz":Xe(a,"badge-fz"),"--badge-radius":t===void 0?void 0:kt(t),"--badge-bg":r||o?l.background:void 0,"--badge-color":r||o?l.color:void 0,"--badge-bd":r||o?l.border:void 0,"--badge-dot-color":o==="dot"?gr(r,e):void 0}}},On=Zt((e,t)=>{const r=ie("Badge",TM,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,radius:f,color:m,gradient:v,leftSection:g,rightSection:w,children:b,variant:E,fullWidth:R,autoContrast:T,circle:x,mod:p,...h}=r,S=Ae({name:"Badge",props:r,classes:Hx,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:kM});return y.jsxs(oe,{variant:E,mod:[{block:R,circle:x,"with-right-section":!!w,"with-left-section":!!g},p],...S("root",{variant:E}),ref:t,...h,children:[g&&y.jsx("span",{...S("section"),"data-position":"left",children:g}),y.jsx("span",{...S("label"),children:b}),w&&y.jsx("span",{...S("section"),"data-position":"right",children:w})]})});On.classes=Hx;On.displayName="@mantine/core/Badge";var ia={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const Ub={orientation:"horizontal"},PM=(e,{borderWidth:t})=>({group:{"--button-border-width":re(t)}}),yv=ye((e,t)=>{const r=ie("ButtonGroup",Ub,e),{className:n,style:o,classNames:a,styles:c,unstyled:l,orientation:d,vars:f,borderWidth:m,variant:v,mod:g,...w}=ie("ButtonGroup",Ub,e),b=Ae({name:"ButtonGroup",props:r,classes:ia,className:n,style:o,classNames:a,styles:c,unstyled:l,vars:f,varsResolver:PM,rootSelector:"group"});return y.jsx(oe,{...b("group"),ref:t,variant:v,mod:[{"data-orientation":d},g],role:"group",...w})});yv.classes=ia;yv.displayName="@mantine/core/ButtonGroup";const Vb={},DM=(e,{radius:t,color:r,gradient:n,variant:o,autoContrast:a,size:c})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:o||"filled",autoContrast:a});return{groupSection:{"--section-height":Xe(c,"section-height"),"--section-padding-x":Xe(c,"section-padding-x"),"--section-fz":c!=null&&c.includes("compact")?cr(c.replace("compact-","")):cr(c),"--section-radius":t===void 0?void 0:kt(t),"--section-bg":r||o?l.background:void 0,"--section-color":l.color,"--section-bd":r||o?l.border:void 0}}},wv=ye((e,t)=>{const r=ie("ButtonGroupSection",Vb,e),{className:n,style:o,classNames:a,styles:c,unstyled:l,vars:d,variant:f,gradient:m,radius:v,autoContrast:g,...w}=ie("ButtonGroupSection",Vb,e),b=Ae({name:"ButtonGroupSection",props:r,classes:ia,className:n,style:o,classNames:a,styles:c,unstyled:l,vars:d,varsResolver:DM,rootSelector:"groupSection"});return y.jsx(oe,{...b("groupSection"),ref:t,variant:f,...w})});wv.classes=ia;wv.displayName="@mantine/core/ButtonGroupSection";const jM={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${re(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},IM={},MM=(e,{radius:t,color:r,gradient:n,variant:o,size:a,justify:c,autoContrast:l})=>{const d=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:n,variant:o||"filled",autoContrast:l});return{root:{"--button-justify":c,"--button-height":Xe(a,"button-height"),"--button-padding-x":Xe(a,"button-padding-x"),"--button-fz":a!=null&&a.includes("compact")?cr(a.replace("compact-","")):cr(a),"--button-radius":t===void 0?void 0:kt(t),"--button-bg":r||o?d.background:void 0,"--button-hover":r||o?d.hover:void 0,"--button-color":d.color,"--button-bd":r||o?d.border:void 0,"--button-hover-color":r||o?d.hoverColor:void 0}}},Ie=Zt((e,t)=>{const r=ie("Button",IM,e),{style:n,vars:o,className:a,color:c,disabled:l,children:d,leftSection:f,rightSection:m,fullWidth:v,variant:g,radius:w,loading:b,loaderProps:E,gradient:R,classNames:T,styles:x,unstyled:p,"data-disabled":h,autoContrast:S,mod:C,...D}=r,j=Ae({name:"Button",props:r,classes:ia,className:a,style:n,classNames:T,styles:x,unstyled:p,vars:o,varsResolver:MM}),L=!!f,N=!!m;return y.jsxs(ns,{ref:t,...j("root",{active:!l&&!b&&!h}),unstyled:p,variant:g,disabled:l||b,mod:[{disabled:l||h,loading:b,block:v,"with-left-section":L,"with-right-section":N},C],...D,children:[y.jsx(ks,{mounted:!!b,transition:jM,duration:150,children:A=>y.jsx(oe,{component:"span",...j("loader",{style:A}),"aria-hidden":!0,children:y.jsx(Ps,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...E})})}),y.jsxs("span",{...j("inner"),children:[f&&y.jsx(oe,{component:"span",...j("section"),mod:{position:"left"},children:f}),y.jsx(oe,{component:"span",mod:{loading:b},...j("label"),children:d}),m&&y.jsx(oe,{component:"span",...j("section"),mod:{position:"right"},children:m})]})]})});Ie.classes=ia;Ie.displayName="@mantine/core/Button";Ie.Group=yv;Ie.GroupSection=wv;const[NM,LM]=Bn("Card component was not found in tree");var Sv={root:"m_e615b15f",section:"m_599a2148"};const OM={},Zd=Zt((e,t)=>{const r=ie("CardSection",OM,e),{classNames:n,className:o,style:a,styles:c,vars:l,withBorder:d,inheritPadding:f,mod:m,...v}=r,g=LM();return y.jsx(oe,{ref:t,mod:[{"with-border":d,"inherit-padding":f},m],...g.getStyles("section",{className:o,style:a,styles:c,classNames:n}),...v})});Zd.classes=Sv;Zd.displayName="@mantine/core/CardSection";const AM={},$M=(e,{padding:t})=>({root:{"--card-padding":ar(t)}}),ss=Zt((e,t)=>{const r=ie("Card",AM,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,children:f,padding:m,...v}=r,g=Ae({name:"Card",props:r,classes:Sv,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:$M}),w=P.Children.toArray(f),b=w.map((E,R)=>typeof E=="object"&&E&&"type"in E&&E.type===Zd?P.cloneElement(E,{"data-first-section":R===0||void 0,"data-last-section":R===w.length-1||void 0}):E);return y.jsx(NM,{value:{getStyles:g},children:y.jsx(Oc,{ref:t,unstyled:l,...g("root"),...v,children:b})})});ss.classes=Sv;ss.displayName="@mantine/core/Card";ss.Section=Zd;var Wx={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const Hb={withShadow:!0},FM=(e,{radius:t,size:r})=>({root:{"--cs-radius":t===void 0?void 0:kt(t),"--cs-size":re(r)}}),aa=Zt((e,t)=>{const r=ie("ColorSwatch",Hb,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,color:f,size:m,radius:v,withShadow:g,children:w,variant:b,...E}=ie("ColorSwatch",Hb,r),R=Ae({name:"ColorSwatch",props:r,classes:Wx,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:FM});return y.jsxs(oe,{ref:t,variant:b,size:m,...R("root",{focusable:!0}),...E,children:[y.jsx("span",{...R("alphaOverlay")}),g&&y.jsx("span",{...R("shadowOverlay")}),y.jsx("span",{...R("colorOverlay",{style:{backgroundColor:f}})}),y.jsx("span",{...R("childrenOverlay"),children:w})]})});aa.classes=Wx;aa.displayName="@mantine/core/ColorSwatch";const[zM,bv]=Ko(null),_v=P.forwardRef(({position:e,...t},r)=>y.jsx(oe,{ref:r,__vars:{"--thumb-y-offset":`${e.y*100}%`,"--thumb-x-offset":`${e.x*100}%`},...t}));_v.displayName="@mantine/core/ColorPickerThumb";var xv={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const BM={},Cv=ye((e,t)=>{var $;const r=ie("ColorSlider",BM,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,onChange:f,onChangeEnd:m,maxValue:v,round:g,size:w="md",focusable:b=!0,value:E,overlays:R,thumbColor:T="transparent",onScrubStart:x,onScrubEnd:p,__staticSelector:h="ColorPicker",...S}=r,C=Ae({name:h,classes:xv,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l}),j=(($=bv())==null?void 0:$.getStyles)||C,L=lr(),[N,A]=P.useState({y:0,x:E/v}),O=P.useRef(N),V=F=>g?Math.round(F*v):F*v,{ref:W}=_g(({x:F,y:H})=>{O.current={x:F,y:H},f==null||f(V(F))},{onScrubEnd:()=>{const{x:F}=O.current;m==null||m(V(F)),p==null||p()},onScrubStart:x});Er(()=>{A({y:0,x:E/v})},[E]);const X=(F,H)=>{F.preventDefault();const U=v1(H);f==null||f(V(U.x)),m==null||m(V(U.x))},M=F=>{switch(F.key){case"ArrowRight":{X(F,{x:N.x+.05,y:N.y});break}case"ArrowLeft":{X(F,{x:N.x-.05,y:N.y});break}}},B=R.map((F,H)=>P.createElement("div",{...j("sliderOverlay"),style:F,key:H}));return y.jsxs(oe,{...S,ref:Ut(W,t),...j("slider"),role:"slider","aria-valuenow":E,"aria-valuemax":v,"aria-valuemin":0,tabIndex:b?0:-1,onKeyDown:M,"data-focus-ring":L.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${w})`},children:[B,y.jsx(_v,{position:N,...j("thumb",{style:{top:re(1),background:T}})})]})});Cv.displayName="@mantine/core/ColorSlider";function en(e,t=0,r=10**t){return Math.round(r*e)/r}function UM({h:e,s:t,l:r,a:n}){const o=t*((r<50?r:100-r)/100);return{h:e,s:o>0?2*o/(r+o)*100:0,v:r+o,a:n}}const VM={grad:360/400,turn:360,rad:360/(Math.PI*2)};function HM(e,t="deg"){return Number(e)*(VM[t]||1)}const WM=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function Wb(e){const t=WM.exec(e);return t?UM({h:HM(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}}function Vm({r:e,g:t,b:r,a:n}){const o=Math.max(e,t,r),a=o-Math.min(e,t,r),c=a?o===e?(t-r)/a:o===t?2+(r-e)/a:4+(e-t)/a:0;return{h:en(60*(c<0?c+6:c),3),s:en(o?a/o*100:0,3),v:en(o/255*100,3),a:n}}function Hm(e){const t=e[0]==="#"?e.slice(1):e;return t.length===3?Vm({r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}):Vm({r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:1})}function qM(e){const t=e[0]==="#"?e.slice(1):e,r=c=>en(parseInt(c,16)/255,3);if(t.length===4){const c=t.slice(0,3),l=r(t[3]+t[3]);return{...Hm(c),a:l}}const n=t.slice(0,6),o=r(t.slice(6,8));return{...Hm(n),a:o}}const GM=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function qb(e){const t=GM.exec(e);return t?Vm({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}}const qx={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},KM={hex:Hm,hexa:qM,rgb:qb,rgba:qb,hsl:Wb,hsla:Wb};function pc(e){for(const[,t]of Object.entries(qx))if(t.test(e))return!0;return!1}function Ao(e){if(typeof e!="string")return{h:0,s:0,v:0,a:1};if(e==="transparent")return{h:0,s:0,v:0,a:0};const t=e.trim();for(const[r,n]of Object.entries(qx))if(n.test(t))return KM[r](t);return{h:0,s:0,v:0,a:1}}const XM={},Gx=P.forwardRef((e,t)=>{const{value:r,onChange:n,onChangeEnd:o,color:a,...c}=ie("AlphaSlider",XM,e);return y.jsx(Cv,{...c,ref:t,value:r,onChange:l=>n==null?void 0:n(en(l,2)),onChangeEnd:l=>o==null?void 0:o(en(l,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${re(8)} ${re(8)}`,backgroundPosition:`0 0, 0 ${re(4)}, ${re(4)} ${re(-4)}, ${re(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${a})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${re(1)} inset, rgb(0, 0, 0, .15) 0 0 ${re(4)} inset`}]})});Gx.displayName="@mantine/core/AlphaSlider";function Kx({h:e,s:t,v:r,a:n}){const o=e/360*6,a=t/100,c=r/100,l=Math.floor(o),d=c*(1-a),f=c*(1-(o-l)*a),m=c*(1-(1-o+l)*a),v=l%6;return{r:en([c,f,d,d,m,c][v]*255),g:en([m,c,c,f,d,d][v]*255),b:en([d,d,m,c,c,f][v]*255),a:en(n,2)}}function Gb(e,t){const{r,g:n,b:o,a}=Kx(e);return t?`rgba(${r}, ${n}, ${o}, ${en(a,2)})`:`rgb(${r}, ${n}, ${o})`}function Kb({h:e,s:t,v:r,a:n},o){const a=(200-t)*r/100,c={h:Math.round(e),s:Math.round(a>0&&a<200?t*r/100/(a<=100?a:200-a)*100:0),l:Math.round(a/2)};return o?`hsla(${c.h}, ${c.s}%, ${c.l}%, ${en(n,2)})`:`hsl(${c.h}, ${c.s}%, ${c.l}%)`}function bu(e){const t=e.toString(16);return t.length<2?`0${t}`:t}function Xx(e){const{r:t,g:r,b:n}=Kx(e);return`#${bu(t)}${bu(r)}${bu(n)}`}function YM(e){const t=Math.round(e.a*255);return`${Xx(e)}${bu(t)}`}const Zh={hex:Xx,hexa:e=>YM(e),rgb:e=>Gb(e,!1),rgba:e=>Gb(e,!0),hsl:e=>Kb(e,!1),hsla:e=>Kb(e,!0)};function jn(e,t){return t?e in Zh?Zh[e](t):Zh.hex(t):"#000000"}const Yx=P.forwardRef((e,t)=>{const{value:r,onChange:n,onChangeEnd:o,color:a,...c}=ie("HueSlider",{},e);return y.jsx(Cv,{...c,ref:t,value:r,onChange:n,onChangeEnd:o,maxValue:360,thumbColor:`hsl(${r}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${re(1)} inset, rgb(0, 0, 0, .15) 0 0 ${re(4)} inset`}]})});Yx.displayName="@mantine/core/HueSlider";function Qx({className:e,onChange:t,onChangeEnd:r,value:n,saturationLabel:o,focusable:a=!0,size:c,color:l,onScrubStart:d,onScrubEnd:f,...m}){const{getStyles:v}=bv(),[g,w]=P.useState({x:n.s/100,y:1-n.v/100}),b=P.useRef(g),{ref:E}=_g(({x,y:p})=>{b.current={x,y:p},t({s:Math.round(x*100),v:Math.round((1-p)*100)})},{onScrubEnd:()=>{const{x,y:p}=b.current;r({s:Math.round(x*100),v:Math.round((1-p)*100)}),f==null||f()},onScrubStart:d});P.useEffect(()=>{w({x:n.s/100,y:1-n.v/100})},[n.s,n.v]);const R=(x,p)=>{x.preventDefault();const h=v1(p);t({s:Math.round(h.x*100),v:Math.round((1-h.y)*100)}),r({s:Math.round(h.x*100),v:Math.round((1-h.y)*100)})},T=x=>{switch(x.key){case"ArrowUp":{R(x,{y:g.y-.05,x:g.x});break}case"ArrowDown":{R(x,{y:g.y+.05,x:g.x});break}case"ArrowRight":{R(x,{x:g.x+.05,y:g.y});break}case"ArrowLeft":{R(x,{x:g.x-.05,y:g.y});break}}};return y.jsxs(oe,{...v("saturation"),ref:E,...m,role:"slider","aria-label":o,"aria-valuenow":g.x,"aria-valuetext":jn("rgba",n),tabIndex:a?0:-1,onKeyDown:T,children:[y.jsx("div",{...v("saturationOverlay",{style:{backgroundColor:`hsl(${n.h}, 100%, 50%)`}})}),y.jsx("div",{...v("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),y.jsx("div",{...v("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),y.jsx(_v,{position:g,...v("thumb",{style:{backgroundColor:l}})})]})}Qx.displayName="@mantine/core/Saturation";const Jx=P.forwardRef(({className:e,datatype:t,setValue:r,onChangeEnd:n,size:o,focusable:a,data:c,swatchesPerRow:l,...d},f)=>{const m=bv(),v=c.map((g,w)=>P.createElement(aa,{...m.getStyles("swatch"),unstyled:m.unstyled,component:"button",type:"button",color:g,key:w,radius:"sm",onClick:()=>{r(g),n==null||n(g)},"aria-label":g,tabIndex:a?0:-1,"data-swatch":!0}));return y.jsx(oe,{...m.getStyles("swatches"),ref:f,...d,children:v})});Jx.displayName="@mantine/core/Swatches";const QM={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},JM=(e,{size:t,swatchesPerRow:r})=>({wrapper:{"--cp-preview-size":Xe(t,"cp-preview-size"),"--cp-width":Xe(t,"cp-width"),"--cp-body-spacing":ar(t),"--cp-swatch-size":`${100/r}%`,"--cp-thumb-size":Xe(t,"cp-thumb-size"),"--cp-saturation-height":Xe(t,"cp-saturation-height")}}),Rv=ye((e,t)=>{const r=ie("ColorPicker",QM,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,format:f,value:m,defaultValue:v,onChange:g,onChangeEnd:w,withPicker:b,size:E,saturationLabel:R,hueLabel:T,alphaLabel:x,focusable:p,swatches:h,swatchesPerRow:S,fullWidth:C,onColorSwatchClick:D,__staticSelector:j,mod:L,...N}=r,A=Ae({name:j,props:r,classes:xv,className:o,style:a,classNames:n,styles:c,unstyled:l,rootSelector:"wrapper",vars:d,varsResolver:JM}),O=P.useRef(f),V=P.useRef(""),W=P.useRef(-1),X=P.useRef(!1),M=f==="hexa"||f==="rgba"||f==="hsla",[B,$,F]=Tr({value:m,defaultValue:v,finalValue:"#FFFFFF",onChange:g}),[H,U]=P.useState(Ao(B)),G=()=>{window.clearTimeout(W.current),X.current=!0},ne=()=>{window.clearTimeout(W.current),W.current=window.setTimeout(()=>{X.current=!1},200)},ue=Q=>{U(se=>{const le={...se,...Q};return V.current=jn(O.current,le),le}),$(V.current)};return Er(()=>{pc(m)&&!X.current&&U(Ao(m))},[m]),Er(()=>{O.current=f,$(jn(f,H))},[f]),y.jsx(zM,{value:{getStyles:A,unstyled:l},children:y.jsxs(oe,{ref:t,...A("wrapper"),size:E,mod:[{"full-width":C},L],...N,children:[b&&y.jsxs(y.Fragment,{children:[y.jsx(Qx,{value:H,onChange:ue,onChangeEnd:({s:Q,v:se})=>w==null?void 0:w(jn(O.current,{...H,s:Q,v:se})),color:B,size:E,focusable:p,saturationLabel:R,onScrubStart:G,onScrubEnd:ne}),y.jsxs("div",{...A("body"),children:[y.jsxs("div",{...A("sliders"),children:[y.jsx(Yx,{value:H.h,onChange:Q=>ue({h:Q}),onChangeEnd:Q=>w==null?void 0:w(jn(O.current,{...H,h:Q})),size:E,focusable:p,"aria-label":T,onScrubStart:G,onScrubEnd:ne}),M&&y.jsx(Gx,{value:H.a,onChange:Q=>ue({a:Q}),onChangeEnd:Q=>{w==null||w(jn(O.current,{...H,a:Q}))},size:E,color:jn("hex",H),focusable:p,"aria-label":x,onScrubStart:G,onScrubEnd:ne})]}),M&&y.jsx(aa,{color:B,radius:"sm",size:"var(--cp-preview-size)",...A("preview")})]})]}),Array.isArray(h)&&y.jsx(Jx,{data:h,swatchesPerRow:S,focusable:p,setValue:$,onChangeEnd:Q=>{const se=jn(f,Ao(Q));D==null||D(se),w==null||w(se),F||U(Ao(Q))}})]})})});Rv.classes=xv;Rv.displayName="@mantine/core/ColorPicker";function ZM({style:e,...t}){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--ci-eye-dropper-icon-size)",height:"var(--ci-eye-dropper-icon-size)",...e},viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),y.jsx("path",{d:"M11 7l6 6"}),y.jsx("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]})}var Xb={eyeDropperIcon:"m_b077c2bc",colorPreview:"m_c5ccdcab",dropdown:"m_5ece2cd7"};const Yb={format:"hex",fixOnBlur:!0,withPreview:!0,swatchesPerRow:7,withPicker:!0,popoverProps:{transitionProps:{transition:"fade",duration:0}},withEyeDropper:!0},eN=(e,{size:t})=>({eyeDropperIcon:{"--ci-eye-dropper-icon-size":Xe(t,"ci-eye-dropper-icon-size")},colorPreview:{"--ci-preview-size":Xe(t,"ci-preview-size")}}),ef=ye((e,t)=>{const r=ie("ColorInput",Yb,e),{classNames:n,styles:o,unstyled:a,disallowInput:c,fixOnBlur:l,popoverProps:d,withPreview:f,withEyeDropper:m,eyeDropperIcon:v,closeOnColorSwatchClick:g,eyeDropperButtonProps:w,value:b,defaultValue:E,onChange:R,onChangeEnd:T,onClick:x,onFocus:p,onBlur:h,inputProps:S,format:C,wrapperProps:D,readOnly:j,withPicker:L,swatches:N,disabled:A,leftSection:O,rightSection:V,swatchesPerRow:W,...X}=Ex("ColorInput",Yb,e),M=Ae({name:"ColorInput",props:r,classes:Xb,classNames:n,styles:o,unstyled:a,rootSelector:"wrapper",vars:r.vars,varsResolver:eN}),{resolvedClassNames:B,resolvedStyles:$}=Xo({classNames:n,styles:o,props:r}),[F,H]=P.useState(!1),[U,G]=P.useState(""),[ne,ue]=Tr({value:b,defaultValue:E,finalValue:"",onChange:R}),{supported:Q,open:se}=GP(),le=y.jsx(ut,{...w,...M("eyeDropperButton",{className:w==null?void 0:w.className,style:w==null?void 0:w.style}),variant:"subtle",color:"gray",size:S.size,unstyled:a,onClick:()=>se().then(_e=>{if(_e!=null&&_e.sRGBHex){const He=jn(C,Ao(_e.sRGBHex));ue(He),T==null||T(He)}}).catch(()=>{}),children:v||y.jsx(ZM,{...M("eyeDropperIcon")})}),ge=_e=>{p==null||p(_e),H(!0)},te=_e=>{l&&ue(U),h==null||h(_e),H(!1)},he=_e=>{x==null||x(_e),H(!0)};return P.useEffect(()=>{(pc(ne)||ne.trim()==="")&&G(ne)},[ne]),Er(()=>{pc(ne)&&ue(jn(C,Ao(ne)))},[C]),y.jsx(Tt.Wrapper,{...D,classNames:B,styles:$,__staticSelector:"ColorInput",children:y.jsxs(Jt,{__staticSelector:"ColorInput",position:"bottom-start",offset:5,opened:F,...d,classNames:B,styles:$,unstyled:a,withRoles:!1,disabled:j||L===!1&&(!Array.isArray(N)||N.length===0),children:[y.jsx(Jt.Target,{children:y.jsx(Tt,{autoComplete:"off",...X,...S,classNames:B,styles:$,disabled:A,ref:t,__staticSelector:"ColorInput",onFocus:ge,onBlur:te,onClick:he,spellCheck:!1,value:ne,onChange:_e=>{const He=_e.currentTarget.value;ue(He),pc(He)&&(T==null||T(jn(C,Ao(He))))},leftSection:O||(f?y.jsx(aa,{color:pc(ne)?ne:"#fff",size:"var(--ci-preview-size)",...M("colorPreview")}):null),readOnly:c||j,pointer:c,unstyled:a,rightSection:V||(m&&!A&&!j&&Q?le:null)})}),y.jsx(Jt.Dropdown,{onMouseDown:_e=>_e.preventDefault(),className:Xb.dropdown,children:y.jsx(Rv,{__staticSelector:"ColorInput",value:ne,onChange:ue,onChangeEnd:T,format:C,swatches:N,swatchesPerRow:W,withPicker:L,size:S.size,focusable:!1,unstyled:a,styles:$,classNames:B,onColorSwatchClick:()=>g&&H(!1)})})]})})});ef.classes=on.classes;ef.displayName="@mantine/core/ColorInput";const tN={timeout:1e3};function Zx(e){const{children:t,timeout:r,value:n,...o}=ie("CopyButton",tN,e),a=DP({timeout:r}),c=()=>a.copy(n);return y.jsx(y.Fragment,{children:t({copy:c,copied:a.copied,...o})})}Zx.displayName="@mantine/core/CopyButton";var eC={root:"m_3eebeb36",label:"m_9e365f20"};const rN={orientation:"horizontal"},nN=(e,{color:t,variant:r,size:n})=>({root:{"--divider-color":t?gr(t,e):void 0,"--divider-border-style":r,"--divider-size":Xe(n,"divider-size")}}),mr=ye((e,t)=>{const r=ie("Divider",rN,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,color:f,orientation:m,label:v,labelPosition:g,mod:w,...b}=r,E=Ae({name:"Divider",classes:eC,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:nN});return y.jsx(oe,{ref:t,mod:[{orientation:m,"with-label":!!v},w],...E("root"),...b,role:"separator",children:v&&y.jsx(oe,{component:"span",mod:{position:g},...E("label"),children:v})})});mr.classes=eC;mr.displayName="@mantine/core/Divider";const[sN,ca]=Bn("Drawer component was not found in tree");var js={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const oN={},tf=ye((e,t)=>{const r=ie("DrawerBody",oN,e),{classNames:n,className:o,style:a,styles:c,vars:l,...d}=r,f=ca();return y.jsx(Zg,{ref:t,...f.getStyles("body",{classNames:n,style:a,styles:c,className:o}),...d})});tf.classes=js;tf.displayName="@mantine/core/DrawerBody";const iN={},rf=ye((e,t)=>{const r=ie("DrawerCloseButton",iN,e),{classNames:n,className:o,style:a,styles:c,vars:l,...d}=r,f=ca();return y.jsx(ev,{ref:t,...f.getStyles("close",{classNames:n,style:a,styles:c,className:o}),...d})});rf.classes=js;rf.displayName="@mantine/core/DrawerCloseButton";const aN={},nf=ye((e,t)=>{const r=ie("DrawerContent",aN,e),{classNames:n,className:o,style:a,styles:c,vars:l,children:d,radius:f,__hidden:m,...v}=r,g=ca(),w=g.scrollAreaComponent||Cx;return y.jsx(tv,{...g.getStyles("content",{className:o,style:a,styles:c,classNames:n}),innerProps:g.getStyles("inner",{className:o,style:a,styles:c,classNames:n}),ref:t,...v,radius:f||g.radius||0,"data-hidden":m||void 0,children:y.jsx(w,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:d})})});nf.classes=js;nf.displayName="@mantine/core/DrawerContent";const cN={},sf=ye((e,t)=>{const r=ie("DrawerHeader",cN,e),{classNames:n,className:o,style:a,styles:c,vars:l,...d}=r,f=ca();return y.jsx(rv,{ref:t,...f.getStyles("header",{classNames:n,style:a,styles:c,className:o}),...d})});sf.classes=js;sf.displayName="@mantine/core/DrawerHeader";const lN={},of=ye((e,t)=>{const r=ie("DrawerOverlay",lN,e),{classNames:n,className:o,style:a,styles:c,vars:l,...d}=r,f=ca();return y.jsx(nv,{ref:t,...f.getStyles("overlay",{classNames:n,style:a,styles:c,className:o}),...d})});of.classes=js;of.displayName="@mantine/core/DrawerOverlay";function uN(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function dN(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const fN={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},pN={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},hN={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Pr("modal"),position:"left"},mN=(e,{position:t,size:r,offset:n})=>({root:{"--drawer-size":Xe(r,"drawer-size"),"--drawer-flex":dN(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":uN(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":re(n)}}),af=ye((e,t)=>{const r=ie("DrawerRoot",hN,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,scrollAreaComponent:f,position:m,transitionProps:v,radius:g,...w}=r,{dir:b}=uo(),E=Ae({name:"Drawer",classes:js,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:mN}),R=(b==="rtl"?pN:fN)[m];return y.jsx(sN,{value:{scrollAreaComponent:f,getStyles:E,radius:g},children:y.jsx(Jg,{ref:t,...E("root"),transitionProps:{transition:R,...v},unstyled:l,...w})})});af.classes=js;af.displayName="@mantine/core/DrawerRoot";const[gN,vN]=Ko();function tC({children:e}){const[t,r]=P.useState([]),[n,o]=P.useState(Pr("modal"));return y.jsx(gN,{value:{stack:t,addModal:(a,c)=>{r(l=>[...new Set([...l,a])]),o(l=>typeof c=="number"&&typeof l=="number"?Math.max(l,c):l)},removeModal:a=>r(c=>c.filter(l=>l!==a)),getZIndex:a=>`calc(${n} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}tC.displayName="@mantine/core/DrawerStack";const yN={},cf=ye((e,t)=>{const r=ie("DrawerTitle",yN,e),{classNames:n,className:o,style:a,styles:c,vars:l,...d}=r,f=ca();return y.jsx(sv,{ref:t,...f.getStyles("title",{classNames:n,style:a,styles:c,className:o}),...d})});cf.classes=js;cf.displayName="@mantine/core/DrawerTitle";const wN={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Pr("modal"),withOverlay:!0,withCloseButton:!0},cn=ye((e,t)=>{const{title:r,withOverlay:n,overlayProps:o,withCloseButton:a,closeButtonProps:c,children:l,opened:d,stackId:f,zIndex:m,...v}=ie("Drawer",wN,e),g=vN(),w=!!r||a,b=g&&f?{closeOnEscape:g.currentId===f,trapFocus:g.currentId===f,zIndex:g.getZIndex(f)}:{},E=n===!1?!1:f&&g?g.currentId===f:d;return P.useEffect(()=>{g&&f&&(d?g.addModal(f,m||Pr("modal")):g.removeModal(f))},[d,f,m]),y.jsxs(af,{ref:t,opened:d,zIndex:g&&f?g.getZIndex(f):m,...v,...b,children:[n&&y.jsx(of,{visible:E,transitionProps:g&&f?{duration:0}:void 0,...o}),y.jsxs(nf,{__hidden:g&&f&&d?f!==g.currentId:!1,children:[w&&y.jsxs(sf,{children:[r&&y.jsx(cf,{children:r}),a&&y.jsx(rf,{...c})]}),y.jsx(tf,{children:l})]})]})});cn.classes=js;cn.displayName="@mantine/core/Drawer";cn.Root=af;cn.Overlay=of;cn.Content=nf;cn.Body=tf;cn.Header=sf;cn.Title=cf;cn.CloseButton=rf;cn.Stack=tC;function SN({open:e,close:t,openDelay:r,closeDelay:n}){const o=P.useRef(-1),a=P.useRef(-1),c=()=>{window.clearTimeout(o.current),window.clearTimeout(a.current)},l=()=>{c(),r===0||r===void 0?e():o.current=window.setTimeout(e,r)},d=()=>{c(),n===0||n===void 0?t():a.current=window.setTimeout(t,n)};return P.useEffect(()=>c,[]),{openDropdown:l,closeDropdown:d}}function bN(e="top-end",t=0){const r={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},n=re(t),[o,a]=e.split("-");return o==="top"&&(r["--indicator-top"]=n,r["--indicator-translate-y"]="-50%"),o==="middle"&&(r["--indicator-top"]="50%",r["--indicator-translate-y"]="-50%"),o==="bottom"&&(r["--indicator-bottom"]=n,r["--indicator-translate-y"]="50%"),a==="start"&&(r["--indicator-left"]=n,r["--indicator-translate-x"]="-50%"),a==="center"&&(r["--indicator-left"]="50%",r["--indicator-translate-x"]="-50%"),a==="end"&&(r["--indicator-right"]=n,r["--indicator-translate-x"]="50%"),r}var rC={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const _N={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},xN=(e,{color:t,position:r,offset:n,size:o,radius:a,zIndex:c,autoContrast:l})=>({root:{"--indicator-color":t?gr(t,e):void 0,"--indicator-text-color":R1(l,e)?Tg({color:t,theme:e,autoContrast:l}):void 0,"--indicator-size":re(o),"--indicator-radius":a===void 0?void 0:kt(a),"--indicator-z-index":c==null?void 0:c.toString(),...bN(r,n)}}),Ev=ye((e,t)=>{const r=ie("Indicator",_N,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,children:f,position:m,offset:v,inline:g,label:w,radius:b,color:E,withBorder:R,disabled:T,processing:x,zIndex:p,autoContrast:h,mod:S,...C}=r,D=Ae({name:"Indicator",classes:rC,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:xN});return y.jsxs(oe,{ref:t,...D("root"),mod:[{inline:g},S],...C,children:[!T&&y.jsx(oe,{mod:{"with-label":!!w,"with-border":R,processing:x},...D("indicator"),children:w}),f]})});Ev.classes=rC;Ev.displayName="@mantine/core/Indicator";function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(null,arguments)}function Tv(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CN=P.useLayoutEffect,RN=function(t){var r=St.useRef(t);return CN(function(){r.current=t}),r},Qb=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},EN=function(t,r){var n=St.useRef();return St.useCallback(function(o){t.current=o,n.current&&Qb(n.current,null),n.current=r,r&&Qb(r,o)},[r])},Jb={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},TN=function(t){Object.keys(Jb).forEach(function(r){t.style.setProperty(r,Jb[r],"important")})},Zb=TN,pr=null,e0=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function kN(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),pr||(pr=document.createElement("textarea"),pr.setAttribute("tabindex","-1"),pr.setAttribute("aria-hidden","true"),Zb(pr)),pr.parentNode===null&&document.body.appendChild(pr);var o=e.paddingSize,a=e.borderSize,c=e.sizingStyle,l=c.boxSizing;Object.keys(c).forEach(function(g){var w=g;pr.style[w]=c[w]}),Zb(pr),pr.value=t;var d=e0(pr,e);pr.value=t,d=e0(pr,e),pr.value="x";var f=pr.scrollHeight-o,m=f*r;l==="border-box"&&(m=m+o+a),d=Math.max(m,d);var v=f*n;return l==="border-box"&&(v=v+o+a),d=Math.min(v,d),[d,f]}var t0=function(){},PN=function(t,r){return t.reduce(function(n,o){return n[o]=r[o],n},{})},DN=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],jN=!!document.documentElement.currentStyle,IN=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=PN(DN,r),o=n.boxSizing;if(o==="")return null;jN&&o==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var a=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),c=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:a,borderSize:c}},MN=IN;function nC(e,t,r){var n=RN(r);P.useLayoutEffect(function(){var o=function(c){return n.current(c)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var NN=function(t){nC(window,"resize",t)},LN=function(t){nC(document.fonts,"loadingdone",t)},ON=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],AN=function(t,r){var n=t.cacheMeasurements,o=t.maxRows,a=t.minRows,c=t.onChange,l=c===void 0?t0:c,d=t.onHeightChange,f=d===void 0?t0:d,m=Tv(t,ON),v=m.value!==void 0,g=P.useRef(null),w=EN(g,r),b=P.useRef(0),E=P.useRef(),R=function(){var p=g.current,h=n&&E.current?E.current:MN(p);if(h){E.current=h;var S=kN(h,p.value||p.placeholder||"x",a,o),C=S[0],D=S[1];b.current!==C&&(b.current=C,p.style.setProperty("height",C+"px","important"),f(C,{rowHeight:D}))}},T=function(p){v||R(),l(p)};return P.useLayoutEffect(R),NN(R),LN(R),P.createElement("textarea",xd({},m,{onChange:T,ref:w}))},$N=P.forwardRef(AN);const FN={},$c=ye((e,t)=>{const{autosize:r,maxRows:n,minRows:o,__staticSelector:a,resize:c,...l}=ie("Textarea",FN,e),d=r&&XP()!=="test",f=d?{maxRows:n,minRows:o}:{};return y.jsx(on,{component:d?$N:"textarea",ref:t,...l,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":r&&n===void 0||void 0,__vars:{"--input-resize":c},...f})});$c.classes=on.classes;$c.displayName="@mantine/core/Textarea";const[zN,Fc]=Bn("Menu component was not found in the tree");var la={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const BN={},kv=ye((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,...l}=ie("MenuDivider",BN,e),d=Fc();return y.jsx(oe,{ref:t,...d.getStyles("divider",{className:n,style:o,styles:a,classNames:r}),...l})});kv.classes=la;kv.displayName="@mantine/core/MenuDivider";const UN={},Pv=ye((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,onMouseEnter:l,onMouseLeave:d,onKeyDown:f,children:m,...v}=ie("MenuDropdown",UN,e),g=P.useRef(null),w=Fc(),b=Jn(f,T=>{var x,p;(T.key==="ArrowUp"||T.key==="ArrowDown")&&(T.preventDefault(),(p=(x=g.current)==null?void 0:x.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||p.focus())}),E=Jn(l,()=>(w.trigger==="hover"||w.trigger==="click-hover")&&w.openDropdown()),R=Jn(d,()=>(w.trigger==="hover"||w.trigger==="click-hover")&&w.closeDropdown());return y.jsxs(Jt.Dropdown,{...v,onMouseEnter:E,onMouseLeave:R,role:"menu","aria-orientation":"vertical",ref:Ut(t,g),...w.getStyles("dropdown",{className:n,style:o,styles:a,classNames:r,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:b,children:[w.withInitialFocusPlaceholder&&y.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),m]})});Pv.classes=la;Pv.displayName="@mantine/core/MenuDropdown";const VN={},Dv=Zt((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,color:l,closeMenuOnClick:d,leftSection:f,rightSection:m,children:v,disabled:g,"data-disabled":w,...b}=ie("MenuItem",VN,e),E=Fc(),R=lr(),{dir:T}=uo(),x=P.useRef(null),p=E.getItemIndex(x.current),h=b,S=Jn(h.onMouseLeave,()=>E.setHovered(-1)),C=Jn(h.onMouseEnter,()=>E.setHovered(E.getItemIndex(x.current))),D=Jn(h.onClick,()=>{w||(typeof d=="boolean"?d&&E.closeDropdownImmediately():E.closeOnItemClick&&E.closeDropdownImmediately())}),j=Jn(h.onFocus,()=>E.setHovered(E.getItemIndex(x.current))),L=l?R.variantColorResolver({color:l,theme:R,variant:"light"}):void 0,N=l?ta({color:l,theme:R}):null;return y.jsxs(ns,{...b,unstyled:E.unstyled,tabIndex:E.menuItemTabIndex,onFocus:j,...E.getStyles("item",{className:n,style:o,styles:a,classNames:r}),ref:Ut(x,t),role:"menuitem",disabled:g,"data-menu-item":!0,"data-disabled":g||w||void 0,"data-hovered":E.hovered===p?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:C,onMouseLeave:S,onClick:D,onKeyDown:u1({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:E.loop,dir:T,orientation:"vertical",onKeyDown:h.onKeyDown}),__vars:{"--menu-item-color":N!=null&&N.isThemeColor&&(N==null?void 0:N.shade)===void 0?`var(--mantine-color-${N.color}-6)`:L==null?void 0:L.color,"--menu-item-hover":L==null?void 0:L.hover},children:[f&&y.jsx("div",{...E.getStyles("itemSection",{styles:a,classNames:r}),"data-position":"left",children:f}),v&&y.jsx("div",{...E.getStyles("itemLabel",{styles:a,classNames:r}),children:v}),m&&y.jsx("div",{...E.getStyles("itemSection",{styles:a,classNames:r}),"data-position":"right",children:m})]})});Dv.classes=la;Dv.displayName="@mantine/core/MenuItem";const HN={},jv=ye((e,t)=>{const{classNames:r,className:n,style:o,styles:a,vars:c,...l}=ie("MenuLabel",HN,e),d=Fc();return y.jsx(oe,{ref:t,...d.getStyles("label",{className:n,style:o,styles:a,classNames:r}),...l})});jv.classes=la;jv.displayName="@mantine/core/MenuLabel";const WN={refProp:"ref"},sC=P.forwardRef((e,t)=>{const{children:r,refProp:n,...o}=ie("MenuTarget",WN,e);if(!co(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const a=Fc(),c=r.props,l=Jn(c.onClick,()=>{a.trigger==="click"?a.toggleDropdown():a.trigger==="click-hover"&&(a.setOpenedViaClick(!0),a.opened||a.openDropdown())}),d=Jn(c.onMouseEnter,()=>(a.trigger==="hover"||a.trigger==="click-hover")&&a.openDropdown()),f=Jn(c.onMouseLeave,()=>{(a.trigger==="hover"||a.trigger==="click-hover"&&!a.openedViaClick)&&a.closeDropdown()});return y.jsx(Jt.Target,{refProp:n,popupType:"menu",ref:t,...o,children:P.cloneElement(r,{onClick:l,onMouseEnter:d,onMouseLeave:f,"data-expanded":a.opened?!0:void 0})})});sC.displayName="@mantine/core/MenuTarget";const qN={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function lt(e){const t=ie("Menu",qN,e),{children:r,onOpen:n,onClose:o,opened:a,defaultOpened:c,trapFocus:l,onChange:d,closeOnItemClick:f,loop:m,closeOnEscape:v,trigger:g,openDelay:w,closeDelay:b,classNames:E,styles:R,unstyled:T,variant:x,vars:p,menuItemTabIndex:h,keepMounted:S,withInitialFocusPlaceholder:C,...D}=t,j=Ae({name:"Menu",classes:la,props:t,classNames:E,styles:R,unstyled:T}),[L,{setHovered:N,resetHovered:A}]=TP(),[O,V]=Tr({value:a,defaultValue:c,finalValue:!1,onChange:d}),[W,X]=P.useState(!1),M=()=>{V(!1),X(!1),O&&(o==null||o())},B=()=>{V(!0),!O&&(n==null||n())},$=()=>{O?M():B()},{openDropdown:F,closeDropdown:H}=SN({open:B,close:M,closeDelay:b,openDelay:w}),U=ue=>EP("[data-menu-item]","[data-menu-dropdown]",ue),{resolvedClassNames:G,resolvedStyles:ne}=Xo({classNames:E,styles:R,props:t});return Er(()=>{A()},[O]),y.jsx(zN,{value:{getStyles:j,opened:O,toggleDropdown:$,getItemIndex:U,hovered:L,setHovered:N,openedViaClick:W,setOpenedViaClick:X,closeOnItemClick:f,closeDropdown:g==="click"?M:H,openDropdown:g==="click"?B:F,closeDropdownImmediately:M,loop:m,trigger:g,unstyled:T,menuItemTabIndex:h,withInitialFocusPlaceholder:C},children:y.jsx(Jt,{...D,opened:O,onChange:$,defaultOpened:c,trapFocus:S?!1:l,closeOnEscape:v,__staticSelector:"Menu",classNames:G,styles:ne,unstyled:T,variant:x,keepMounted:S,children:r})})}lt.extend=e=>e;lt.withProps=sj(lt);lt.classes=la;lt.displayName="@mantine/core/Menu";lt.Item=Dv;lt.Label=jv;lt.Dropdown=Pv;lt.Target=sC;lt.Divider=kv;const[GN,ua]=Bn("Modal component was not found in tree");var Is={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const KN={},lf=ye((e,t)=>{const r=ie("ModalBody",KN,e),{classNames:n,className:o,style:a,styles:c,vars:l,...d}=r,f=ua();return y.jsx(Zg,{ref:t,...f.getStyles("body",{classNames:n,style:a,styles:c,className:o}),...d})});lf.classes=Is;lf.displayName="@mantine/core/ModalBody";const XN={},uf=ye((e,t)=>{const r=ie("ModalCloseButton",XN,e),{classNames:n,className:o,style:a,styles:c,vars:l,...d}=r,f=ua();return y.jsx(ev,{ref:t,...f.getStyles("close",{classNames:n,style:a,styles:c,className:o}),...d})});uf.classes=Is;uf.displayName="@mantine/core/ModalCloseButton";const YN={},df=ye((e,t)=>{const r=ie("ModalContent",YN,e),{classNames:n,className:o,style:a,styles:c,vars:l,children:d,__hidden:f,...m}=r,v=ua(),g=v.scrollAreaComponent||Cx;return y.jsx(tv,{...v.getStyles("content",{className:o,style:a,styles:c,classNames:n}),innerProps:v.getStyles("inner",{className:o,style:a,styles:c,classNames:n}),"data-full-screen":v.fullScreen||void 0,"data-modal-content":!0,"data-hidden":f||void 0,ref:t,...m,children:y.jsx(g,{style:{maxHeight:v.fullScreen?"100dvh":`calc(100dvh - (${re(v.yOffset)} * 2))`},children:d})})});df.classes=Is;df.displayName="@mantine/core/ModalContent";const QN={},ff=ye((e,t)=>{const r=ie("ModalHeader",QN,e),{classNames:n,className:o,style:a,styles:c,vars:l,...d}=r,f=ua();return y.jsx(rv,{ref:t,...f.getStyles("header",{classNames:n,style:a,styles:c,className:o}),...d})});ff.classes=Is;ff.displayName="@mantine/core/ModalHeader";const JN={},pf=ye((e,t)=>{const r=ie("ModalOverlay",JN,e),{classNames:n,className:o,style:a,styles:c,vars:l,...d}=r,f=ua();return y.jsx(nv,{ref:t,...f.getStyles("overlay",{classNames:n,style:a,styles:c,className:o}),...d})});pf.classes=Is;pf.displayName="@mantine/core/ModalOverlay";const ZN={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Pr("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},eL=(e,{radius:t,size:r,yOffset:n,xOffset:o})=>({root:{"--modal-radius":t===void 0?void 0:kt(t),"--modal-size":Xe(r,"modal-size"),"--modal-y-offset":re(n),"--modal-x-offset":re(o)}}),hf=ye((e,t)=>{const r=ie("ModalRoot",ZN,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,yOffset:f,scrollAreaComponent:m,radius:v,fullScreen:g,centered:w,xOffset:b,__staticSelector:E,...R}=r,T=Ae({name:E,classes:Is,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:eL});return y.jsx(GN,{value:{yOffset:f,scrollAreaComponent:m,getStyles:T,fullScreen:g},children:y.jsx(Jg,{ref:t,...T("root"),"data-full-screen":g||void 0,"data-centered":w||void 0,unstyled:l,...R})})});hf.classes=Is;hf.displayName="@mantine/core/ModalRoot";const[tL,rL]=Ko();function oC({children:e}){const[t,r]=P.useState([]),[n,o]=P.useState(Pr("modal"));return y.jsx(tL,{value:{stack:t,addModal:(a,c)=>{r(l=>[...new Set([...l,a])]),o(l=>typeof c=="number"&&typeof l=="number"?Math.max(l,c):l)},removeModal:a=>r(c=>c.filter(l=>l!==a)),getZIndex:a=>`calc(${n} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:n},children:e})}oC.displayName="@mantine/core/ModalStack";const nL={},mf=ye((e,t)=>{const r=ie("ModalTitle",nL,e),{classNames:n,className:o,style:a,styles:c,vars:l,...d}=r,f=ua();return y.jsx(sv,{ref:t,...f.getStyles("title",{classNames:n,style:a,styles:c,className:o}),...d})});mf.classes=Is;mf.displayName="@mantine/core/ModalTitle";const sL={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Pr("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Rt=ye((e,t)=>{const{title:r,withOverlay:n,overlayProps:o,withCloseButton:a,closeButtonProps:c,children:l,radius:d,opened:f,stackId:m,zIndex:v,...g}=ie("Modal",sL,e),w=rL(),b=!!r||a,E=w&&m?{closeOnEscape:w.currentId===m,trapFocus:w.currentId===m,zIndex:w.getZIndex(m)}:{},R=n===!1?!1:m&&w?w.currentId===m:f;return P.useEffect(()=>{w&&m&&(f?w.addModal(m,v||Pr("modal")):w.removeModal(m))},[f,m,v]),y.jsxs(hf,{ref:t,radius:d,opened:f,zIndex:w&&m?w.getZIndex(m):v,...g,...E,children:[n&&y.jsx(pf,{visible:R,transitionProps:w&&m?{duration:0}:void 0,...o}),y.jsxs(df,{radius:d,__hidden:w&&m&&f?m!==w.currentId:!1,children:[b&&y.jsxs(ff,{children:[r&&y.jsx(mf,{children:r}),a&&y.jsx(uf,{...c})]}),y.jsx(lf,{children:l})]})]})});Rt.classes=Is;Rt.displayName="@mantine/core/Modal";Rt.Root=hf;Rt.Overlay=pf;Rt.Content=df;Rt.Body=lf;Rt.Header=ff;Rt.Title=mf;Rt.CloseButton=uf;Rt.Stack=oC;const[sF,iC]=Ko(),[oL,iL]=Ko();var gf={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const aL={},cL=(e,{gap:t},{size:r})=>({group:{"--pg-gap":t!==void 0?Xe(t):Xe(r,"pg-gap")}}),Iv=ye((e,t)=>{const r=ie("PillGroup",aL,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,size:f,disabled:m,...v}=r,g=iC(),w=(g==null?void 0:g.size)||f||void 0,b=Ae({name:"PillGroup",classes:gf,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:cL,stylesCtx:{size:w},rootSelector:"group"});return y.jsx(oL,{value:{size:w,disabled:m},children:y.jsx(oe,{ref:t,size:w,...b("group"),...v})})});Iv.classes=gf;Iv.displayName="@mantine/core/PillGroup";const lL={variant:"default"},uL=(e,{radius:t},{size:r})=>({root:{"--pill-fz":Xe(r,"pill-fz"),"--pill-height":Xe(r,"pill-height"),"--pill-radius":t===void 0?void 0:kt(t)}}),vf=ye((e,t)=>{const r=ie("Pill",lL,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,variant:f,children:m,withRemoveButton:v,onRemove:g,removeButtonProps:w,radius:b,size:E,disabled:R,mod:T,...x}=r,p=iL(),h=iC(),S=E||(p==null?void 0:p.size)||void 0,C=(h==null?void 0:h.variant)==="filled"?"contrast":f||"default",D=Ae({name:"Pill",classes:gf,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:uL,stylesCtx:{size:S}});return y.jsxs(oe,{component:"span",ref:t,variant:C,size:S,...D("root",{variant:C}),mod:[{"with-remove":v&&!R,disabled:R||(p==null?void 0:p.disabled)},T],...x,children:[y.jsx("span",{...D("label"),children:m}),v&&y.jsx(oa,{variant:"transparent",radius:b,tabIndex:-1,"aria-hidden":!0,unstyled:l,...w,...D("remove",{className:w==null?void 0:w.className,style:w==null?void 0:w.style}),onMouseDown:j=>{var L;j.preventDefault(),j.stopPropagation(),(L=w==null?void 0:w.onMouseDown)==null||L.call(w,j)},onClick:j=>{var L;j.stopPropagation(),g==null||g(),(L=w==null?void 0:w.onClick)==null||L.call(w,j)}})]})});vf.classes=gf;vf.displayName="@mantine/core/Pill";vf.Group=Iv;var aC={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const dL={},fL=(e,{variant:t,color:r,childrenOffset:n,autoContrast:o})=>{const a=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:t||"light",autoContrast:o});return{root:{"--nl-bg":r||t?a.background:void 0,"--nl-hover":r||t?a.hover:void 0,"--nl-color":r||t?a.color:void 0},children:{"--nl-offset":ar(n)}}},Fr=Zt((e,t)=>{const r=ie("NavLink",dL,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,opened:f,defaultOpened:m,onChange:v,children:g,onClick:w,active:b,disabled:E,leftSection:R,rightSection:T,label:x,description:p,disableRightSectionRotation:h,noWrap:S,childrenOffset:C,onKeyDown:D,autoContrast:j,mod:L,...N}=r,A=Ae({name:"NavLink",props:r,classes:aC,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:fL}),[O,V]=Tr({value:f,defaultValue:m,finalValue:!1,onChange:v}),W=!!g,X=M=>{w==null||w(M),W&&(M.preventDefault(),V(!O))};return y.jsxs(y.Fragment,{children:[y.jsxs(ns,{...A("root"),component:"a",ref:t,onClick:X,onKeyDown:M=>{D==null||D(M),M.nativeEvent.code==="Space"&&W&&(M.preventDefault(),V(!O))},unstyled:l,mod:[{disabled:E,active:b,expanded:O},L],...N,children:[R&&y.jsx(oe,{component:"span",...A("section"),mod:{position:"left"},children:R}),y.jsxs(oe,{...A("body"),mod:{"no-wrap":S},children:[y.jsx(oe,{component:"span",...A("label"),children:x}),y.jsx(oe,{component:"span",mod:{active:b},...A("description"),children:p})]}),(W||T)&&y.jsx(oe,{...A("section"),component:"span",mod:{rotate:O&&!h,position:"right"},children:W?T||y.jsx(kx,{...A("chevron")}):T})]}),W&&y.jsx(zd,{in:O,...A("collapse"),children:y.jsx("div",{...A("children"),children:g})})]})});Fr.classes=aC;Fr.displayName="@mantine/core/NavLink";var cC={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const pL={withCloseButton:!0},hL=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:kt(t),"--notification-color":r?gr(r,e):void 0}}),Mv=ye((e,t)=>{const r=ie("Notification",pL,e),{className:n,color:o,radius:a,loading:c,withCloseButton:l,withBorder:d,title:f,icon:m,children:v,onClose:g,closeButtonProps:w,classNames:b,style:E,styles:R,unstyled:T,variant:x,vars:p,mod:h,loaderProps:S,...C}=r,D=Ae({name:"Notification",classes:cC,props:r,className:n,style:E,classNames:b,styles:R,unstyled:T,vars:p,varsResolver:hL});return y.jsxs(oe,{...D("root"),mod:[{"data-with-icon":!!m||c,"data-with-border":d},h],ref:t,variant:x,...C,role:"alert",children:[m&&!c&&y.jsx("div",{...D("icon"),children:m}),c&&y.jsx(Ps,{size:28,color:o,...S,...D("loader")}),y.jsxs("div",{...D("body"),children:[f&&y.jsx("div",{...D("title"),children:f}),y.jsx(oe,{...D("description"),mod:{"data-with-title":!!f},children:v})]}),l&&y.jsx(oa,{iconSize:16,color:"gray",...w,unstyled:T,onClick:g,...D("closeButton")})]})});Mv.classes=cC;Mv.displayName="@mantine/core/Notification";function lC(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}var kc;(function(e){e.event="event",e.props="prop"})(kc||(kc={}));function to(){}function mL(e){var t,r=void 0;return function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];return t&&n.length===t.length&&n.every(function(a,c){return a===t[c]})||(t=n,r=e.apply(void 0,n)),r}}function Pc(e){return!!(e||"").match(/\d/)}function Ui(e){return e==null}function gL(e){return typeof e=="number"&&isNaN(e)}function uC(e){return Ui(e)||gL(e)||typeof e=="number"&&!isFinite(e)}function dC(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function vL(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function yL(e,t,r){var n=vL(r),o=e.search(/[1-9]/);return o=o===-1?e.length:o,e.substring(0,o)+e.substring(o,e.length).replace(n,"$1"+t)}function wL(e){var t=P.useRef(e);t.current=e;var r=P.useRef(function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];return t.current.apply(t,n)});return r.current}function Nv(e,t){t===void 0&&(t=!0);var r=e[0]==="-",n=r&&t;e=e.replace("-","");var o=e.split("."),a=o[0],c=o[1]||"";return{beforeDecimal:a,afterDecimal:c,hasNegation:r,addNegation:n}}function SL(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var r=e.split("."),n=r[0].replace(/^0+/,"")||"0",o=r[1]||"";return(t?"-":"")+n+(o?"."+o:"")}function fC(e,t,r){for(var n="",o=r?"0":"",a=0;a<=t-1;a++)n+=e[a]||o;return n}function r0(e,t){return Array(t+1).join(e)}function pC(e){var t=e+"",r=t[0]==="-"?"-":"";r&&(t=t.substring(1));var n=t.split(/[eE]/g),o=n[0],a=n[1];if(a=Number(a),!a)return r+o;o=o.replace(".","");var c=1+a,l=o.length;return c<0?o="0."+r0("0",Math.abs(c))+o:c>=l?o=o+r0("0",c-l):o=(o.substring(0,c)||"0")+"."+o.substring(c),r+o}function n0(e,t,r){if(["","-"].indexOf(e)!==-1)return e;var n=(e.indexOf(".")!==-1||r)&&t,o=Nv(e),a=o.beforeDecimal,c=o.afterDecimal,l=o.hasNegation,d=parseFloat("0."+(c||"0")),f=c.length<=t?"0."+c:d.toFixed(t),m=f.split("."),v=a;a&&Number(m[0])&&(v=a.split("").reverse().reduce(function(E,R,T){return E.length>T?(Number(E[0])+Number(R)).toString()+E.substring(1,E.length):R+E},m[0]));var g=fC(m[1]||"",t,r),w=l?"-":"",b=n?".":"";return""+w+v+b+g}function Lo(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var r=e.createTextRange();return r.move("character",t),r.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var hC=mL(function(e,t){for(var r=0,n=0,o=e.length,a=t.length;e[r]===t[r]&&r<o;)r++;for(;e[o-1-n]===t[a-1-n]&&a-n>r&&o-n>r;)n++;return{from:{start:r,end:o-n},to:{start:r,end:a-n}}}),bL=function(e,t){var r=Math.min(e.selectionStart,t);return{from:{start:r,end:e.selectionEnd},to:{start:r,end:t}}};function _L(e,t,r){return Math.min(Math.max(e,t),r)}function em(e){return Math.max(e.selectionStart,e.selectionEnd)}function xL(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function CL(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function RL(e){var t=e.currentValue,r=e.formattedValue,n=e.currentValueIndex,o=e.formattedValueIndex;return t[n]===r[o]}function EL(e,t,r,n,o,a,c){c===void 0&&(c=RL);var l=o.findIndex(function(h){return h}),d=e.slice(0,l);!t&&!r.startsWith(d)&&(t=d,r=d+r,n=n+d.length);for(var f=r.length,m=e.length,v={},g=new Array(f),w=0;w<f;w++){g[w]=-1;for(var b=0,E=m;b<E;b++){var R=c({currentValue:r,lastValue:t,formattedValue:e,currentValueIndex:w,formattedValueIndex:b});if(R&&v[b]!==!0){g[w]=b,v[b]=!0;break}}}for(var T=n;T<f&&(g[T]===-1||!a(r[T]));)T++;var x=T===f||g[T]===-1?m:g[T];for(T=n-1;T>0&&g[T]===-1;)T--;var p=T===-1||g[T]===-1?0:g[T]+1;return p>x?x:n-p<x-n?p:x}function s0(e,t,r,n){var o=e.length;if(t=_L(t,0,o),n==="left"){for(;t>=0&&!r[t];)t--;t===-1&&(t=r.indexOf(!0))}else{for(;t<=o&&!r[t];)t++;t>o&&(t=r.lastIndexOf(!0))}return t===-1&&(t=o),t}function TL(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),r=0,n=t.length;r<n;r++)t[r]=!!(Pc(e[r])||Pc(e[r-1]));return t}function mC(e,t,r,n,o,a){a===void 0&&(a=to);var c=wL(function(b,E){var R,T;return uC(b)?(T="",R=""):typeof b=="number"||E?(T=typeof b=="number"?pC(b):b,R=n(T)):(T=o(b,void 0),R=n(T)),{formattedValue:R,numAsString:T}}),l=P.useState(function(){return c(Ui(e)?t:e,r)}),d=l[0],f=l[1],m=function(b,E){b.formattedValue!==d.formattedValue&&f({formattedValue:b.formattedValue,numAsString:b.value}),a(b,E)},v=e,g=r;Ui(e)&&(v=d.numAsString,g=!0);var w=c(v,g);return P.useMemo(function(){f(w)},[w.formattedValue]),[d,m]}function kL(e){return e.replace(/[^0-9]/g,"")}function PL(e){return e}function DL(e){var t=e.type;t===void 0&&(t="text");var r=e.displayType;r===void 0&&(r="input");var n=e.customInput,o=e.renderText,a=e.getInputRef,c=e.format;c===void 0&&(c=PL);var l=e.removeFormatting;l===void 0&&(l=kL);var d=e.defaultValue,f=e.valueIsNumericString,m=e.onValueChange,v=e.isAllowed,g=e.onChange;g===void 0&&(g=to);var w=e.onKeyDown;w===void 0&&(w=to);var b=e.onMouseUp;b===void 0&&(b=to);var E=e.onFocus;E===void 0&&(E=to);var R=e.onBlur;R===void 0&&(R=to);var T=e.value,x=e.getCaretBoundary;x===void 0&&(x=TL);var p=e.isValidInputCharacter;p===void 0&&(p=Pc);var h=e.isCharacterSame,S=lC(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),C=mC(T,d,!!f,c,l,m),D=C[0],j=D.formattedValue,L=D.numAsString,N=C[1],A=P.useRef(),O=P.useRef({formattedValue:j,numAsString:L}),V=function(fe,we){O.current={formattedValue:fe.formattedValue,numAsString:fe.value},N(fe,we)},W=P.useState(!1),X=W[0],M=W[1],B=P.useRef(null),$=P.useRef({setCaretTimeout:null,focusTimeout:null});P.useEffect(function(){return M(!0),function(){clearTimeout($.current.setCaretTimeout),clearTimeout($.current.focusTimeout)}},[]);var F=c,H=function(fe,we){var Ee=parseFloat(we);return{formattedValue:fe,value:we,floatValue:isNaN(Ee)?void 0:Ee}},U=function(fe,we,Ee){fe.selectionStart===0&&fe.selectionEnd===fe.value.length||(Lo(fe,we),$.current.setCaretTimeout=setTimeout(function(){fe.value===Ee&&fe.selectionStart!==we&&Lo(fe,we)},0))},G=function(fe,we,Ee){return s0(fe,we,x(fe),Ee)},ne=function(fe,we,Ee){var Me=x(we),ze=EL(we,j,fe,Ee,Me,p,h);return ze=s0(we,ze,Me),ze},ue=function(fe){var we=fe.formattedValue;we===void 0&&(we="");var Ee=fe.input,Me=fe.source,ze=fe.event,Fe=fe.numAsString,Ge;if(Ee){var me=fe.inputValue||Ee.value,Pe=em(Ee);Ee.value=we,Ge=ne(me,we,Pe),Ge!==void 0&&U(Ee,Ge,we)}we!==j&&V(H(we,Fe),{event:ze,source:Me})};P.useEffect(function(){var fe=O.current,we=fe.formattedValue,Ee=fe.numAsString;(j!==we||L!==Ee)&&V(H(j,L),{event:void 0,source:kc.props})},[j,L]);var Q=B.current?em(B.current):void 0,se=typeof window<"u"?P.useLayoutEffect:P.useEffect;se(function(){var fe=B.current;if(j!==O.current.formattedValue&&fe){var we=ne(O.current.formattedValue,j,Q);fe.value=j,U(fe,we,j)}},[j]);var le=function(fe,we,Ee){var Me=we.target,ze=A.current?bL(A.current,Me.selectionEnd):hC(j,fe),Fe=Object.assign(Object.assign({},ze),{lastValue:j}),Ge=l(fe,Fe),me=F(Ge);if(Ge=l(me,void 0),v&&!v(H(me,Ge))){var Pe=we.target,Ce=em(Pe),Ne=ne(fe,j,Ce);return Pe.value=j,U(Pe,Ne,j),!1}return ue({formattedValue:me,numAsString:Ge,inputValue:fe,event:we,source:Ee,input:we.target}),!0},ge=function(fe,we){we===void 0&&(we=0);var Ee=fe.selectionStart,Me=fe.selectionEnd;A.current={selectionStart:Ee,selectionEnd:Me+we}},te=function(fe){var we=fe.target,Ee=we.value,Me=le(Ee,fe,kc.event);Me&&g(fe),A.current=void 0},he=function(fe){var we=fe.target,Ee=fe.key,Me=we.selectionStart,ze=we.selectionEnd,Fe=we.value;Fe===void 0&&(Fe="");var Ge;Ee==="ArrowLeft"||Ee==="Backspace"?Ge=Math.max(Me-1,0):Ee==="ArrowRight"?Ge=Math.min(Me+1,Fe.length):Ee==="Delete"&&(Ge=Me);var me=0;Ee==="Delete"&&Me===ze&&(me=1);var Pe=Ee==="ArrowLeft"||Ee==="ArrowRight";if(Ge===void 0||Me!==ze&&!Pe){w(fe),ge(we,me);return}var Ce=Ge;if(Pe){var Ne=Ee==="ArrowLeft"?"left":"right";Ce=G(Fe,Ge,Ne),Ce!==Ge&&fe.preventDefault()}else Ee==="Delete"&&!p(Fe[Ge])?Ce=G(Fe,Ge,"right"):Ee==="Backspace"&&!p(Fe[Ge])&&(Ce=G(Fe,Ge,"left"));Ce!==Ge&&U(we,Ce,Fe),w(fe),ge(we,me)},_e=function(fe){var we=fe.target,Ee=function(){var Me=we.selectionStart,ze=we.selectionEnd,Fe=we.value;if(Fe===void 0&&(Fe=""),Me===ze){var Ge=G(Fe,Me);Ge!==Me&&U(we,Ge,Fe)}};Ee(),requestAnimationFrame(function(){Ee()}),b(fe),ge(we)},He=function(fe){fe.persist&&fe.persist();var we=fe.target,Ee=fe.currentTarget;B.current=we,$.current.focusTimeout=setTimeout(function(){var Me=we.selectionStart,ze=we.selectionEnd,Fe=we.value;Fe===void 0&&(Fe="");var Ge=G(Fe,Me);Ge!==Me&&!(Me===0&&ze===Fe.length)&&U(we,Ge,Fe),E(Object.assign(Object.assign({},fe),{currentTarget:Ee}))},0)},qe=function(fe){B.current=null,clearTimeout($.current.focusTimeout),clearTimeout($.current.setCaretTimeout),R(fe)},Qe=X&&xL()?"numeric":void 0,ot=Object.assign({inputMode:Qe},S,{type:t,value:j,onChange:te,onKeyDown:he,onMouseUp:_e,onFocus:He,onBlur:qe});if(r==="text")return o?St.createElement(St.Fragment,null,o(j,S)||null):St.createElement("span",Object.assign({},S,{ref:a}),j);if(n){var dt=n;return St.createElement(dt,Object.assign({},ot,{ref:a}))}return St.createElement("input",Object.assign({},ot,{ref:a}))}function o0(e,t){var r=t.decimalScale,n=t.fixedDecimalScale,o=t.prefix;o===void 0&&(o="");var a=t.suffix;a===void 0&&(a="");var c=t.allowNegative,l=t.thousandsGroupStyle;if(l===void 0&&(l="thousand"),e===""||e==="-")return e;var d=yf(t),f=d.thousandSeparator,m=d.decimalSeparator,v=r!==0&&e.indexOf(".")!==-1||r&&n,g=Nv(e,c),w=g.beforeDecimal,b=g.afterDecimal,E=g.addNegation;return r!==void 0&&(b=fC(b,r,!!n)),f&&(w=yL(w,f,l)),o&&(w=o+w),a&&(b=b+a),E&&(w="-"+w),e=w+(v&&m||"")+b,e}function yf(e){var t=e.decimalSeparator;t===void 0&&(t=".");var r=e.thousandSeparator,n=e.allowedDecimalSeparators;return r===!0&&(r=","),n||(n=[t,"."]),{decimalSeparator:t,thousandSeparator:r,allowedDecimalSeparators:n}}function jL(e,t){e===void 0&&(e="");var r=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),o=r.test(e),a=n.test(e);return e=e.replace(/-/g,""),o&&!a&&t&&(e="-"+e),e}function IL(e,t){return new RegExp("(^-)|[0-9]|"+dC(e),"g")}function ML(e,t,r){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(r!=null&&r.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function NL(e,t,r){var n;t===void 0&&(t=CL(e));var o=r.allowNegative,a=r.prefix;a===void 0&&(a="");var c=r.suffix;c===void 0&&(c="");var l=r.decimalScale,d=t.from,f=t.to,m=f.start,v=f.end,g=yf(r),w=g.allowedDecimalSeparators,b=g.decimalSeparator,E=e[v]===b;if(Pc(e)&&(e===a||e===c)&&t.lastValue==="")return e;if(v-m===1&&w.indexOf(e[m])!==-1){var R=l===0?"":b;e=e.substring(0,m)+R+e.substring(m+1,e.length)}var T=function(B,$,F){var H=!1,U=!1;a.startsWith("-")?H=!1:B.startsWith("--")?(H=!1,U=!0):c.startsWith("-")&&B.length===c.length?H=!1:B[0]==="-"&&(H=!0);var G=H?1:0;return U&&(G=2),G&&(B=B.substring(G),$-=G,F-=G),{value:B,start:$,end:F,hasNegation:H}},x=T(e,m,v),p=x.hasNegation;n=x,e=n.value,m=n.start,v=n.end;var h=T(t.lastValue,d.start,d.end),S=h.start,C=h.end,D=h.value,j=e.substring(m,v);e.length&&D.length&&(S>D.length-c.length||C<a.length)&&!(j&&c.startsWith(j))&&(e=D);var L=0;e.startsWith(a)?L+=a.length:m<a.length&&(L=m),e=e.substring(L),v-=L;var N=e.length,A=e.length-c.length;e.endsWith(c)?N=A:(v>A||v>e.length-c.length)&&(N=v),e=e.substring(0,N),e=jL(p?"-"+e:e,o),e=(e.match(IL(b))||[]).join("");var O=e.indexOf(b);e=e.replace(new RegExp(dC(b),"g"),function(B,$){return $===O?".":""});var V=Nv(e,o),W=V.beforeDecimal,X=V.afterDecimal,M=V.addNegation;return f.end-f.start<d.end-d.start&&W===""&&E&&!parseFloat(X)&&(e=M?"-":""),e}function LL(e,t){var r=t.prefix;r===void 0&&(r="");var n=t.suffix;n===void 0&&(n="");var o=Array.from({length:e.length+1}).map(function(){return!0}),a=e[0]==="-";o.fill(!1,0,r.length+(a?1:0));var c=e.length;return o.fill(!1,c-n.length+1,c+1),o}function OL(e){var t=yf(e),r=t.thousandSeparator,n=t.decimalSeparator,o=e.prefix;o===void 0&&(o="");var a=e.allowNegative;if(a===void 0&&(a=!0),r===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+r+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return o.startsWith("-")&&a&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+o+`
      allowNegative: `+a+`
    `),a=!1),Object.assign(Object.assign({},e),{allowNegative:a})}function AL(e){e=OL(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,r=e.allowNegative,n=e.allowLeadingZeros,o=e.onKeyDown;o===void 0&&(o=to);var a=e.onBlur;a===void 0&&(a=to);var c=e.thousandSeparator,l=e.decimalScale,d=e.fixedDecimalScale,f=e.prefix;f===void 0&&(f="");var m=e.defaultValue,v=e.value,g=e.valueIsNumericString,w=e.onValueChange,b=lC(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),E=yf(e),R=E.decimalSeparator,T=E.allowedDecimalSeparators,x=function(M){return o0(M,e)},p=function(M,B){return NL(M,B,e)},h=Ui(v)?m:v,S=g??ML(h,f,t);Ui(v)?Ui(m)||(S=S||typeof m=="number"):S=S||typeof v=="number";var C=function(M){return uC(M)?M:(typeof M=="number"&&(M=pC(M)),S&&typeof l=="number"?n0(M,l,!!d):M)},D=mC(C(v),C(m),!!S,x,p,w),j=D[0],L=j.numAsString,N=j.formattedValue,A=D[1],O=function(M){var B=M.target,$=M.key,F=B.selectionStart,H=B.selectionEnd,U=B.value;if(U===void 0&&(U=""),($==="Backspace"||$==="Delete")&&H<f.length){M.preventDefault();return}if(F!==H){o(M);return}$==="Backspace"&&U[0]==="-"&&F===f.length+1&&r&&Lo(B,1),l&&d&&($==="Backspace"&&U[F-1]===R?(Lo(B,F-1),M.preventDefault()):$==="Delete"&&U[F]===R&&M.preventDefault()),T!=null&&T.includes($)&&U[F]===R&&Lo(B,F+1);var G=c===!0?",":c;$==="Backspace"&&U[F-1]===G&&Lo(B,F-1),$==="Delete"&&U[F]===G&&Lo(B,F+1),o(M)},V=function(M){var B=L;if(B.match(/\d/g)||(B=""),n||(B=SL(B)),d&&l&&(B=n0(B,l,d)),B!==L){var $=o0(B,e);A({formattedValue:$,value:B,floatValue:parseFloat(B)},{event:M,source:kc.event})}a(M)},W=function(M){return M===R?!0:Pc(M)},X=function(M){var B=M.currentValue,$=M.lastValue,F=M.formattedValue,H=M.currentValueIndex,U=M.formattedValueIndex,G=B[H],ne=F[U],ue=hC($,B),Q=ue.to,se=function(le){return p(le).indexOf(".")+f.length};return v===0&&d&&l&&B[Q.start]===R&&se(B)<H&&se(F)>U?!1:H>=Q.start&&H<Q.end&&T&&T.includes(G)&&ne===R?!0:G===ne};return Object.assign(Object.assign({},b),{value:N,valueIsNumericString:!1,isValidInputCharacter:W,isCharacterSame:X,onValueChange:A,format:x,removeFormatting:p,getCaretBoundary:function(M){return LL(M,e)},onKeyDown:O,onBlur:V})}function $L(e){var t=AL(e);return St.createElement(DL,Object.assign({},t))}function i0({direction:e,style:t,...r}){return y.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:y.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var Wm={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const FL=/^(0\.0*|-0(\.0*)?)$/,zL=/^-?0\d+(\.\d+)?\.?$/;function qm(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function tm(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||qm(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function BL(e){return e.toString().replace(".","").length}function UL(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&BL(t)<14&&t!==""}function a0(e,t,r){if(e===void 0)return!0;const n=t===void 0||e>=t,o=r===void 0||e<=r;return n&&o}const VL={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},HL=(e,{size:t})=>({controls:{"--ni-chevron-size":Xe(t,"ni-chevron-size")}}),wf=ye((e,t)=>{const r=ie("NumberInput",VL,e),{className:n,classNames:o,styles:a,unstyled:c,vars:l,onChange:d,onValueChange:f,value:m,defaultValue:v,max:g,min:w,step:b,hideControls:E,rightSection:R,isAllowed:T,clampBehavior:x,onBlur:p,allowDecimal:h,decimalScale:S,onKeyDown:C,onKeyDownCapture:D,handlersRef:j,startValue:L,disabled:N,rightSectionPointerEvents:A,allowNegative:O,readOnly:V,size:W,rightSectionWidth:X,stepHoldInterval:M,stepHoldDelay:B,allowLeadingZeros:$,withKeyboardEvents:F,trimLeadingZeroesOnBlur:H,...U}=r,G=Ae({name:"NumberInput",classes:Wm,props:r,classNames:o,styles:a,unstyled:c,vars:l,varsResolver:HL}),{resolvedClassNames:ne,resolvedStyles:ue}=Xo({classNames:o,styles:a,props:r}),[Q,se]=Tr({value:m,defaultValue:v,finalValue:"",onChange:d}),le=B!==void 0&&M!==void 0,ge=P.useRef(null),te=P.useRef(null),he=P.useRef(0),_e=(me,Pe)=>{Pe.source==="event"&&se(UL(me.floatValue,me.value)&&!FL.test(me.value)&&!($&&zL.test(me.value))?me.floatValue:me.value),f==null||f(me,Pe)},He=me=>{const Pe=String(me).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Pe?Math.max(0,(Pe[1]?Pe[1].length:0)-(Pe[2]?+Pe[2]:0)):0},qe=me=>{ge.current&&typeof me<"u"&&ge.current.setSelectionRange(me,me)},Qe=P.useRef(Dm);Qe.current=()=>{if(!tm(Q))return;let me;const Pe=He(Q),Ce=He(b),Ne=Math.max(Pe,Ce),Se=10**Ne;if(!qm(Q)&&(typeof Q!="number"||Number.isNaN(Q)))me=Nn(L,w,g);else if(g!==void 0){const at=(Math.round(Number(Q)*Se)+Math.round(b*Se))/Se;me=at<=g?at:g}else me=(Math.round(Number(Q)*Se)+Math.round(b*Se))/Se;const Ye=me.toFixed(Ne);se(parseFloat(Ye)),f==null||f({floatValue:parseFloat(Ye),formattedValue:Ye,value:Ye},{source:"increment"}),setTimeout(()=>{var at;return qe((at=ge.current)==null?void 0:at.value.length)},0)};const ot=P.useRef(Dm);ot.current=()=>{if(!tm(Q))return;let me;const Pe=w!==void 0?w:O?Number.MIN_SAFE_INTEGER:0,Ce=He(Q),Ne=He(b),Se=Math.max(Ce,Ne),Ye=10**Se;if(!qm(Q)&&typeof Q!="number"||Number.isNaN(Q))me=Nn(L,Pe,g);else{const Ze=(Math.round(Number(Q)*Ye)-Math.round(b*Ye))/Ye;me=Pe!==void 0&&Ze<Pe?Pe:Ze}const at=me.toFixed(Se);se(parseFloat(at)),f==null||f({floatValue:parseFloat(at),formattedValue:at,value:at},{source:"decrement"}),setTimeout(()=>{var Ze;return qe((Ze=ge.current)==null?void 0:Ze.value.length)},0)};const dt=me=>{C==null||C(me),!(V||!F)&&(me.key==="ArrowUp"&&(me.preventDefault(),Qe.current()),me.key==="ArrowDown"&&(me.preventDefault(),ot.current()))},fe=me=>{if(D==null||D(me),me.key==="Backspace"){const Pe=ge.current;Pe.selectionStart===0&&Pe.selectionStart===Pe.selectionEnd&&(me.preventDefault(),window.setTimeout(()=>qe(0),0))}},we=me=>{let Pe=Q;if(x==="blur"&&typeof Pe=="number"&&(Pe=Nn(Pe,w,g)),H&&typeof Pe=="string"&&He(Pe)<15){const Ce=Pe.toString().replace(/^0+/,""),Ne=parseFloat(Ce);Pe=Number.isNaN(Ne)||Ne>Number.MAX_SAFE_INTEGER?Ce:Nn(Ne,w,g)}Q!==Pe&&se(Pe),p==null||p(me)};gd(j,{increment:Qe.current,decrement:ot.current});const Ee=me=>{me?Qe.current():ot.current(),he.current+=1},Me=me=>{if(Ee(me),le){const Pe=typeof M=="number"?M:M(he.current);te.current=window.setTimeout(()=>Me(me),Pe)}},ze=(me,Pe)=>{var Ce;me.preventDefault(),(Ce=ge.current)==null||Ce.focus(),Ee(Pe),le&&(te.current=window.setTimeout(()=>Me(Pe),B))},Fe=()=>{te.current&&window.clearTimeout(te.current),te.current=null,he.current=0},Ge=y.jsxs("div",{...G("controls"),children:[y.jsx(ns,{...G("control"),tabIndex:-1,"aria-hidden":!0,disabled:N||typeof Q=="number"&&g!==void 0&&Q>=g,mod:{direction:"up"},onMouseDown:me=>me.preventDefault(),onPointerDown:me=>{ze(me,!0)},onPointerUp:Fe,onPointerLeave:Fe,children:y.jsx(i0,{direction:"up"})}),y.jsx(ns,{...G("control"),tabIndex:-1,"aria-hidden":!0,disabled:N||typeof Q=="number"&&w!==void 0&&Q<=w,mod:{direction:"down"},onMouseDown:me=>me.preventDefault(),onPointerDown:me=>{ze(me,!1)},onPointerUp:Fe,onPointerLeave:Fe,children:y.jsx(i0,{direction:"down"})})]});return y.jsx(on,{component:$L,allowNegative:O,className:qt(Wm.root,n),size:W,...U,readOnly:V,disabled:N,value:Q,getInputRef:Ut(t,ge),onValueChange:_e,rightSection:E||V||!tm(Q)?R:R||Ge,classNames:ne,styles:ue,unstyled:c,__staticSelector:"NumberInput",decimalScale:h?S:0,onKeyDown:dt,onKeyDownCapture:fe,rightSectionPointerEvents:A??(N?"none":void 0),rightSectionWidth:X??`var(--ni-right-section-width-${W||"sm"})`,allowLeadingZeros:$,onBlur:we,isAllowed:me=>x==="strict"?T?T(me)&&a0(me.floatValue,w,g):a0(me.floatValue,w,g):T?T(me):!0})});wf.classes={...on.classes,...Wm};wf.displayName="@mantine/core/NumberInput";const WL=({reveal:e})=>y.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:y.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var Gm={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const qL={visibilityToggleIcon:WL},GL=(e,{size:t})=>({root:{"--psi-icon-size":Xe(t,"psi-icon-size"),"--psi-button-size":Xe(t,"psi-button-size")}}),Sf=ye((e,t)=>{const r=ie("PasswordInput",qL,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,required:f,error:m,leftSection:v,disabled:g,id:w,variant:b,inputContainer:E,description:R,label:T,size:x,errorProps:p,descriptionProps:h,labelProps:S,withAsterisk:C,inputWrapperOrder:D,wrapperProps:j,radius:L,rightSection:N,rightSectionWidth:A,rightSectionPointerEvents:O,leftSectionWidth:V,visible:W,defaultVisible:X,onVisibilityChange:M,visibilityToggleIcon:B,visibilityToggleButtonProps:$,rightSectionProps:F,leftSectionProps:H,leftSectionPointerEvents:U,withErrorStyles:G,mod:ne,...ue}=r,Q=Ts(w),[se,le]=Tr({value:W,defaultValue:X,finalValue:!1,onChange:M}),ge=()=>le(!se),te=Ae({name:"PasswordInput",classes:Gm,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:GL}),{resolvedClassNames:he,resolvedStyles:_e}=Xo({classNames:n,styles:c,props:r}),{styleProps:He,rest:qe}=Nc(ue),Qe=B,ot=y.jsx(ut,{...te("visibilityToggle"),disabled:g,radius:L,"aria-hidden":!$,tabIndex:-1,...$,variant:($==null?void 0:$.variant)??"subtle",color:"gray",unstyled:l,onTouchEnd:dt=>{var fe;dt.preventDefault(),(fe=$==null?void 0:$.onTouchEnd)==null||fe.call($,dt),ge()},onMouseDown:dt=>{var fe;dt.preventDefault(),(fe=$==null?void 0:$.onMouseDown)==null||fe.call($,dt),ge()},onKeyDown:dt=>{var fe;(fe=$==null?void 0:$.onKeyDown)==null||fe.call($,dt),dt.key===" "&&(dt.preventDefault(),ge())},children:y.jsx(Qe,{reveal:se})});return y.jsx(Tt.Wrapper,{required:f,id:Q,label:T,error:m,description:R,size:x,classNames:he,styles:_e,__staticSelector:"PasswordInput",errorProps:p,descriptionProps:h,unstyled:l,withAsterisk:C,inputWrapperOrder:D,inputContainer:E,variant:b,labelProps:{...S,htmlFor:Q},mod:ne,...te("root"),...He,...j,children:y.jsx(Tt,{component:"div",error:m,leftSection:v,size:x,classNames:{...he,input:qt(Gm.input,he.input)},styles:_e,radius:L,disabled:g,__staticSelector:"PasswordInput",rightSectionWidth:A,rightSection:N??ot,variant:b,unstyled:l,leftSectionWidth:V,rightSectionPointerEvents:O||"all",rightSectionProps:F,leftSectionProps:H,leftSectionPointerEvents:U,withAria:!1,withErrorStyles:G,children:y.jsx("input",{required:f,"data-invalid":!!m||void 0,"data-with-left-section":!!v||void 0,...te("innerInput"),disabled:g,id:Q,ref:t,...qe,autoComplete:qe.autoComplete||"off",type:se?"text":"password"})})})});Sf.classes={...on.classes,...Gm};Sf.displayName="@mantine/core/PasswordInput";const KL={duration:100,transition:"fade"};function XL(e,t){return{...KL,...t,...e}}function YL({offset:e,position:t,defaultOpened:r}){const[n,o]=P.useState(r),a=P.useRef(null),{x:c,y:l,elements:d,refs:f,update:m,placement:v}=Vg({placement:t,middleware:[Fg({crossAxis:!0,padding:5,rootBoundary:"document"})]}),g=v.includes("right")?e:t.includes("left")?e*-1:0,w=v.includes("bottom")?e:t.includes("top")?e*-1:0,b=P.useCallback(({clientX:E,clientY:R})=>{f.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:E,y:R,left:E+g,top:R+w,right:E,bottom:R}}})},[d.reference]);return P.useEffect(()=>{if(f.floating.current){const E=a.current;E.addEventListener("mousemove",b);const R=ys(f.floating.current);return R.forEach(T=>{T.addEventListener("scroll",m)}),()=>{E.removeEventListener("mousemove",b),R.forEach(T=>{T.removeEventListener("scroll",m)})}}},[d.reference,f.floating.current,m,b,n]),{handleMouseMove:b,x:c,y:l,opened:n,setOpened:o,boundaryRef:a,floating:f.setFloating}}var bf={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const QL={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:Pr("popover")},JL=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:kt(t),"--tooltip-bg":r?gr(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),Lv=ye((e,t)=>{const r=ie("TooltipFloating",QL,e),{children:n,refProp:o,withinPortal:a,style:c,className:l,classNames:d,styles:f,unstyled:m,radius:v,color:g,label:w,offset:b,position:E,multiline:R,zIndex:T,disabled:x,defaultOpened:p,variant:h,vars:S,portalProps:C,...D}=r,j=lr(),L=Ae({name:"TooltipFloating",props:r,classes:bf,className:l,style:c,classNames:d,styles:f,unstyled:m,rootSelector:"tooltip",vars:S,varsResolver:JL}),{handleMouseMove:N,x:A,y:O,opened:V,boundaryRef:W,floating:X,setOpened:M}=YL({offset:b,position:E,defaultOpened:p});if(!co(n))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const B=Ut(W,Od(n),t),$=n.props,F=U=>{var G;(G=$.onMouseEnter)==null||G.call($,U),N(U),M(!0)},H=U=>{var G;(G=$.onMouseLeave)==null||G.call($,U),M(!1)};return y.jsxs(y.Fragment,{children:[y.jsx(Yo,{...C,withinPortal:a,children:y.jsx(oe,{...D,...L("tooltip",{style:{...Dg(c,j),zIndex:T,display:!x&&V?"block":"none",top:(O&&Math.round(O))??"",left:(A&&Math.round(A))??""}}),variant:h,ref:X,mod:{multiline:R},children:w})}),P.cloneElement(n,{...$,[o]:B,onMouseEnter:F,onMouseLeave:H})]})});Lv.classes=bf;Lv.displayName="@mantine/core/TooltipFloating";const gC=P.createContext(!1),ZL=gC.Provider,eO=()=>P.useContext(gC),tO={openDelay:0,closeDelay:0};function Ov(e){const{openDelay:t,closeDelay:r,children:n}=ie("TooltipGroup",tO,e);return y.jsx(ZL,{value:!0,children:y.jsx(wI,{delay:{open:t,close:r},children:n})})}Ov.displayName="@mantine/core/TooltipGroup";Ov.extend=e=>e;function rO(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function nO(e){const t=rO(e.middlewares),r=[V1(e.offset)];return t.shift&&r.push(Fg(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&r.push(typeof t.flip=="boolean"?bd():bd(t.flip)),r.push(H1({element:e.arrowRef,padding:e.arrowOffset})),t.inline?r.push(typeof t.inline=="boolean"?wc():wc(t.inline)):e.inline&&r.push(wc()),r}function sO(e){var C,D,j;const[t,r]=P.useState(e.defaultOpened),o=typeof e.opened=="boolean"?e.opened:t,a=eO(),c=Ts(),l=P.useCallback(L=>{r(L),L&&x(c)},[c]),{x:d,y:f,context:m,refs:v,update:g,placement:w,middlewareData:{arrow:{x:b,y:E}={}}}=Vg({strategy:e.strategy,placement:e.position,open:o,onOpenChange:l,middleware:nO(e)}),{delay:R,currentId:T,setCurrentId:x}=SI(m,{id:c}),{getReferenceProps:p,getFloatingProps:h}=TI([vI(m,{enabled:(C=e.events)==null?void 0:C.hover,delay:a?R:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((D=e.events)!=null&&D.touch)}),EI(m,{enabled:(j=e.events)==null?void 0:j.focus,visibleOnly:!0}),PI(m,{role:"tooltip"}),CI(m,{enabled:typeof e.opened>"u"})]);gx({opened:o,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:v,update:g}}),Er(()=>{var L;(L=e.onPositionChange)==null||L.call(e,w)},[w]);const S=o&&T&&T!==c;return{x:d,y:f,arrowX:b,arrowY:E,reference:v.setReference,floating:v.setFloating,getFloatingProps:h,getReferenceProps:p,isGroupPhase:S,opened:o,placement:w}}const c0={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Pr("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},oO=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:kt(t),"--tooltip-bg":r?gr(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),ts=ye((e,t)=>{const r=ie("Tooltip",c0,e),{children:n,position:o,refProp:a,label:c,openDelay:l,closeDelay:d,onPositionChange:f,opened:m,defaultOpened:v,withinPortal:g,radius:w,color:b,classNames:E,styles:R,unstyled:T,style:x,className:p,withArrow:h,arrowSize:S,arrowOffset:C,arrowRadius:D,arrowPosition:j,offset:L,transitionProps:N,multiline:A,events:O,zIndex:V,disabled:W,positionDependencies:X,onClick:M,onMouseEnter:B,onMouseLeave:$,inline:F,variant:H,keepMounted:U,vars:G,portalProps:ne,mod:ue,floatingStrategy:Q,middlewares:se,...le}=ie("Tooltip",c0,r),{dir:ge}=uo(),te=P.useRef(null),he=sO({position:lx(ge,o),closeDelay:d,openDelay:l,onPositionChange:f,opened:m,defaultOpened:v,events:O,arrowRef:te,arrowOffset:C,offset:typeof L=="number"?L+(h?S/2:0):L,positionDependencies:[...X,n],inline:F,strategy:Q,middlewares:se}),_e=Ae({name:"Tooltip",props:r,classes:bf,className:p,style:x,classNames:E,styles:R,unstyled:T,rootSelector:"tooltip",vars:G,varsResolver:oO});if(!co(n))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const He=Ut(he.reference,Od(n),t),qe=XL(N,{duration:100,transition:"fade"}),Qe=n.props;return y.jsxs(y.Fragment,{children:[y.jsx(Yo,{...ne,withinPortal:g,children:y.jsx(ks,{...qe,keepMounted:U,mounted:!W&&!!he.opened,duration:he.isGroupPhase?10:qe.duration,children:ot=>y.jsxs(oe,{...le,"data-fixed":Q==="fixed"||void 0,variant:H,mod:[{multiline:A},ue],...he.getFloatingProps({ref:he.floating,className:_e("tooltip").className,style:{..._e("tooltip").style,...ot,zIndex:V,top:he.y??0,left:he.x??0}}),children:[c,y.jsx(Kg,{ref:te,arrowX:he.arrowX,arrowY:he.arrowY,visible:h,position:he.placement,arrowSize:S,arrowOffset:C,arrowRadius:D,arrowPosition:j,..._e("arrow")})]})})}),P.cloneElement(n,he.getReferenceProps({onClick:M,onMouseEnter:B,onMouseLeave:$,onMouseMove:r.onMouseMove,onPointerDown:r.onPointerDown,onPointerEnter:r.onPointerEnter,className:qt(p,Qe.className),...Qe,[a]:He}))]})});ts.classes=bf;ts.displayName="@mantine/core/Tooltip";ts.Floating=Lv;ts.Group=Ov;const iO={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},ws=ye((e,t)=>{const r=ie("Select",iO,e),{classNames:n,styles:o,unstyled:a,vars:c,dropdownOpened:l,defaultDropdownOpened:d,onDropdownClose:f,onDropdownOpen:m,onFocus:v,onBlur:g,onClick:w,onChange:b,data:E,value:R,defaultValue:T,selectFirstOptionOnChange:x,onOptionSubmit:p,comboboxProps:h,readOnly:S,disabled:C,filter:D,limit:j,withScrollArea:L,maxDropdownHeight:N,size:A,searchable:O,rightSection:V,checkIconPosition:W,withCheckIcon:X,nothingFoundMessage:M,name:B,form:$,searchValue:F,defaultSearchValue:H,onSearchChange:U,allowDeselect:G,error:ne,rightSectionPointerEvents:ue,id:Q,clearable:se,clearButtonProps:le,hiddenInputProps:ge,renderOption:te,onClear:he,autoComplete:_e,scrollAreaProps:He,__defaultRightSection:qe,__clearSection:Qe,__clearable:ot,chevronColor:dt,...fe}=r,we=P.useMemo(()=>V2(E),[E]),Ee=P.useMemo(()=>jx(we),[we]),Me=Ts(Q),[ze,Fe,Ge]=Tr({value:R,defaultValue:T,finalValue:null,onChange:b}),me=typeof ze=="string"?Ee[ze]:void 0,Pe=WP(me),[Ce,Ne]=Tr({value:F,defaultValue:H,finalValue:me?me.label:"",onChange:U}),Se=Ax({opened:l,defaultOpened:d,onDropdownOpen:()=>{m==null||m(),Se.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{f==null||f(),Se.resetSelectedOption()}}),{resolvedClassNames:Ye,resolvedStyles:at}=Xo({props:r,styles:o,classNames:n});P.useEffect(()=>{x&&Se.selectFirstOption()},[x,ze]),P.useEffect(()=>{R===null&&Ne(""),typeof R=="string"&&me&&((Pe==null?void 0:Pe.value)!==me.value||(Pe==null?void 0:Pe.label)!==me.label)&&Ne(me.label)},[R,me]);const Ze=y.jsx(ht.ClearButton,{...le,onClear:()=>{Fe(null,null),Ne(""),he==null||he()}}),rt=se&&!!ze&&!C&&!S;return y.jsxs(y.Fragment,{children:[y.jsxs(ht,{store:Se,__staticSelector:"Select",classNames:Ye,styles:at,unstyled:a,readOnly:S,onOptionSubmit:De=>{p==null||p(De);const bt=G&&Ee[De].value===ze?null:Ee[De],as=bt?bt.value:null;as!==ze&&Fe(as,bt),!Ge&&Ne(typeof as=="string"&&(bt==null?void 0:bt.label)||""),Se.closeDropdown()},size:A,...h,children:[y.jsx(ht.Target,{targetType:O?"input":"button",autoComplete:_e,children:y.jsx(on,{id:Me,ref:t,__defaultRightSection:y.jsx(ht.Chevron,{size:A,error:ne,unstyled:a,color:dt}),__clearSection:Ze,__clearable:rt,rightSection:V,rightSectionPointerEvents:ue||(rt?"all":"none"),...fe,size:A,__staticSelector:"Select",disabled:C,readOnly:S||!O,value:Ce,onChange:De=>{Ne(De.currentTarget.value),Se.openDropdown(),x&&Se.selectFirstOption()},onFocus:De=>{O&&Se.openDropdown(),v==null||v(De)},onBlur:De=>{var bt;O&&Se.closeDropdown(),Ne(ze!=null&&((bt=Ee[ze])==null?void 0:bt.label)||""),g==null||g(De)},onClick:De=>{O?Se.openDropdown():Se.toggleDropdown(),w==null||w(De)},classNames:Ye,styles:at,unstyled:a,pointer:!O,error:ne})}),y.jsx(mM,{data:we,hidden:S||C,filter:D,search:Ce,limit:j,hiddenWhenEmpty:!M,withScrollArea:L,maxDropdownHeight:N,filterOptions:O&&(me==null?void 0:me.label)!==Ce,value:ze,checkIconPosition:W,withCheckIcon:X,nothingFoundMessage:M,unstyled:a,labelId:fe.label?`${Me}-label`:void 0,"aria-label":fe.label?void 0:fe["aria-label"],renderOption:te,scrollAreaProps:He})]}),y.jsx(ht.HiddenInput,{value:ze,name:B,form:$,disabled:C,...ge})]})});ws.classes={...on.classes,...ht.classes};ws.displayName="@mantine/core/Select";function aO({spacing:e,verticalSpacing:t,cols:r,selector:n}){var m;const o=lr(),a=t===void 0?e:t,c=Zi({"--sg-spacing-x":ar(zi(e)),"--sg-spacing-y":ar(zi(a)),"--sg-cols":(m=zi(r))==null?void 0:m.toString()}),l=Cr(o.breakpoints).reduce((v,g)=>(v[g]||(v[g]={}),typeof e=="object"&&e[g]!==void 0&&(v[g]["--sg-spacing-x"]=ar(e[g])),typeof a=="object"&&a[g]!==void 0&&(v[g]["--sg-spacing-y"]=ar(a[g])),typeof r=="object"&&r[g]!==void 0&&(v[g]["--sg-cols"]=r[g]),v),{}),f=RP(Cr(l),o.breakpoints).filter(v=>Cr(l[v.value]).length>0).map(v=>({query:`(min-width: ${o.breakpoints[v.value]})`,styles:l[v.value]}));return y.jsx($d,{styles:c,media:f,selector:n})}function rm(e){return typeof e=="object"&&e!==null?Cr(e):[]}function cO(e){return e.sort((t,r)=>Cc(t)-Cc(r))}function lO({spacing:e,verticalSpacing:t,cols:r}){const n=Array.from(new Set([...rm(e),...rm(t),...rm(r)]));return cO(n)}function uO({spacing:e,verticalSpacing:t,cols:r,selector:n}){var f;const o=t===void 0?e:t,a=Zi({"--sg-spacing-x":ar(zi(e)),"--sg-spacing-y":ar(zi(o)),"--sg-cols":(f=zi(r))==null?void 0:f.toString()}),c=lO({spacing:e,verticalSpacing:t,cols:r}),l=c.reduce((m,v)=>(m[v]||(m[v]={}),typeof e=="object"&&e[v]!==void 0&&(m[v]["--sg-spacing-x"]=ar(e[v])),typeof o=="object"&&o[v]!==void 0&&(m[v]["--sg-spacing-y"]=ar(o[v])),typeof r=="object"&&r[v]!==void 0&&(m[v]["--sg-cols"]=r[v]),m),{}),d=c.map(m=>({query:`simple-grid (min-width: ${m})`,styles:l[m]}));return y.jsx($d,{styles:a,container:d,selector:n})}var vC={container:"m_925c2d2c",root:"m_2415a157"};const dO={cols:1,spacing:"md",type:"media"},Av=ye((e,t)=>{const r=ie("SimpleGrid",dO,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,cols:f,verticalSpacing:m,spacing:v,type:g,...w}=r,b=Ae({name:"SimpleGrid",classes:vC,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d}),E=Pg();return g==="container"?y.jsxs(y.Fragment,{children:[y.jsx(uO,{...r,selector:`.${E}`}),y.jsx("div",{...b("container"),children:y.jsx(oe,{ref:t,...b("root",{className:E}),...w})})]}):y.jsxs(y.Fragment,{children:[y.jsx(aO,{...r,selector:`.${E}`}),y.jsx(oe,{ref:t,...b("root",{className:E}),...w})]})});Av.classes=vC;Av.displayName="@mantine/core/SimpleGrid";var yC={root:"m_18320242","skeleton-fade":"m_299c329c"};const fO={visible:!0,animate:!0},pO=(e,{width:t,height:r,radius:n,circle:o})=>({root:{"--skeleton-height":re(r),"--skeleton-width":re(o?r:t),"--skeleton-radius":o?"1000px":n===void 0?void 0:kt(n)}}),zo=ye((e,t)=>{const r=ie("Skeleton",fO,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,width:f,height:m,circle:v,visible:g,radius:w,animate:b,mod:E,...R}=r,T=Ae({name:"Skeleton",classes:yC,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:pO});return y.jsx(oe,{ref:t,...T("root"),mod:[{visible:g,animate:b},E],...R})});zo.classes=yC;zo.displayName="@mantine/core/Skeleton";const[hO,_f]=Bn("SliderProvider was not found in tree"),wC=P.forwardRef(({size:e,disabled:t,variant:r,color:n,thumbSize:o,radius:a,...c},l)=>{const{getStyles:d}=_f();return y.jsx(oe,{tabIndex:-1,variant:r,size:e,ref:l,...d("root"),...c})});wC.displayName="@mantine/core/SliderRoot";const SC=P.forwardRef(({max:e,min:t,value:r,position:n,label:o,dragging:a,onMouseDown:c,onKeyDownCapture:l,labelTransitionProps:d,labelAlwaysOn:f,thumbLabel:m,onFocus:v,onBlur:g,showLabelOnHover:w,isHovered:b,children:E=null,disabled:R},T)=>{const{getStyles:x}=_f(),[p,h]=P.useState(!1),S=f||a||p||w&&b;return y.jsxs(oe,{tabIndex:0,role:"slider","aria-label":m,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":r,ref:T,__vars:{"--slider-thumb-offset":`${n}%`},...x("thumb",{focusable:!0}),mod:{dragging:a,disabled:R},onFocus:C=>{h(!0),typeof v=="function"&&v(C)},onBlur:C=>{h(!1),typeof g=="function"&&g(C)},onTouchStart:c,onMouseDown:c,onKeyDownCapture:l,onClick:C=>C.stopPropagation(),children:[E,y.jsx(ks,{mounted:o!=null&&!!S,transition:"fade",duration:0,...d,children:C=>y.jsx("div",{...x("label",{style:C}),children:o})})]})});SC.displayName="@mantine/core/SliderThumb";function bC({value:e,min:t,max:r}){const n=(e-t)/(r-t)*100;return Math.min(Math.max(n,0),100)}function mO({mark:e,offset:t,value:r,inverted:n=!1}){return n?typeof t=="number"&&e.value<=t||e.value>=r:typeof t=="number"?e.value>=t&&e.value<=r:e.value<=r}function _C({marks:e,min:t,max:r,disabled:n,value:o,offset:a,inverted:c}){const{getStyles:l}=_f();if(!e)return null;const d=e.map((f,m)=>P.createElement(oe,{...l("markWrapper"),__vars:{"--mark-offset":`${bC({value:f.value,min:t,max:r})}%`},key:m},y.jsx(oe,{...l("mark"),mod:{filled:mO({mark:f,value:o,offset:a,inverted:c}),disabled:n}}),f.label&&y.jsx("div",{...l("markLabel"),children:f.label})));return y.jsx("div",{children:d})}_C.displayName="@mantine/core/SliderMarks";function xC({filled:e,children:t,offset:r,disabled:n,marksOffset:o,inverted:a,containerProps:c,...l}){const{getStyles:d}=_f();return y.jsx(oe,{...d("trackContainer"),mod:{disabled:n},...c,children:y.jsxs(oe,{...d("track"),mod:{inverted:a,disabled:n},children:[y.jsx(oe,{mod:{inverted:a,disabled:n},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${r}% - var(--slider-size))`},...d("bar")}),t,y.jsx(_C,{...l,offset:o,disabled:n,inverted:a})]})})}xC.displayName="@mantine/core/SliderTrack";function gO({value:e,containerWidth:t,min:r,max:n,step:o,precision:a}){const l=(t?Math.min(Math.max(e,0),t)/t:e)*(n-r),d=(l!==0?Math.round(l/o)*o:0)+r,f=Math.max(d,r);return a!==void 0?Number(f.toFixed(a)):f}function iu(e,t){return parseFloat(e.toFixed(t))}function vO(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function nm(e,t){const n=[...t].sort((o,a)=>o.value-a.value).find(o=>o.value>e);return n?n.value:e}function sm(e,t){const n=[...t].sort((o,a)=>a.value-o.value).find(o=>o.value<e);return n?n.value:e}function l0(e){const t=[...e].sort((r,n)=>r.value-n.value);return t.length>0?t[0].value:0}function u0(e){const t=[...e].sort((r,n)=>r.value-n.value);return t.length>0?t[t.length-1].value:100}var CC={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const yO={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},wO=(e,{size:t,color:r,thumbSize:n,radius:o})=>({root:{"--slider-size":Xe(t,"slider-size"),"--slider-color":r?gr(r,e):void 0,"--slider-radius":o===void 0?void 0:kt(o),"--slider-thumb-size":n!==void 0?re(n):"calc(var(--slider-size) * 2)"}}),$v=ye((e,t)=>{const r=ie("Slider",yO,e),{classNames:n,styles:o,value:a,onChange:c,onChangeEnd:l,size:d,min:f,max:m,step:v,precision:g,defaultValue:w,name:b,marks:E,label:R,labelTransitionProps:T,labelAlwaysOn:x,thumbLabel:p,showLabelOnHover:h,thumbChildren:S,disabled:C,unstyled:D,scale:j,inverted:L,className:N,style:A,vars:O,hiddenInputProps:V,restrictToMarks:W,thumbProps:X,...M}=r,B=Ae({name:"Slider",props:r,classes:CC,classNames:n,className:N,styles:o,style:A,vars:O,varsResolver:wO,unstyled:D}),{dir:$}=uo(),[F,H]=P.useState(!1),[U,G]=Tr({value:typeof a=="number"?Nn(a,f,m):a,defaultValue:typeof w=="number"?Nn(w,f,m):w,finalValue:Nn(0,f,m),onChange:c}),ne=P.useRef(U),ue=P.useRef(null),Q=P.useRef(null),se=bC({value:U,min:f,max:m}),le=j(U),ge=typeof R=="function"?R(le):R,te=g??vO(v),he=P.useCallback(({x:Qe})=>{if(!C){const ot=gO({value:Qe,min:f,max:m,step:v,precision:te});G(W&&(E!=null&&E.length)?ub(ot,E.map(dt=>dt.value)):ot),ne.current=ot}},[C,f,m,v,te,G,E,W]),{ref:_e,active:He}=_g(he,{onScrubEnd:()=>!C&&(l==null?void 0:l(W&&(E!=null&&E.length)?ub(ne.current,E.map(Qe=>Qe.value)):ne.current))},$),qe=Qe=>{var ot,dt,fe,we,Ee,Me;if(!C)switch(Qe.key){case"ArrowUp":{if(Qe.preventDefault(),(ot=Q.current)==null||ot.focus(),W&&E){const Fe=nm(U,E);G(Fe),l==null||l(Fe);break}const ze=iu(Math.min(Math.max(U+v,f),m),te);G(ze),l==null||l(ze);break}case"ArrowRight":{if(Qe.preventDefault(),(dt=Q.current)==null||dt.focus(),W&&E){const Fe=$==="rtl"?sm(U,E):nm(U,E);G(Fe),l==null||l(Fe);break}const ze=iu(Math.min(Math.max($==="rtl"?U-v:U+v,f),m),te);G(ze),l==null||l(ze);break}case"ArrowDown":{if(Qe.preventDefault(),(fe=Q.current)==null||fe.focus(),W&&E){const Fe=sm(U,E);G(Fe),l==null||l(Fe);break}const ze=iu(Math.min(Math.max(U-v,f),m),te);G(ze),l==null||l(ze);break}case"ArrowLeft":{if(Qe.preventDefault(),(we=Q.current)==null||we.focus(),W&&E){const Fe=$==="rtl"?nm(U,E):sm(U,E);G(Fe),l==null||l(Fe);break}const ze=iu(Math.min(Math.max($==="rtl"?U+v:U-v,f),m),te);G(ze),l==null||l(ze);break}case"Home":{if(Qe.preventDefault(),(Ee=Q.current)==null||Ee.focus(),W&&E){G(l0(E)),l==null||l(l0(E));break}G(f),l==null||l(f);break}case"End":{if(Qe.preventDefault(),(Me=Q.current)==null||Me.focus(),W&&E){G(u0(E)),l==null||l(u0(E));break}G(m),l==null||l(m);break}}};return y.jsx(hO,{value:{getStyles:B},children:y.jsxs(wC,{...M,ref:Ut(t,ue),onKeyDownCapture:qe,onMouseDownCapture:()=>{var Qe;return(Qe=ue.current)==null?void 0:Qe.focus()},size:d,disabled:C,children:[y.jsx(xC,{inverted:L,offset:0,filled:se,marks:E,min:f,max:m,value:le,disabled:C,containerProps:{ref:_e,onMouseEnter:h?()=>H(!0):void 0,onMouseLeave:h?()=>H(!1):void 0},children:y.jsx(SC,{max:m,min:f,value:le,position:se,dragging:He,label:ge,ref:Q,labelTransitionProps:T,labelAlwaysOn:x,thumbLabel:p,showLabelOnHover:h,isHovered:F,disabled:C,...X,children:S})}),y.jsx("input",{type:"hidden",name:b,value:le,...V})]})})});$v.classes=CC;$v.displayName="@mantine/core/Slider";var RC={root:"m_6d731127"};const SO={gap:"md",align:"stretch",justify:"flex-start"},bO=(e,{gap:t,align:r,justify:n})=>({root:{"--stack-gap":ar(t),"--stack-align":r,"--stack-justify":n}}),Re=ye((e,t)=>{const r=ie("Stack",SO,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,align:f,justify:m,gap:v,variant:g,...w}=r,b=Ae({name:"Stack",props:r,classes:RC,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:bO});return y.jsx(oe,{ref:t,...b("root"),variant:g,...w})});Re.classes=RC;Re.displayName="@mantine/core/Stack";const EC=P.createContext(null),_O=EC.Provider,xO=()=>P.useContext(EC),CO={},Fv=ye((e,t)=>{const{value:r,defaultValue:n,onChange:o,size:a,wrapperProps:c,children:l,readOnly:d,...f}=ie("SwitchGroup",CO,e),[m,v]=Tr({value:r,defaultValue:n,finalValue:[],onChange:o}),g=w=>{const b=w.currentTarget.value;!d&&v(m.includes(b)?m.filter(E=>E!==b):[...m,b])};return y.jsx(_O,{value:{value:m,onChange:g,size:a},children:y.jsx(Tt.Wrapper,{size:a,ref:t,...c,...f,labelElement:"div",__staticSelector:"SwitchGroup",children:y.jsx(dM,{role:"group",children:l})})})});Fv.classes=Tt.Wrapper.classes;Fv.displayName="@mantine/core/SwitchGroup";var TC={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const RO={labelPosition:"right"},EO=(e,{radius:t,color:r,size:n})=>({root:{"--switch-radius":t===void 0?void 0:kt(t),"--switch-height":Xe(n,"switch-height"),"--switch-width":Xe(n,"switch-width"),"--switch-thumb-size":Xe(n,"switch-thumb-size"),"--switch-label-font-size":Xe(n,"switch-label-font-size"),"--switch-track-label-padding":Xe(n,"switch-track-label-padding"),"--switch-color":r?gr(r,e):void 0}}),Bo=ye((e,t)=>{const r=ie("Switch",RO,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,color:f,label:m,offLabel:v,onLabel:g,id:w,size:b,radius:E,wrapperProps:R,thumbIcon:T,checked:x,defaultChecked:p,onChange:h,labelPosition:S,description:C,error:D,disabled:j,variant:L,rootRef:N,mod:A,...O}=r,V=xO(),W=b||(V==null?void 0:V.size),X=Ae({name:"Switch",props:r,classes:TC,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:EO}),{styleProps:M,rest:B}=Nc(O),$=Ts(w),F=V?{checked:V.value.includes(B.value),onChange:V.onChange}:{},[H,U]=Tr({value:F.checked??x,defaultValue:p,finalValue:!1});return y.jsxs(Fx,{...X("root"),__staticSelector:"Switch",__stylesApiProps:r,id:$,size:W,labelPosition:S,label:m,description:C,error:D,disabled:j,bodyElement:"label",labelElement:"span",classNames:n,styles:c,unstyled:l,"data-checked":F.checked||x||void 0,variant:L,ref:N,mod:A,...M,...R,children:[y.jsx("input",{...B,disabled:j,checked:H,"data-checked":F.checked||x||void 0,onChange:G=>{var ne;V?(ne=F.onChange)==null||ne.call(F,G):h==null||h(G),U(G.currentTarget.checked)},id:$,ref:t,type:"checkbox",role:"switch",...X("input")}),y.jsxs(oe,{"aria-hidden":"true",mod:{error:D,"label-position":S,"without-labels":!g&&!v},...X("track"),children:[y.jsx(oe,{component:"span",mod:"reduce-motion",...X("thumb"),children:T}),y.jsx("span",{...X("trackLabel"),children:H?g:v})]})]})});Bo.classes={...TC,...uM};Bo.displayName="@mantine/core/Switch";Bo.Group=Fv;const[TO,zv]=Bn("Tabs component was not found in the tree");var zc={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const kO={},Bv=ye((e,t)=>{const r=ie("TabsList",kO,e),{children:n,className:o,grow:a,justify:c,classNames:l,styles:d,style:f,mod:m,...v}=r,g=zv();return y.jsx(oe,{...v,...g.getStyles("list",{className:o,style:f,classNames:l,styles:d,props:r,variant:g.variant}),ref:t,role:"tablist",variant:g.variant,mod:[{grow:a,orientation:g.orientation,placement:g.orientation==="vertical"&&g.placement,inverted:g.inverted},m],"aria-orientation":g.orientation,__vars:{"--tabs-justify":c},children:n})});Bv.classes=zc;Bv.displayName="@mantine/core/TabsList";const PO={},Uv=ye((e,t)=>{const r=ie("TabsPanel",PO,e),{children:n,className:o,value:a,classNames:c,styles:l,style:d,mod:f,keepMounted:m,...v}=r,g=zv(),w=g.value===a,b=g.keepMounted||m||w?n:null;return y.jsx(oe,{...v,...g.getStyles("panel",{className:o,classNames:c,styles:l,style:[d,w?void 0:{display:"none"}],props:r}),ref:t,mod:[{orientation:g.orientation},f],role:"tabpanel",id:g.getPanelId(a),"aria-labelledby":g.getTabId(a),children:b})});Uv.classes=zc;Uv.displayName="@mantine/core/TabsPanel";const DO={},Vv=ye((e,t)=>{const r=ie("TabsTab",DO,e),{className:n,children:o,rightSection:a,leftSection:c,value:l,onClick:d,onKeyDown:f,disabled:m,color:v,style:g,classNames:w,styles:b,vars:E,mod:R,tabIndex:T,...x}=r,p=lr(),{dir:h}=uo(),S=zv(),C=l===S.value,D=L=>{S.onChange(S.allowTabDeactivation&&l===S.value?null:l),d==null||d(L)},j={classNames:w,styles:b,props:r};return y.jsxs(ns,{...x,...S.getStyles("tab",{className:n,style:g,variant:S.variant,...j}),disabled:m,unstyled:S.unstyled,variant:S.variant,mod:[{active:C,disabled:m,orientation:S.orientation,inverted:S.inverted,placement:S.orientation==="vertical"&&S.placement},R],ref:t,role:"tab",id:S.getTabId(l),"aria-selected":C,tabIndex:T!==void 0?T:C||S.value===null?0:-1,"aria-controls":S.getPanelId(l),onClick:D,__vars:{"--tabs-color":v?gr(v,p):void 0},onKeyDown:u1({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:S.activateTabWithKeyboard,loop:S.loop,orientation:S.orientation||"horizontal",dir:h,onKeyDown:f}),children:[c&&y.jsx("span",{...S.getStyles("tabSection",j),"data-position":"left",children:c}),o&&y.jsx("span",{...S.getStyles("tabLabel",j),children:o}),a&&y.jsx("span",{...S.getStyles("tabSection",j),"data-position":"right",children:a})]})});Vv.classes=zc;Vv.displayName="@mantine/core/TabsTab";const d0="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",jO={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},IO=(e,{radius:t,color:r,autoContrast:n})=>({root:{"--tabs-radius":kt(t),"--tabs-color":gr(r,e),"--tabs-text-color":R1(n,e)?Tg({color:r,theme:e,autoContrast:n}):void 0}}),Bt=ye((e,t)=>{const r=ie("Tabs",jO,e),{defaultValue:n,value:o,onChange:a,orientation:c,children:l,loop:d,id:f,activateTabWithKeyboard:m,allowTabDeactivation:v,variant:g,color:w,radius:b,inverted:E,placement:R,keepMounted:T,classNames:x,styles:p,unstyled:h,className:S,style:C,vars:D,autoContrast:j,mod:L,...N}=r,A=Ts(f),[O,V]=Tr({value:o,defaultValue:n,finalValue:null,onChange:a}),W=Ae({name:"Tabs",props:r,classes:zc,className:S,style:C,classNames:x,styles:p,unstyled:h,vars:D,varsResolver:IO});return y.jsx(TO,{value:{placement:R,value:O,orientation:c,id:A,loop:d,activateTabWithKeyboard:m,getTabId:cb(`${A}-tab`,d0),getPanelId:cb(`${A}-panel`,d0),onChange:V,allowTabDeactivation:v,variant:g,color:w,radius:b,inverted:E,keepMounted:T,unstyled:h,getStyles:W},children:y.jsx(oe,{ref:t,id:A,variant:g,mod:[{orientation:c,inverted:c==="horizontal"&&E,placement:c==="vertical"&&R},L],...W("root"),...N,children:l})})});Bt.classes=zc;Bt.displayName="@mantine/core/Tabs";Bt.Tab=Vv;Bt.Panel=Uv;Bt.List=Bv;const MO={},Lt=ye((e,t)=>{const r=ie("TextInput",MO,e);return y.jsx(on,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});Lt.classes=on.classes;Lt.displayName="@mantine/core/TextInput";const NO=["h1","h2","h3","h4","h5","h6"],LO=["xs","sm","md","lg","xl"];function OO(e,t){const r=t!==void 0?t:`h${e}`;return NO.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:LO.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:re(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var kC={root:"m_8a5d1357"};const AO={order:1},$O=(e,{order:t,size:r,lineClamp:n,textWrap:o})=>{const a=OO(t,r);return{root:{"--title-fw":a.fontWeight,"--title-lh":a.lineHeight,"--title-fz":a.fontSize,"--title-line-clamp":typeof n=="number"?n.toString():void 0,"--title-text-wrap":o}}},Br=ye((e,t)=>{const r=ie("Title",AO,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,order:d,vars:f,size:m,variant:v,lineClamp:g,textWrap:w,mod:b,...E}=r,R=Ae({name:"Title",props:r,classes:kC,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:f,varsResolver:$O});return[1,2,3,4,5,6].includes(d)?y.jsx(oe,{...R("root"),component:`h${d}`,variant:v,ref:t,mod:[{order:d,"data-line-clamp":typeof g=="number"},b],size:m,...E}):null});Br.classes=kC;Br.displayName="@mantine/core/Title";function FO(e){let t=e,r=!1;const n=new Set;return{getState(){return t},updateState(o){t=typeof o=="function"?o(t):o},setState(o){this.updateState(o),n.forEach(a=>a(t))},initialize(o){r||(t=o,r=!0)},subscribe(o){return n.add(o),()=>n.delete(o)}}}function zO(e){return P.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function BO(e,t,r){const n=[],o=[],a={};for(const c of e){const l=c.position||t;a[l]=a[l]||0,a[l]+=1,a[l]<=r?o.push(c):n.push(c)}return{notifications:o,queue:n}}const UO=()=>FO({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Qo=UO(),VO=(e=Qo)=>zO(e);function da(e,t){const r=e.getState(),n=t([...r.notifications,...r.queue]),o=BO(n,r.defaultPosition,r.limit);e.setState({notifications:o.notifications,queue:o.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function HO(e,t=Qo){const r=e.id||d1();return da(t,n=>e.id&&n.some(o=>o.id===e.id)?n:[...n,{...e,id:r}]),r}function PC(e,t=Qo){return da(t,r=>r.filter(n=>{var o;return n.id===e?((o=n.onClose)==null||o.call(n,n),!1):!0})),e}function WO(e,t=Qo){return da(t,r=>r.map(n=>n.id===e.id?{...n,...e}:n)),e.id}function qO(e=Qo){da(e,()=>[])}function GO(e=Qo){da(e,t=>t.slice(0,e.getState().limit))}const Ss={show:HO,hide:PC,update:WO,clean:qO,cleanQueue:GO,updateState:da};function Km(e,t){return Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Km(e,t)}function DC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Km(e,t)}const f0={disabled:!1},Cd=St.createContext(null);var KO=function(t){return t.scrollTop},hc="unmounted",jo="exited",Io="entering",Ai="entered",Xm="exiting",Ms=function(e){DC(t,e);function t(n,o){var a;a=e.call(this,n,o)||this;var c=o,l=c&&!c.isMounting?n.enter:n.appear,d;return a.appearStatus=null,n.in?l?(d=jo,a.appearStatus=Io):d=Ai:n.unmountOnExit||n.mountOnEnter?d=hc:d=jo,a.state={status:d},a.nextCallback=null,a}t.getDerivedStateFromProps=function(o,a){var c=o.in;return c&&a.status===hc?{status:jo}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(o){var a=null;if(o!==this.props){var c=this.state.status;this.props.in?c!==Io&&c!==Ai&&(a=Io):(c===Io||c===Ai)&&(a=Xm)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var o=this.props.timeout,a,c,l;return a=c=l=o,o!=null&&typeof o!="number"&&(a=o.exit,c=o.enter,l=o.appear!==void 0?o.appear:c),{exit:a,enter:c,appear:l}},r.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===Io){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:fc.findDOMNode(this);c&&KO(c)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===jo&&this.setState({status:hc})},r.performEnter=function(o){var a=this,c=this.props.enter,l=this.context?this.context.isMounting:o,d=this.props.nodeRef?[l]:[fc.findDOMNode(this),l],f=d[0],m=d[1],v=this.getTimeouts(),g=l?v.appear:v.enter;if(!o&&!c||f0.disabled){this.safeSetState({status:Ai},function(){a.props.onEntered(f)});return}this.props.onEnter(f,m),this.safeSetState({status:Io},function(){a.props.onEntering(f,m),a.onTransitionEnd(g,function(){a.safeSetState({status:Ai},function(){a.props.onEntered(f,m)})})})},r.performExit=function(){var o=this,a=this.props.exit,c=this.getTimeouts(),l=this.props.nodeRef?void 0:fc.findDOMNode(this);if(!a||f0.disabled){this.safeSetState({status:jo},function(){o.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Xm},function(){o.props.onExiting(l),o.onTransitionEnd(c.exit,function(){o.safeSetState({status:jo},function(){o.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},r.setNextCallback=function(o){var a=this,c=!0;return this.nextCallback=function(l){c&&(c=!1,a.nextCallback=null,o(l))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},r.onTransitionEnd=function(o,a){this.setNextCallback(a);var c=this.props.nodeRef?this.props.nodeRef.current:fc.findDOMNode(this),l=o==null&&!this.props.addEndListener;if(!c||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],f=d[0],m=d[1];this.props.addEndListener(f,m)}o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var o=this.state.status;if(o===hc)return null;var a=this.props,c=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=Tv(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return St.createElement(Cd.Provider,{value:null},typeof c=="function"?c(o,l):St.cloneElement(St.Children.only(c),l))},t}(St.Component);Ms.contextType=Cd;Ms.propTypes={};function Ni(){}Ms.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ni,onEntering:Ni,onEntered:Ni,onExit:Ni,onExiting:Ni,onExited:Ni};Ms.UNMOUNTED=hc;Ms.EXITED=jo;Ms.ENTERING=Io;Ms.ENTERED=Ai;Ms.EXITING=Xm;function XO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hv(e,t){var r=function(a){return t&&P.isValidElement(a)?t(a):a},n=Object.create(null);return e&&P.Children.map(e,function(o){return o}).forEach(function(o){n[o.key]=r(o)}),n}function YO(e,t){e=e||{},t=t||{};function r(m){return m in t?t[m]:e[m]}var n=Object.create(null),o=[];for(var a in e)a in t?o.length&&(n[a]=o,o=[]):o.push(a);var c,l={};for(var d in t){if(n[d])for(c=0;c<n[d].length;c++){var f=n[d][c];l[n[d][c]]=r(f)}l[d]=r(d)}for(c=0;c<o.length;c++)l[o[c]]=r(o[c]);return l}function $o(e,t,r){return r[t]!=null?r[t]:e.props[t]}function QO(e,t){return Hv(e.children,function(r){return P.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:$o(r,"appear",e),enter:$o(r,"enter",e),exit:$o(r,"exit",e)})})}function JO(e,t,r){var n=Hv(e.children),o=YO(t,n);return Object.keys(o).forEach(function(a){var c=o[a];if(P.isValidElement(c)){var l=a in t,d=a in n,f=t[a],m=P.isValidElement(f)&&!f.props.in;d&&(!l||m)?o[a]=P.cloneElement(c,{onExited:r.bind(null,c),in:!0,exit:$o(c,"exit",e),enter:$o(c,"enter",e)}):!d&&l&&!m?o[a]=P.cloneElement(c,{in:!1}):d&&l&&P.isValidElement(f)&&(o[a]=P.cloneElement(c,{onExited:r.bind(null,c),in:f.props.in,exit:$o(c,"exit",e),enter:$o(c,"enter",e)}))}}),o}var ZO=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},e3={component:"div",childFactory:function(t){return t}},eo=function(e){DC(t,e);function t(n,o){var a;a=e.call(this,n,o)||this;var c=a.handleExited.bind(XO(a));return a.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},a}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,a){var c=a.children,l=a.handleExited,d=a.firstRender;return{children:d?QO(o,l):JO(o,c,l),firstRender:!1}},r.handleExited=function(o,a){var c=Hv(this.props.children);o.key in c||(o.props.onExited&&o.props.onExited(a),this.mounted&&this.setState(function(l){var d=xd({},l.children);return delete d[o.key],{children:d}}))},r.render=function(){var o=this.props,a=o.component,c=o.childFactory,l=Tv(o,["component","childFactory"]),d=this.state.contextValue,f=ZO(this.state.children).map(c);return delete l.appear,delete l.enter,delete l.exit,a===null?St.createElement(Cd.Provider,{value:d},f):St.createElement(Cd.Provider,{value:d},St.createElement(a,l,f))},t}(St.Component);eo.propTypes={};eo.defaultProps=e3;const jC=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function t3(e,t){return e.reduce((r,n)=>(r[n.position||t].push(n),r),jC.reduce((r,n)=>(r[n]=[],r),{}))}const p0={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},r3={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function n3({state:e,maxHeight:t,position:r,transitionDuration:n}){const[o,a]=r.split("-"),c=a==="center"?`${o}-center`:a,l={opacity:0,maxHeight:t,transform:p0[c],transitionDuration:`${n}ms, ${n}ms, ${n}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},d={opacity:1,transform:r3[c]},f={opacity:0,maxHeight:0,transform:p0[c]};return{...l,...{entering:d,entered:d,exiting:f,exited:f}[e]}}function s3(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const IC=P.forwardRef(({data:e,onHide:t,autoClose:r,...n},o)=>{const{autoClose:a,message:c,...l}=e,d=s3(r,e.autoClose),f=P.useRef(-1),m=()=>window.clearTimeout(f.current),v=()=>{t(e.id),m()},g=()=>{typeof d=="number"&&(f.current=window.setTimeout(v,d))};return P.useEffect(()=>{var w;(w=e.onOpen)==null||w.call(e,e)},[]),P.useEffect(()=>(g(),m),[d]),y.jsx(Mv,{...n,...l,onClose:v,ref:o,onMouseEnter:m,onMouseLeave:g,children:c})});IC.displayName="@mantine/notifications/NotificationContainer";var MC={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const o3=Ms,i3={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Pr("overlay"),store:Qo,withinPortal:!0},a3=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":re(r)}}),Ns=ye((e,t)=>{const r=ie("Notifications",i3,e),{classNames:n,className:o,style:a,styles:c,unstyled:l,vars:d,position:f,autoClose:m,transitionDuration:v,containerWidth:g,notificationMaxHeight:w,limit:b,zIndex:E,store:R,portalProps:T,withinPortal:x,...p}=r,h=lr(),S=VO(R),C=BP(),D=Ld(),j=P.useRef({}),L=P.useRef(0),A=(h.respectReducedMotion?D:!1)?1:v,O=Ae({name:"Notifications",classes:MC,props:r,className:o,style:a,classNames:n,styles:c,unstyled:l,vars:d,varsResolver:a3});P.useEffect(()=>{R==null||R.updateState(X=>({...X,limit:b||5,defaultPosition:f}))},[b,f]),Er(()=>{S.notifications.length>L.current&&setTimeout(()=>C(),0),L.current=S.notifications.length},[S.notifications]);const V=t3(S.notifications,f),W=jC.reduce((X,M)=>(X[M]=V[M].map(({style:B,...$})=>y.jsx(o3,{timeout:A,onEnter:()=>j.current[$.id].offsetHeight,nodeRef:{current:j.current[$.id]},children:F=>y.jsx(IC,{ref:H=>{j.current[$.id]=H},data:$,onHide:H=>PC(H,R),autoClose:m,...O("notification",{style:{...n3({state:F,position:M,transitionDuration:A,maxHeight:w}),...B}})})},$.id)),X),{});return y.jsxs(Yo,{withinPortal:x,...T,children:[y.jsx(oe,{...O("root"),"data-position":"top-center",ref:t,...p,children:y.jsx(eo,{children:W["top-center"]})}),y.jsx(oe,{...O("root"),"data-position":"top-left",...p,children:y.jsx(eo,{children:W["top-left"]})}),y.jsx(oe,{...O("root",{className:hd.classNames.fullWidth}),"data-position":"top-right",...p,children:y.jsx(eo,{children:W["top-right"]})}),y.jsx(oe,{...O("root",{className:hd.classNames.fullWidth}),"data-position":"bottom-right",...p,children:y.jsx(eo,{children:W["bottom-right"]})}),y.jsx(oe,{...O("root"),"data-position":"bottom-left",...p,children:y.jsx(eo,{children:W["bottom-left"]})}),y.jsx(oe,{...O("root"),"data-position":"bottom-center",...p,children:y.jsx(eo,{children:W["bottom-center"]})})]})});Ns.classes=MC;Ns.displayName="@mantine/notifications/Notifications";Ns.show=Ss.show;Ns.hide=Ss.hide;Ns.update=Ss.update;Ns.clean=Ss.clean;Ns.cleanQueue=Ss.cleanQueue;Ns.updateState=Ss.updateState;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dc.apply(this,arguments)}var ro;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ro||(ro={}));const h0="popstate";function c3(e){e===void 0&&(e={});function t(o,a){let{pathname:c="/",search:l="",hash:d=""}=Jo(o.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ym("",{pathname:c,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(o,a){let c=o.document.querySelector("base"),l="";if(c&&c.getAttribute("href")){let d=o.location.href,f=d.indexOf("#");l=f===-1?d:d.slice(0,f)}return l+"#"+(typeof a=="string"?a:Rd(a))}function n(o,a){Wv(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return u3(t,r,n,e)}function Ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l3(){return Math.random().toString(36).substr(2,8)}function m0(e,t){return{usr:e.state,key:e.key,idx:t}}function Ym(e,t,r,n){return r===void 0&&(r=null),Dc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Jo(t):t,{state:r,key:t&&t.key||n||l3()})}function Rd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Jo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function u3(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:a=!1}=n,c=o.history,l=ro.Pop,d=null,f=m();f==null&&(f=0,c.replaceState(Dc({},c.state,{idx:f}),""));function m(){return(c.state||{idx:null}).idx}function v(){l=ro.Pop;let R=m(),T=R==null?null:R-f;f=R,d&&d({action:l,location:E.location,delta:T})}function g(R,T){l=ro.Push;let x=Ym(E.location,R,T);r&&r(x,R),f=m()+1;let p=m0(x,f),h=E.createHref(x);try{c.pushState(p,"",h)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;o.location.assign(h)}a&&d&&d({action:l,location:E.location,delta:1})}function w(R,T){l=ro.Replace;let x=Ym(E.location,R,T);r&&r(x,R),f=m();let p=m0(x,f),h=E.createHref(x);c.replaceState(p,"",h),a&&d&&d({action:l,location:E.location,delta:0})}function b(R){let T=o.location.origin!=="null"?o.location.origin:o.location.href,x=typeof R=="string"?R:Rd(R);return x=x.replace(/ $/,"%20"),Ot(T,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,T)}let E={get action(){return l},get location(){return e(o,c)},listen(R){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(h0,v),d=R,()=>{o.removeEventListener(h0,v),d=null}},createHref(R){return t(o,R)},createURL:b,encodeLocation(R){let T=b(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:w,go(R){return c.go(R)}};return E}var g0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(g0||(g0={}));function d3(e,t,r){return r===void 0&&(r="/"),f3(e,t,r)}function f3(e,t,r,n){let o=typeof t=="string"?Jo(t):t,a=qv(o.pathname||"/",r);if(a==null)return null;let c=NC(e);p3(c);let l=null;for(let d=0;l==null&&d<c.length;++d){let f=R3(a);l=_3(c[d],f)}return l}function NC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(a,c,l)=>{let d={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};d.relativePath.startsWith("/")&&(Ot(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let f=no([n,d.relativePath]),m=r.concat(d);a.children&&a.children.length>0&&(Ot(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),NC(a.children,t,m,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:S3(f,a.index),routesMeta:m})};return e.forEach((a,c)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))o(a,c);else for(let d of LC(a.path))o(a,c,d)}),t}function LC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return o?[a,""]:[a];let c=LC(n.join("/")),l=[];return l.push(...c.map(d=>d===""?a:[a,d].join("/"))),o&&l.push(...c),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function p3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:b3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const h3=/^:[\w-]+$/,m3=3,g3=2,v3=1,y3=10,w3=-2,v0=e=>e==="*";function S3(e,t){let r=e.split("/"),n=r.length;return r.some(v0)&&(n+=w3),t&&(n+=g3),r.filter(o=>!v0(o)).reduce((o,a)=>o+(h3.test(a)?m3:a===""?v3:y3),n)}function b3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function _3(e,t,r){let{routesMeta:n}=e,o={},a="/",c=[];for(let l=0;l<n.length;++l){let d=n[l],f=l===n.length-1,m=a==="/"?t:t.slice(a.length)||"/",v=x3({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),g=d.route;if(!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:no([a,v.pathname]),pathnameBase:P3(no([a,v.pathnameBase])),route:g}),v.pathnameBase!=="/"&&(a=no([a,v.pathnameBase]))}return c}function x3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=C3(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:n.reduce((f,m,v)=>{let{paramName:g,isOptional:w}=m;if(g==="*"){let E=l[v]||"";c=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const b=l[v];return w&&!b?f[g]=void 0:f[g]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:c,pattern:e}}function C3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Wv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function R3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function E3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?Jo(e):e;return{pathname:r?r.startsWith("/")?r:T3(r,t):t,search:D3(n),hash:j3(o)}}function T3(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function om(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function k3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function OC(e,t){let r=k3(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function AC(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=Jo(e):(o=Dc({},e),Ot(!o.pathname||!o.pathname.includes("?"),om("?","pathname","search",o)),Ot(!o.pathname||!o.pathname.includes("#"),om("#","pathname","hash",o)),Ot(!o.search||!o.search.includes("#"),om("#","search","hash",o)));let a=e===""||o.pathname==="",c=a?"/":o.pathname,l;if(c==null)l=r;else{let v=t.length-1;if(!n&&c.startsWith("..")){let g=c.split("/");for(;g[0]==="..";)g.shift(),v-=1;o.pathname=g.join("/")}l=v>=0?t[v]:"/"}let d=E3(o,l),f=c&&c!=="/"&&c.endsWith("/"),m=(a||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}const no=e=>e.join("/").replace(/\/\/+/g,"/"),P3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,j3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function I3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $C=["post","put","patch","delete"];new Set($C);const M3=["get",...$C];new Set(M3);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jc.apply(this,arguments)}const Gv=P.createContext(null),N3=P.createContext(null),Zo=P.createContext(null),xf=P.createContext(null),ei=P.createContext({outlet:null,matches:[],isDataRoute:!1}),FC=P.createContext(null);function L3(e,t){let{relative:r}=t===void 0?{}:t;Bc()||Ot(!1);let{basename:n,navigator:o}=P.useContext(Zo),{hash:a,pathname:c,search:l}=BC(e,{relative:r}),d=c;return n!=="/"&&(d=c==="/"?n:no([n,c])),o.createHref({pathname:d,search:l,hash:a})}function Bc(){return P.useContext(xf)!=null}function Cf(){return Bc()||Ot(!1),P.useContext(xf).location}function zC(e){P.useContext(Zo).static||P.useLayoutEffect(e)}function fo(){let{isDataRoute:e}=P.useContext(ei);return e?K3():O3()}function O3(){Bc()||Ot(!1);let e=P.useContext(Gv),{basename:t,future:r,navigator:n}=P.useContext(Zo),{matches:o}=P.useContext(ei),{pathname:a}=Cf(),c=JSON.stringify(OC(o,r.v7_relativeSplatPath)),l=P.useRef(!1);return zC(()=>{l.current=!0}),P.useCallback(function(f,m){if(m===void 0&&(m={}),!l.current)return;if(typeof f=="number"){n.go(f);return}let v=AC(f,JSON.parse(c),a,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:no([t,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[t,n,c,a,e])}function BC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=P.useContext(Zo),{matches:o}=P.useContext(ei),{pathname:a}=Cf(),c=JSON.stringify(OC(o,n.v7_relativeSplatPath));return P.useMemo(()=>AC(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function A3(e,t){return $3(e,t)}function $3(e,t,r,n){Bc()||Ot(!1);let{navigator:o}=P.useContext(Zo),{matches:a}=P.useContext(ei),c=a[a.length-1],l=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let f=Cf(),m;if(t){var v;let R=typeof t=="string"?Jo(t):t;d==="/"||(v=R.pathname)!=null&&v.startsWith(d)||Ot(!1),m=R}else m=f;let g=m.pathname||"/",w=g;if(d!=="/"){let R=d.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(R.length).join("/")}let b=d3(e,{pathname:w}),E=V3(b&&b.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:no([d,o.encodeLocation?o.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?d:no([d,o.encodeLocation?o.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,r,n);return t&&E?P.createElement(xf.Provider,{value:{location:jc({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ro.Pop}},E):E}function F3(){let e=G3(),t=I3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),r?P.createElement("pre",{style:o},r):null,null)}const z3=P.createElement(F3,null);class B3 extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?P.createElement(ei.Provider,{value:this.props.routeContext},P.createElement(FC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function U3(e){let{routeContext:t,match:r,children:n}=e,o=P.useContext(Gv);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),P.createElement(ei.Provider,{value:t},n)}function V3(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,l=(o=r)==null?void 0:o.errors;if(l!=null){let m=c.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id])!==void 0);m>=0||Ot(!1),c=c.slice(0,Math.min(c.length,m+1))}let d=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<c.length;m++){let v=c[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=m),v.route.id){let{loaderData:g,errors:w}=r,b=v.route.loader&&g[v.route.id]===void 0&&(!w||w[v.route.id]===void 0);if(v.route.lazy||b){d=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((m,v,g)=>{let w,b=!1,E=null,R=null;r&&(w=l&&v.route.id?l[v.route.id]:void 0,E=v.route.errorElement||z3,d&&(f<0&&g===0?(X3("route-fallback"),b=!0,R=null):f===g&&(b=!0,R=v.route.hydrateFallbackElement||null)));let T=t.concat(c.slice(0,g+1)),x=()=>{let p;return w?p=E:b?p=R:v.route.Component?p=P.createElement(v.route.Component,null):v.route.element?p=v.route.element:p=m,P.createElement(U3,{match:v,routeContext:{outlet:m,matches:T,isDataRoute:r!=null},children:p})};return r&&(v.route.ErrorBoundary||v.route.errorElement||g===0)?P.createElement(B3,{location:r.location,revalidation:r.revalidation,component:E,error:w,children:x(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):x()},null)}var UC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(UC||{}),VC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(VC||{});function H3(e){let t=P.useContext(Gv);return t||Ot(!1),t}function W3(e){let t=P.useContext(N3);return t||Ot(!1),t}function q3(e){let t=P.useContext(ei);return t||Ot(!1),t}function HC(e){let t=q3(),r=t.matches[t.matches.length-1];return r.route.id||Ot(!1),r.route.id}function G3(){var e;let t=P.useContext(FC),r=W3(),n=HC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function K3(){let{router:e}=H3(UC.UseNavigateStable),t=HC(VC.UseNavigateStable),r=P.useRef(!1);return zC(()=>{r.current=!0}),P.useCallback(function(o,a){a===void 0&&(a={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,jc({fromRouteId:t},a)))},[e,t])}const y0={};function X3(e,t,r){y0[e]||(y0[e]=!0)}const w0={};function Y3(e,t){w0[t]||(w0[t]=!0,console.warn(t))}const S0=(e,t,r)=>Y3(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function Q3(e,t){e!=null&&e.v7_startTransition||S0("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),e!=null&&e.v7_relativeSplatPath||S0("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function mc(e){Ot(!1)}function J3(e){let{basename:t="/",children:r=null,location:n,navigationType:o=ro.Pop,navigator:a,static:c=!1,future:l}=e;Bc()&&Ot(!1);let d=t.replace(/^\/*/,"/"),f=P.useMemo(()=>({basename:d,navigator:a,static:c,future:jc({v7_relativeSplatPath:!1},l)}),[d,l,a,c]);typeof n=="string"&&(n=Jo(n));let{pathname:m="/",search:v="",hash:g="",state:w=null,key:b="default"}=n,E=P.useMemo(()=>{let R=qv(m,d);return R==null?null:{location:{pathname:R,search:v,hash:g,state:w,key:b},navigationType:o}},[d,m,v,g,w,b,o]);return E==null?null:P.createElement(Zo.Provider,{value:f},P.createElement(xf.Provider,{children:r,value:E}))}function Z3(e){let{children:t,location:r}=e;return A3(Qm(t),r)}new Promise(()=>{});function Qm(e,t){t===void 0&&(t=[]);let r=[];return P.Children.forEach(e,(n,o)=>{if(!P.isValidElement(n))return;let a=[...t,o];if(n.type===P.Fragment){r.push.apply(r,Qm(n.props.children,a));return}n.type!==mc&&Ot(!1),!n.props.index||!n.props.children||Ot(!1);let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Qm(n.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(this,arguments)}function eA(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function tA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rA(e,t){return e.button===0&&(!t||t==="_self")&&!tA(e)}const nA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sA="6";try{window.__reactRouterVersion=sA}catch{}const oA="startTransition",b0=J_[oA];function iA(e){let{basename:t,children:r,future:n,window:o}=e,a=P.useRef();a.current==null&&(a.current=c3({window:o,v5Compat:!0}));let c=a.current,[l,d]=P.useState({action:c.action,location:c.location}),{v7_startTransition:f}=n||{},m=P.useCallback(v=>{f&&b0?b0(()=>d(v)):d(v)},[d,f]);return P.useLayoutEffect(()=>c.listen(m),[c,m]),P.useEffect(()=>Q3(n),[n]),P.createElement(J3,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:c,future:n})}const aA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_0=P.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:a,replace:c,state:l,target:d,to:f,preventScrollReset:m,viewTransition:v}=t,g=eA(t,nA),{basename:w}=P.useContext(Zo),b,E=!1;if(typeof f=="string"&&cA.test(f)&&(b=f,aA))try{let p=new URL(window.location.href),h=f.startsWith("//")?new URL(p.protocol+f):new URL(f),S=qv(h.pathname,w);h.origin===p.origin&&S!=null?f=S+h.search+h.hash:E=!0}catch{}let R=L3(f,{relative:o}),T=lA(f,{replace:c,state:l,target:d,preventScrollReset:m,relative:o,viewTransition:v});function x(p){n&&n(p),p.defaultPrevented||T(p)}return P.createElement("a",Jm({},g,{href:b||R,onClick:E||a?n:x,ref:r,target:d}))});var x0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(x0||(x0={}));var C0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(C0||(C0={}));function lA(e,t){let{target:r,replace:n,state:o,preventScrollReset:a,relative:c,viewTransition:l}=t===void 0?{}:t,d=fo(),f=Cf(),m=BC(e,{relative:c});return P.useCallback(v=>{if(rA(v,r)){v.preventDefault();let g=n!==void 0?n:Rd(f)===Rd(m);d(e,{replace:g,state:o,preventScrollReset:a,relative:c,viewTransition:l})}},[f,d,m,n,o,r,e,a,c,l])}const WC=P.createContext(void 0),qC=P.createContext(null),ti=()=>{const e=P.useContext(qC);if(!e)throw new Error("useMediaContext  must be used within a MediaProvider");return e},os=Object.create(null);os.open="0";os.close="1";os.ping="2";os.pong="3";os.message="4";os.upgrade="5";os.noop="6";const _u=Object.create(null);Object.keys(os).forEach(e=>{_u[os[e]]=e});const Zm={type:"error",data:"parser error"},GC=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",KC=typeof ArrayBuffer=="function",XC=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Kv=({type:e,data:t},r,n)=>GC&&t instanceof Blob?r?n(t):R0(t,n):KC&&(t instanceof ArrayBuffer||XC(t))?r?n(t):R0(new Blob([t]),n):n(os[e]+(t||"")),R0=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function E0(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let im;function uA(e,t){if(GC&&e.data instanceof Blob)return e.data.arrayBuffer().then(E0).then(t);if(KC&&(e.data instanceof ArrayBuffer||XC(e.data)))return t(E0(e.data));Kv(e,!1,r=>{im||(im=new TextEncoder),t(im.encode(r))})}const T0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<T0.length;e++)gc[T0.charCodeAt(e)]=e;const dA=e=>{let t=e.length*.75,r=e.length,n,o=0,a,c,l,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const f=new ArrayBuffer(t),m=new Uint8Array(f);for(n=0;n<r;n+=4)a=gc[e.charCodeAt(n)],c=gc[e.charCodeAt(n+1)],l=gc[e.charCodeAt(n+2)],d=gc[e.charCodeAt(n+3)],m[o++]=a<<2|c>>4,m[o++]=(c&15)<<4|l>>2,m[o++]=(l&3)<<6|d&63;return f},fA=typeof ArrayBuffer=="function",Xv=(e,t)=>{if(typeof e!="string")return{type:"message",data:YC(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:pA(e.substring(1),t)}:_u[r]?e.length>1?{type:_u[r],data:e.substring(1)}:{type:_u[r]}:Zm},pA=(e,t)=>{if(fA){const r=dA(e);return YC(r,t)}else return{base64:!0,data:e}},YC=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},QC="",hA=(e,t)=>{const r=e.length,n=new Array(r);let o=0;e.forEach((a,c)=>{Kv(a,!1,l=>{n[c]=l,++o===r&&t(n.join(QC))})})},mA=(e,t)=>{const r=e.split(QC),n=[];for(let o=0;o<r.length;o++){const a=Xv(r[o],t);if(n.push(a),a.type==="error")break}return n};function gA(){return new TransformStream({transform(e,t){uA(e,r=>{const n=r.length;let o;if(n<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,n);else if(n<65536){o=new Uint8Array(3);const a=new DataView(o.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{o=new Uint8Array(9);const a=new DataView(o.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(r)})}})}let am;function au(e){return e.reduce((t,r)=>t+r.length,0)}function cu(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let o=0;o<t;o++)r[o]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function vA(e,t){am||(am=new TextDecoder);const r=[];let n=0,o=-1,a=!1;return new TransformStream({transform(c,l){for(r.push(c);;){if(n===0){if(au(r)<1)break;const d=cu(r,1);a=(d[0]&128)===128,o=d[0]&127,o<126?n=3:o===126?n=1:n=2}else if(n===1){if(au(r)<2)break;const d=cu(r,2);o=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),n=3}else if(n===2){if(au(r)<8)break;const d=cu(r,8),f=new DataView(d.buffer,d.byteOffset,d.length),m=f.getUint32(0);if(m>Math.pow(2,21)-1){l.enqueue(Zm);break}o=m*Math.pow(2,32)+f.getUint32(4),n=3}else{if(au(r)<o)break;const d=cu(r,o);l.enqueue(Xv(a?d:am.decode(d),t)),n=0}if(o===0||o>e){l.enqueue(Zm);break}}}})}const JC=4;function Nt(e){if(e)return yA(e)}function yA(e){for(var t in Nt.prototype)e[t]=Nt.prototype[t];return e}Nt.prototype.on=Nt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Nt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Nt.prototype.off=Nt.prototype.removeListener=Nt.prototype.removeAllListeners=Nt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===t||n.fn===t){r.splice(o,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Nt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,t)}return this};Nt.prototype.emitReserved=Nt.prototype.emit;Nt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Nt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Rf=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Zr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),wA="arraybuffer";function ZC(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const SA=Zr.setTimeout,bA=Zr.clearTimeout;function Ef(e,t){t.useNativeTimers?(e.setTimeoutFn=SA.bind(Zr),e.clearTimeoutFn=bA.bind(Zr)):(e.setTimeoutFn=Zr.setTimeout.bind(Zr),e.clearTimeoutFn=Zr.clearTimeout.bind(Zr))}const _A=1.33;function xA(e){return typeof e=="string"?CA(e):Math.ceil((e.byteLength||e.size)*_A)}function CA(e){let t=0,r=0;for(let n=0,o=e.length;n<o;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function eR(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function RA(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function EA(e){let t={},r=e.split("&");for(let n=0,o=r.length;n<o;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class TA extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}let Yv=class extends Nt{constructor(t){super(),this.writable=!1,Ef(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new TA(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Xv(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=RA(t);return r.length?"?"+r:""}};class kA extends Yv{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};mA(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,hA(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=eR()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let tR=!1;try{tR=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const PA=tR;function DA(){}class jA extends kA{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(o,a)=>{this.onError("xhr post error",o,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class rs extends Nt{constructor(t,r,n){super(),this.createRequest=t,Ef(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=ZC(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var o;n.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=rs.requestsCount++,rs.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=DA,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete rs.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}rs.requestsCount=0;rs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",k0);else if(typeof addEventListener=="function"){const e="onpagehide"in Zr?"pagehide":"unload";addEventListener(e,k0,!1)}}function k0(){for(let e in rs.requests)rs.requests.hasOwnProperty(e)&&rs.requests[e].abort()}const IA=function(){const e=rR({xdomain:!1});return e&&e.responseType!==null}();class MA extends jA{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=IA&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new rs(rR,this.uri(),t)}}function rR(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||PA))return new XMLHttpRequest}catch{}if(!t)try{return new Zr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const nR=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class NA extends Yv{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=nR?{}:ZC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],o=r===t.length-1;Kv(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}o&&Rf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=eR()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const cm=Zr.WebSocket||Zr.MozWebSocket;class LA extends NA{createSocket(t,r,n){return nR?new cm(t,r,n):r?new cm(t,r):new cm(t)}doWrite(t,r){this.ws.send(r)}}class OA extends Yv{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=vA(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),o=gA();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const a=()=>{n.read().then(({done:l,value:d})=>{l||(this.onPacket(d),a())}).catch(l=>{})};a();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],o=r===t.length-1;this._writer.write(n).then(()=>{o&&Rf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const AA={websocket:LA,webtransport:OA,polling:MA},$A=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,FA=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function eg(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let o=$A.exec(e||""),a={},c=14;for(;c--;)a[FA[c]]=o[c]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=zA(a,a.path),a.queryKey=BA(a,a.query),a}function zA(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function BA(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,o,a){o&&(r[o]=a)}),r}const tg=typeof addEventListener=="function"&&typeof removeEventListener=="function",xu=[];tg&&addEventListener("offline",()=>{xu.forEach(e=>e())},!1);class so extends Nt{constructor(t,r){if(super(),this.binaryType=wA,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=eg(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=eg(r.host).host);Ef(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const o=n.prototype.name;this.transports.push(o),this._transportsByName[o]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=EA(this.opts.query)),tg&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},xu.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=JC,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&so.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",so.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const o=this.writeBuffer[n].data;if(o&&(r+=xA(o)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Rf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,o){if(typeof r=="function"&&(o=r,r=void 0),typeof n=="function"&&(o=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(so.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),tg&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=xu.indexOf(this._offlineEventListener);n!==-1&&xu.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}so.protocol=JC;class UA extends so{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;so.priorWebsocketSuccess=!1;const o=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",v=>{if(!n)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;so.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(m(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function a(){n||(n=!0,m(),r.close(),r=null)}const c=v=>{const g=new Error("probe error: "+v);g.transport=r.name,a(),this.emitReserved("upgradeError",g)};function l(){c("transport closed")}function d(){c("socket closed")}function f(v){r&&v.name!==r.name&&a()}const m=()=>{r.removeListener("open",o),r.removeListener("error",c),r.removeListener("close",l),this.off("close",d),this.off("upgrading",f)};r.once("open",o),r.once("error",c),r.once("close",l),this.once("close",d),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let VA=class extends UA{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(o=>AA[o]).filter(o=>!!o)),super(t,n)}};function HA(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=eg(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const WA=typeof ArrayBuffer=="function",qA=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,sR=Object.prototype.toString,GA=typeof Blob=="function"||typeof Blob<"u"&&sR.call(Blob)==="[object BlobConstructor]",KA=typeof File=="function"||typeof File<"u"&&sR.call(File)==="[object FileConstructor]";function Qv(e){return WA&&(e instanceof ArrayBuffer||qA(e))||GA&&e instanceof Blob||KA&&e instanceof File}function Cu(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Cu(e[r]))return!0;return!1}if(Qv(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Cu(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Cu(e[r]))return!0;return!1}function XA(e){const t=[],r=e.data,n=e;return n.data=rg(r,t),n.attachments=t.length,{packet:n,buffers:t}}function rg(e,t){if(!e)return e;if(Qv(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=rg(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=rg(e[n],t));return r}return e}function YA(e,t){return e.data=ng(e.data,t),delete e.attachments,e}function ng(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=ng(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=ng(e[r],t));return e}const QA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],JA=5;var nt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(nt||(nt={}));class ZA{constructor(t){this.replacer=t}encode(t){return(t.type===nt.EVENT||t.type===nt.ACK)&&Cu(t)?this.encodeAsBinary({type:t.type===nt.EVENT?nt.BINARY_EVENT:nt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===nt.BINARY_EVENT||t.type===nt.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=XA(t),n=this.encodeAsString(r.packet),o=r.buffers;return o.unshift(n),o}}function P0(e){return Object.prototype.toString.call(e)==="[object Object]"}class Jv extends Nt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===nt.BINARY_EVENT;n||r.type===nt.BINARY_ACK?(r.type=n?nt.EVENT:nt.ACK,this.reconstructor=new e4(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Qv(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(nt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===nt.BINARY_EVENT||n.type===nt.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const c=t.substring(a,r);if(c!=Number(c)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(c)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const o=t.charAt(r+1);if(o!==""&&Number(o)==o){const a=r+1;for(;++r;){const c=t.charAt(r);if(c==null||Number(c)!=c){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(Jv.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case nt.CONNECT:return P0(r);case nt.DISCONNECT:return r===void 0;case nt.CONNECT_ERROR:return typeof r=="string"||P0(r);case nt.EVENT:case nt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&QA.indexOf(r[0])===-1);case nt.ACK:case nt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class e4{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=YA(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const t4=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Jv,Encoder:ZA,get PacketType(){return nt},protocol:JA},Symbol.toStringTag,{value:"Module"}));function In(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const r4=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class oR extends Nt{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[In(t,"open",this.onopen.bind(this)),In(t,"packet",this.onpacket.bind(this)),In(t,"error",this.onerror.bind(this)),In(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,o,a;if(r4.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const c={type:nt.EVENT,data:r};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const m=this.ids++,v=r.pop();this._registerAckCallback(m,v),c.id=m}const l=(o=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||o===void 0?void 0:o.writable,d=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(d?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,r){var n;const o=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(o===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},o),c=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...r){return new Promise((n,o)=>{const a=(c,l)=>c?o(c):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...a)=>n!==this._queue[0]?void 0:(o!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(o)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:nt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case nt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case nt.EVENT:case nt.BINARY_EVENT:this.onevent(t);break;case nt.ACK:case nt.BINARY_ACK:this.onack(t);break;case nt.DISCONNECT:this.ondisconnect();break;case nt.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...o){n||(n=!0,r.packet({type:nt.ACK,id:t,data:o}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:nt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function fa(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}fa.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};fa.prototype.reset=function(){this.attempts=0};fa.prototype.setMin=function(e){this.ms=e};fa.prototype.setMax=function(e){this.max=e};fa.prototype.setJitter=function(e){this.jitter=e};class sg extends Nt{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Ef(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new fa({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const o=r.parser||t4;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new VA(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const o=In(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},c=In(r,"error",a);if(this._timeout!==!1){const l=this._timeout,d=this.setTimeoutFn(()=>{o(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(o),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(In(t,"ping",this.onping.bind(this)),In(t,"data",this.ondata.bind(this)),In(t,"error",this.onerror.bind(this)),In(t,"close",this.onclose.bind(this)),In(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Rf(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new oR(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const tc={};function Ru(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=HA(e,t.path||"/socket.io"),n=r.source,o=r.id,a=r.path,c=tc[o]&&a in tc[o].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let d;return l?d=new sg(n,t):(tc[o]||(tc[o]=new sg(n,t)),d=tc[o]),r.query&&!t.query&&(t.query=r.queryKey),d.socket(r.path,t)}Object.assign(Ru,{Manager:sg,Socket:oR,io:Ru,connect:Ru});const Ve="https://hitscord-backend.online",n4="https://hitscord-backend.ru/mediasoup",tn=10,iR={canChangeRole:"  ",canWorkChannels:"  ",canDeleteUsers:"  ",canMuteOther:"  ",canDeleteOthersMessages:"   ",canIgnoreMaxCount:"  ",canCreateRoles:"  ",canCreateLessons:"  ",canCheckAttendance:"  "},Je=Ru(n4);Je.on("connection-success",({socketId:e})=>{console.log("Connected with socketId",e)});var gn={},lu={exports:{}},lm,D0;function s4(){if(D0)return lm;D0=1;var e=1e3,t=e*60,r=t*60,n=r*24,o=n*7,a=n*365.25;lm=function(m,v){v=v||{};var g=typeof m;if(g==="string"&&m.length>0)return c(m);if(g==="number"&&isFinite(m))return v.long?d(m):l(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function c(m){if(m=String(m),!(m.length>100)){var v=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(v){var g=parseFloat(v[1]),w=(v[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return g*a;case"weeks":case"week":case"w":return g*o;case"days":case"day":case"d":return g*n;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*t;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function l(m){var v=Math.abs(m);return v>=n?Math.round(m/n)+"d":v>=r?Math.round(m/r)+"h":v>=t?Math.round(m/t)+"m":v>=e?Math.round(m/e)+"s":m+"ms"}function d(m){var v=Math.abs(m);return v>=n?f(m,v,n,"day"):v>=r?f(m,v,r,"hour"):v>=t?f(m,v,t,"minute"):v>=e?f(m,v,e,"second"):m+" ms"}function f(m,v,g,w){var b=v>=g*1.5;return Math.round(m/g)+" "+w+(b?"s":"")}return lm}var um,j0;function o4(){if(j0)return um;j0=1;function e(t){n.debug=n,n.default=n,n.coerce=f,n.disable=c,n.enable=a,n.enabled=l,n.humanize=s4(),n.destroy=m,Object.keys(t).forEach(v=>{n[v]=t[v]}),n.names=[],n.skips=[],n.formatters={};function r(v){let g=0;for(let w=0;w<v.length;w++)g=(g<<5)-g+v.charCodeAt(w),g|=0;return n.colors[Math.abs(g)%n.colors.length]}n.selectColor=r;function n(v){let g,w=null,b,E;function R(...T){if(!R.enabled)return;const x=R,p=Number(new Date),h=p-(g||p);x.diff=h,x.prev=g,x.curr=p,g=p,T[0]=n.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let S=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(D,j)=>{if(D==="%%")return"%";S++;const L=n.formatters[j];if(typeof L=="function"){const N=T[S];D=L.call(x,N),T.splice(S,1),S--}return D}),n.formatArgs.call(x,T),(x.log||n.log).apply(x,T)}return R.namespace=v,R.useColors=n.useColors(),R.color=n.selectColor(v),R.extend=o,R.destroy=n.destroy,Object.defineProperty(R,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(b!==n.namespaces&&(b=n.namespaces,E=n.enabled(v)),E),set:T=>{w=T}}),typeof n.init=="function"&&n.init(R),R}function o(v,g){const w=n(this.namespace+(typeof g>"u"?":":g)+v);return w.log=this.log,w}function a(v){n.save(v),n.namespaces=v,n.names=[],n.skips=[];let g;const w=(typeof v=="string"?v:"").split(/[\s,]+/),b=w.length;for(g=0;g<b;g++)w[g]&&(v=w[g].replace(/\*/g,".*?"),v[0]==="-"?n.skips.push(new RegExp("^"+v.slice(1)+"$")):n.names.push(new RegExp("^"+v+"$")))}function c(){const v=[...n.names.map(d),...n.skips.map(d).map(g=>"-"+g)].join(",");return n.enable(""),v}function l(v){if(v[v.length-1]==="*")return!0;let g,w;for(g=0,w=n.skips.length;g<w;g++)if(n.skips[g].test(v))return!1;for(g=0,w=n.names.length;g<w;g++)if(n.names[g].test(v))return!0;return!1}function d(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}function f(v){return v instanceof Error?v.stack||v.message:v}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return um=e,um}var I0;function Tf(){return I0||(I0=1,function(e,t){var r={};t.formatArgs=o,t.save=a,t.load=c,t.useColors=n,t.storage=l(),t.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let f;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(f=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(f[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const m="color: "+this.color;f.splice(1,0,m,"color: inherit");let v=0,g=0;f[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(v++,w==="%c"&&(g=v))}),f.splice(g,0,m)}t.log=console.debug||console.log||(()=>{});function a(f){try{f?t.storage.setItem("debug",f):t.storage.removeItem("debug")}catch{}}function c(){let f;try{f=t.storage.getItem("debug")}catch{}return!f&&typeof process<"u"&&"env"in process&&(f=r.DEBUG),f}function l(){try{return localStorage}catch{}}e.exports=o4()(t);const{formatters:d}=e.exports;d.j=function(f){try{return JSON.stringify(f)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}}(lu,lu.exports)),lu.exports}var Jr={},vc={exports:{}},i4=vc.exports,M0;function a4(){return M0||(M0=1,function(e,t){(function(r,n){var o="1.0.39",a="",c="?",l="function",d="undefined",f="object",m="string",v="major",g="model",w="name",b="type",E="vendor",R="version",T="architecture",x="console",p="mobile",h="tablet",S="smarttv",C="wearable",D="embedded",j=500,L="Amazon",N="Apple",A="ASUS",O="BlackBerry",V="Browser",W="Chrome",X="Edge",M="Firefox",B="Google",$="Huawei",F="LG",H="Microsoft",U="Motorola",G="Opera",ne="Samsung",ue="Sharp",Q="Sony",se="Xiaomi",le="Zebra",ge="Facebook",te="Chromium OS",he="Mac OS",_e=" Browser",He=function(Ce,Ne){var Se={};for(var Ye in Ce)Ne[Ye]&&Ne[Ye].length%2===0?Se[Ye]=Ne[Ye].concat(Ce[Ye]):Se[Ye]=Ce[Ye];return Se},qe=function(Ce){for(var Ne={},Se=0;Se<Ce.length;Se++)Ne[Ce[Se].toUpperCase()]=Ce[Se];return Ne},Qe=function(Ce,Ne){return typeof Ce===m?ot(Ne).indexOf(ot(Ce))!==-1:!1},ot=function(Ce){return Ce.toLowerCase()},dt=function(Ce){return typeof Ce===m?Ce.replace(/[^\d\.]/g,a).split(".")[0]:n},fe=function(Ce,Ne){if(typeof Ce===m)return Ce=Ce.replace(/^\s\s*/,a),typeof Ne===d?Ce:Ce.substring(0,j)},we=function(Ce,Ne){for(var Se=0,Ye,at,Ze,rt,De,bt;Se<Ne.length&&!De;){var as=Ne[Se],si=Ne[Se+1];for(Ye=at=0;Ye<as.length&&!De&&as[Ye];)if(De=as[Ye++].exec(Ce),De)for(Ze=0;Ze<si.length;Ze++)bt=De[++at],rt=si[Ze],typeof rt===f&&rt.length>0?rt.length===2?typeof rt[1]==l?this[rt[0]]=rt[1].call(this,bt):this[rt[0]]=rt[1]:rt.length===3?typeof rt[1]===l&&!(rt[1].exec&&rt[1].test)?this[rt[0]]=bt?rt[1].call(this,bt,rt[2]):n:this[rt[0]]=bt?bt.replace(rt[1],rt[2]):n:rt.length===4&&(this[rt[0]]=bt?rt[3].call(this,bt.replace(rt[1],rt[2])):n):this[rt]=bt||n;Se+=2}},Ee=function(Ce,Ne){for(var Se in Ne)if(typeof Ne[Se]===f&&Ne[Se].length>0){for(var Ye=0;Ye<Ne[Se].length;Ye++)if(Qe(Ne[Se][Ye],Ce))return Se===c?n:Se}else if(Qe(Ne[Se],Ce))return Se===c?n:Se;return Ne.hasOwnProperty("*")?Ne["*"]:Ce},Me={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ze={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Fe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[R,[w,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[R,[w,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[w,R],[/opios[\/ ]+([\w\.]+)/i],[R,[w,G+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[R,[w,G+" GX"]],[/\bopr\/([\w\.]+)/i],[R,[w,G]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[R,[w,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[w,R],[/quark(?:pc)?\/([-\w\.]+)/i],[R,[w,"Quark"]],[/\bddg\/([\w\.]+)/i],[R,[w,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[R,[w,"UC"+V]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[R,[w,"WeChat"]],[/konqueror\/([\w\.]+)/i],[R,[w,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[R,[w,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[R,[w,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[R,[w,"Smart Lenovo "+V]],[/(avast|avg)\/([\w\.]+)/i],[[w,/(.+)/,"$1 Secure "+V],R],[/\bfocus\/([\w\.]+)/i],[R,[w,M+" Focus"]],[/\bopt\/([\w\.]+)/i],[R,[w,G+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[R,[w,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[R,[w,"Dolphin"]],[/coast\/([\w\.]+)/i],[R,[w,G+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[R,[w,"MIUI "+V]],[/fxios\/([-\w\.]+)/i],[R,[w,M]],[/\bqihu|(qi?ho?o?|360)browser/i],[[w,"360"+_e]],[/\b(qq)\/([\w\.]+)/i],[[w,/(.+)/,"$1Browser"],R],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[w,/(.+)/,"$1"+_e],R],[/samsungbrowser\/([\w\.]+)/i],[R,[w,ne+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[w,/_/g," "],R],[/metasr[\/ ]?([\d\.]+)/i],[R,[w,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[w,"Sogou Mobile"],R],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[w,R],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[w],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[w,ge],R],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[w,R],[/\bgsa\/([\w\.]+) .*safari\//i],[R,[w,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[R,[w,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[R,[w,W+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[w,W+" WebView"],R],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[R,[w,"Android "+V]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[w,R],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[R,[w,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[R,w],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[w,[R,Ee,Me]],[/(webkit|khtml)\/([\w\.]+)/i],[w,R],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[w,"Netscape"],R],[/(wolvic)\/([\w\.]+)/i],[w,R],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[R,[w,M+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[w,[R,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[w,[R,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[T,"amd64"]],[/(ia32(?=;))/i],[[T,ot]],[/((?:i[346]|x)86)[;\)]/i],[[T,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[T,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[T,"armhf"]],[/windows (ce|mobile); ppc;/i],[[T,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[T,/ower/,a,ot]],[/(sun4\w)[;\)]/i],[[T,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[T,ot]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[E,ne],[b,h]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[g,[E,ne],[b,p]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[E,N],[b,p]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[E,N],[b,h]],[/(macintosh);/i],[g,[E,N]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[E,ue],[b,p]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[g,[E,$],[b,h]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[E,$],[b,p]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[g,/_/g," "],[E,se],[b,p]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[g,/_/g," "],[E,se],[b,h]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[E,"OPPO"],[b,p]],[/\b(opd2\d{3}a?) bui/i],[g,[E,"OPPO"],[b,h]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[E,"Vivo"],[b,p]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[E,"Realme"],[b,p]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[E,U],[b,p]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[E,U],[b,h]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[E,F],[b,h]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[E,F],[b,p]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[g,[E,"Lenovo"],[b,h]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[g,/_/g," "],[E,"Nokia"],[b,p]],[/(pixel c)\b/i],[g,[E,B],[b,h]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[E,B],[b,p]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[E,Q],[b,p]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[E,Q],[b,h]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[E,"OnePlus"],[b,p]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[E,L],[b,h]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[E,L],[b,p]],[/(playbook);[-\w\),; ]+(rim)/i],[g,E,[b,h]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[E,O],[b,p]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[E,A],[b,h]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[E,A],[b,p]],[/(nexus 9)/i],[g,[E,"HTC"],[b,h]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[E,[g,/_/g," "],[b,p]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[g,[E,"TCL"],[b,h]],[/(itel) ((\w+))/i],[[E,ot],g,[b,Ee,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[E,"Acer"],[b,h]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[E,"Meizu"],[b,p]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[E,"Ulefone"],[b,p]],[/droid.+; (a(?:015|06[35]|142p?))/i],[g,[E,"Nothing"],[b,p]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[E,g,[b,p]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[E,g,[b,h]],[/(surface duo)/i],[g,[E,H],[b,h]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[E,"Fairphone"],[b,p]],[/(u304aa)/i],[g,[E,"AT&T"],[b,p]],[/\bsie-(\w*)/i],[g,[E,"Siemens"],[b,p]],[/\b(rct\w+) b/i],[g,[E,"RCA"],[b,h]],[/\b(venue[\d ]{2,7}) b/i],[g,[E,"Dell"],[b,h]],[/\b(q(?:mv|ta)\w+) b/i],[g,[E,"Verizon"],[b,h]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[E,"Barnes & Noble"],[b,h]],[/\b(tm\d{3}\w+) b/i],[g,[E,"NuVision"],[b,h]],[/\b(k88) b/i],[g,[E,"ZTE"],[b,h]],[/\b(nx\d{3}j) b/i],[g,[E,"ZTE"],[b,p]],[/\b(gen\d{3}) b.+49h/i],[g,[E,"Swiss"],[b,p]],[/\b(zur\d{3}) b/i],[g,[E,"Swiss"],[b,h]],[/\b((zeki)?tb.*\b) b/i],[g,[E,"Zeki"],[b,h]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[E,"Dragon Touch"],g,[b,h]],[/\b(ns-?\w{0,9}) b/i],[g,[E,"Insignia"],[b,h]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[E,"NextBook"],[b,h]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[E,"Voice"],g,[b,p]],[/\b(lvtel\-)?(v1[12]) b/i],[[E,"LvTel"],g,[b,p]],[/\b(ph-1) /i],[g,[E,"Essential"],[b,p]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[E,"Envizen"],[b,h]],[/\b(trio[-\w\. ]+) b/i],[g,[E,"MachSpeed"],[b,h]],[/\btu_(1491) b/i],[g,[E,"Rotor"],[b,h]],[/(shield[\w ]+) b/i],[g,[E,"Nvidia"],[b,h]],[/(sprint) (\w+)/i],[E,g,[b,p]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[E,H],[b,p]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[E,le],[b,h]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[E,le],[b,p]],[/smart-tv.+(samsung)/i],[E,[b,S]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[E,ne],[b,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[E,F],[b,S]],[/(apple) ?tv/i],[E,[g,N+" TV"],[b,S]],[/crkey/i],[[g,W+"cast"],[E,B],[b,S]],[/droid.+aft(\w+)( bui|\))/i],[g,[E,L],[b,S]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[E,ue],[b,S]],[/(bravia[\w ]+)( bui|\))/i],[g,[E,Q],[b,S]],[/(mitv-\w{5}) bui/i],[g,[E,se],[b,S]],[/Hbbtv.*(technisat) (.*);/i],[E,g,[b,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[E,fe],[g,fe],[b,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[E,g,[b,x]],[/droid.+; (shield) bui/i],[g,[E,"Nvidia"],[b,x]],[/(playstation [345portablevi]+)/i],[g,[E,Q],[b,x]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[E,H],[b,x]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[g,[E,ne],[b,C]],[/((pebble))app/i],[E,g,[b,C]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[E,N],[b,C]],[/droid.+; (glass) \d/i],[g,[E,B],[b,C]],[/droid.+; (wt63?0{2,3})\)/i],[g,[E,le],[b,C]],[/(quest( \d| pro)?)/i],[g,[E,ge],[b,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[E,[b,D]],[/(aeobc)\b/i],[g,[E,L],[b,D]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[g,[b,p]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[b,h]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,h]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,p]],[/(android[-\w\. ]{0,9});.+buil/i],[g,[E,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[R,[w,X+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[R,[w,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[w,R],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[R,w]],os:[[/microsoft (windows) (vista|xp)/i],[w,R],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[w,[R,Ee,ze]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[R,Ee,ze],[w,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[R,/_/g,"."],[w,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[w,he],[R,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[R,w],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[w,R],[/\(bb(10);/i],[R,[w,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[R,[w,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[R,[w,M+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[R,[w,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[R,[w,"watchOS"]],[/crkey\/([\d\.]+)/i],[R,[w,W+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[w,te],R],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[w,R],[/(sunos) ?([\w\.\d]*)/i],[[w,"Solaris"],R],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[w,R]]},Ge=function(Ce,Ne){if(typeof Ce===f&&(Ne=Ce,Ce=n),!(this instanceof Ge))return new Ge(Ce,Ne).getResult();var Se=typeof r!==d&&r.navigator?r.navigator:n,Ye=Ce||(Se&&Se.userAgent?Se.userAgent:a),at=Se&&Se.userAgentData?Se.userAgentData:n,Ze=Ne?He(Fe,Ne):Fe,rt=Se&&Se.userAgent==Ye;return this.getBrowser=function(){var De={};return De[w]=n,De[R]=n,we.call(De,Ye,Ze.browser),De[v]=dt(De[R]),rt&&Se&&Se.brave&&typeof Se.brave.isBrave==l&&(De[w]="Brave"),De},this.getCPU=function(){var De={};return De[T]=n,we.call(De,Ye,Ze.cpu),De},this.getDevice=function(){var De={};return De[E]=n,De[g]=n,De[b]=n,we.call(De,Ye,Ze.device),rt&&!De[b]&&at&&at.mobile&&(De[b]=p),rt&&De[g]=="Macintosh"&&Se&&typeof Se.standalone!==d&&Se.maxTouchPoints&&Se.maxTouchPoints>2&&(De[g]="iPad",De[b]=h),De},this.getEngine=function(){var De={};return De[w]=n,De[R]=n,we.call(De,Ye,Ze.engine),De},this.getOS=function(){var De={};return De[w]=n,De[R]=n,we.call(De,Ye,Ze.os),rt&&!De[w]&&at&&at.platform&&at.platform!="Unknown"&&(De[w]=at.platform.replace(/chrome os/i,te).replace(/macos/i,he)),De},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ye},this.setUA=function(De){return Ye=typeof De===m&&De.length>j?fe(De,j):De,this},this.setUA(Ye),this};Ge.VERSION=o,Ge.BROWSER=qe([w,R,v]),Ge.CPU=qe([T]),Ge.DEVICE=qe([g,E,b,x,p,S,h,C,D]),Ge.ENGINE=Ge.OS=qe([w,R]),e.exports&&(t=e.exports=Ge),t.UAParser=Ge;var me=typeof r!==d&&(r.jQuery||r.Zepto);if(me&&!me.ua){var Pe=new Ge;me.ua=Pe.getResult(),me.ua.get=function(){return Pe.getUA()},me.ua.set=function(Ce){Pe.setUA(Ce);var Ne=Pe.getResult();for(var Se in Ne)me.ua[Se]=Ne[Se]}}})(typeof window=="object"?window:i4)}(vc,vc.exports)),vc.exports}var To={},N0;function At(){if(N0)return To;N0=1;var e=To&&To.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(To,"__esModule",{value:!0}),To.Logger=void 0;const t=e(Tf()),r="mediasoup-client";class n{constructor(a){a?(this._debug=(0,t.default)(`${r}:${a}`),this._warn=(0,t.default)(`${r}:WARN:${a}`),this._error=(0,t.default)(`${r}:ERROR:${a}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return To.Logger=n,To}var rc={},uu={exports:{}},L0;function c4(){if(L0)return uu.exports;L0=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(S,C,D){return Function.prototype.apply.call(S,C,D)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:r=function(S){return Object.getOwnPropertyNames(S)};function n(h){console&&console.warn&&console.warn(h)}var o=Number.isNaN||function(S){return S!==S};function a(){a.init.call(this)}uu.exports=a,uu.exports.once=T,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(h){if(typeof h!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof h)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(h){if(typeof h!="number"||h<0||o(h))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+h+".");c=h}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||o(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function d(h){return h._maxListeners===void 0?a.defaultMaxListeners:h._maxListeners}a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(S){for(var C=[],D=1;D<arguments.length;D++)C.push(arguments[D]);var j=S==="error",L=this._events;if(L!==void 0)j=j&&L.error===void 0;else if(!j)return!1;if(j){var N;if(C.length>0&&(N=C[0]),N instanceof Error)throw N;var A=new Error("Unhandled error."+(N?" ("+N.message+")":""));throw A.context=N,A}var O=L[S];if(O===void 0)return!1;if(typeof O=="function")t(O,this,C);else for(var V=O.length,W=b(O,V),D=0;D<V;++D)t(W[D],this,C);return!0};function f(h,S,C,D){var j,L,N;if(l(C),L=h._events,L===void 0?(L=h._events=Object.create(null),h._eventsCount=0):(L.newListener!==void 0&&(h.emit("newListener",S,C.listener?C.listener:C),L=h._events),N=L[S]),N===void 0)N=L[S]=C,++h._eventsCount;else if(typeof N=="function"?N=L[S]=D?[C,N]:[N,C]:D?N.unshift(C):N.push(C),j=d(h),j>0&&N.length>j&&!N.warned){N.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=h,A.type=S,A.count=N.length,n(A)}return h}a.prototype.addListener=function(S,C){return f(this,S,C,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(S,C){return f(this,S,C,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(h,S,C){var D={fired:!1,wrapFn:void 0,target:h,type:S,listener:C},j=m.bind(D);return j.listener=C,D.wrapFn=j,j}a.prototype.once=function(S,C){return l(C),this.on(S,v(this,S,C)),this},a.prototype.prependOnceListener=function(S,C){return l(C),this.prependListener(S,v(this,S,C)),this},a.prototype.removeListener=function(S,C){var D,j,L,N,A;if(l(C),j=this._events,j===void 0)return this;if(D=j[S],D===void 0)return this;if(D===C||D.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete j[S],j.removeListener&&this.emit("removeListener",S,D.listener||C));else if(typeof D!="function"){for(L=-1,N=D.length-1;N>=0;N--)if(D[N]===C||D[N].listener===C){A=D[N].listener,L=N;break}if(L<0)return this;L===0?D.shift():E(D,L),D.length===1&&(j[S]=D[0]),j.removeListener!==void 0&&this.emit("removeListener",S,A||C)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(S){var C,D,j;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[S]),this;if(arguments.length===0){var L=Object.keys(D),N;for(j=0;j<L.length;++j)N=L[j],N!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=D[S],typeof C=="function")this.removeListener(S,C);else if(C!==void 0)for(j=C.length-1;j>=0;j--)this.removeListener(S,C[j]);return this};function g(h,S,C){var D=h._events;if(D===void 0)return[];var j=D[S];return j===void 0?[]:typeof j=="function"?C?[j.listener||j]:[j]:C?R(j):b(j,j.length)}a.prototype.listeners=function(S){return g(this,S,!0)},a.prototype.rawListeners=function(S){return g(this,S,!1)},a.listenerCount=function(h,S){return typeof h.listenerCount=="function"?h.listenerCount(S):w.call(h,S)},a.prototype.listenerCount=w;function w(h){var S=this._events;if(S!==void 0){var C=S[h];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function b(h,S){for(var C=new Array(S),D=0;D<S;++D)C[D]=h[D];return C}function E(h,S){for(;S+1<h.length;S++)h[S]=h[S+1];h.pop()}function R(h){for(var S=new Array(h.length),C=0;C<S.length;++C)S[C]=h[C].listener||h[C];return S}function T(h,S){return new Promise(function(C,D){function j(N){h.removeListener(S,L),D(N)}function L(){typeof h.removeListener=="function"&&h.removeListener("error",j),C([].slice.call(arguments))}p(h,S,L,{once:!0}),S!=="error"&&x(h,j,{once:!0})})}function x(h,S,C){typeof h.on=="function"&&p(h,"error",S,C)}function p(h,S,C,D){if(typeof h.on=="function")D.once?h.once(S,C):h.on(S,C);else if(typeof h.addEventListener=="function")h.addEventListener(S,function j(L){D.once&&h.removeEventListener(S,j),C(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof h)}return uu.exports}var O0;function ri(){if(O0)return rc;O0=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.EnhancedEventEmitter=void 0;const e=c4(),t=At(),r=new t.Logger("EnhancedEventEmitter");class n extends e.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(a,...c){return super.emit(a,...c)}safeEmit(a,...c){try{return super.emit(a,...c)}catch(l){r.error("safeEmit() | event listener threw an error [eventName:%s]:%o",a,l);try{super.emit("listenererror",a,l)}catch{}return!!super.listenerCount(a)}}on(a,c){return super.on(a,c),this}off(a,c){return super.off(a,c),this}addListener(a,c){return super.on(a,c),this}prependListener(a,c){return super.prependListener(a,c),this}once(a,c){return super.once(a,c),this}prependOnceListener(a,c){return super.prependOnceListener(a,c),this}removeListener(a,c){return super.off(a,c),this}removeAllListeners(a){return super.removeAllListeners(a),this}listenerCount(a){return super.listenerCount(a)}listeners(a){return super.listeners(a)}rawListeners(a){return super.rawListeners(a)}}return rc.EnhancedEventEmitter=n,rc}var ko={},A0;function vr(){if(A0)return ko;A0=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.InvalidStateError=ko.UnsupportedError=void 0;class e extends Error{constructor(n){super(n),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,e):this.stack=new Error(n).stack}}ko.UnsupportedError=e;class t extends Error{constructor(n){super(n),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,t):this.stack=new Error(n).stack}}return ko.InvalidStateError=t,ko}var Li={},$0;function tr(){if($0)return Li;$0=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.clone=e,Li.generateRandomNumber=t,Li.deepFreeze=r;function e(n){if(n!==void 0)return Number.isNaN(n)?NaN:typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}function t(){return Math.round(Math.random()*1e7)}function r(n){const o=Reflect.ownKeys(n);for(const a of o){const c=n[a];(c&&typeof c=="object"||typeof c=="function")&&r(c)}return Object.freeze(n)}return Li}var jt={},Ct={},Po={},F0;function l4(){if(F0)return Po;F0=1;var e=Po&&Po.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Po,"__esModule",{value:!0}),Po.Logger=void 0;const t=e(Tf()),r="h264-profile-level-id";class n{constructor(a){a?(this._debug=(0,t.default)(`${r}:${a}`),this._warn=(0,t.default)(`${r}:WARN:${a}`),this._error=(0,t.default)(`${r}:ERROR:${a}`)):(this._debug=(0,t.default)(r),this._warn=(0,t.default)(`${r}:WARN`),this._error=(0,t.default)(`${r}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return Po.Logger=n,Po}var z0;function u4(){if(z0)return Ct;z0=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.generateProfileLevelIdStringForAnswer=Ct.isSameProfile=Ct.parseSdpProfileLevelId=Ct.levelToString=Ct.profileToString=Ct.profileLevelIdToString=Ct.parseProfileLevelId=Ct.ProfileLevelId=Ct.Level=Ct.Profile=void 0;const e=l4(),t=new e.Logger;var r;(function(h){h[h.ConstrainedBaseline=1]="ConstrainedBaseline",h[h.Baseline=2]="Baseline",h[h.Main=3]="Main",h[h.ConstrainedHigh=4]="ConstrainedHigh",h[h.High=5]="High",h[h.PredictiveHigh444=6]="PredictiveHigh444"})(r||(Ct.Profile=r={}));var n;(function(h){h[h.L1_b=0]="L1_b",h[h.L1=10]="L1",h[h.L1_1=11]="L1_1",h[h.L1_2=12]="L1_2",h[h.L1_3=13]="L1_3",h[h.L2=20]="L2",h[h.L2_1=21]="L2_1",h[h.L2_2=22]="L2_2",h[h.L3=30]="L3",h[h.L3_1=31]="L3_1",h[h.L3_2=32]="L3_2",h[h.L4=40]="L4",h[h.L4_1=41]="L4_1",h[h.L4_2=42]="L4_2",h[h.L5=50]="L5",h[h.L5_1=51]="L5_1",h[h.L5_2=52]="L5_2"})(n||(Ct.Level=n={}));class o{constructor(S,C){this.profile=S,this.level=C}}Ct.ProfileLevelId=o;const a=new o(r.ConstrainedBaseline,n.L3_1);class c{constructor(S){this.mask=~R("x",S),this.masked_value=R("1",S)}isMatch(S){return this.masked_value===(S&this.mask)}}class l{constructor(S,C,D){this.profile_idc=S,this.profile_iop=C,this.profile=D}}const d=[new l(66,new c("x1xx0000"),r.ConstrainedBaseline),new l(77,new c("1xxx0000"),r.ConstrainedBaseline),new l(88,new c("11xx0000"),r.ConstrainedBaseline),new l(66,new c("x0xx0000"),r.Baseline),new l(88,new c("10xx0000"),r.Baseline),new l(77,new c("0x0x0000"),r.Main),new l(100,new c("00000000"),r.High),new l(100,new c("00001100"),r.ConstrainedHigh),new l(244,new c("00000000"),r.PredictiveHigh444)];function f(h){if(typeof h!="string"||h.length!==6)return;const C=parseInt(h,16);if(C===0)return;const D=C&255,j=C>>8&255,L=C>>16&255;let N;switch(D){case n.L1_1:{N=(j&16)!==0?n.L1_b:n.L1_1;break}case n.L1:case n.L1_2:case n.L1_3:case n.L2:case n.L2_1:case n.L2_2:case n.L3:case n.L3_1:case n.L3_2:case n.L4:case n.L4_1:case n.L4_2:case n.L5:case n.L5_1:case n.L5_2:{N=D;break}default:{t.warn(`parseProfileLevelId() | unrecognized level_idc [str:${h}, level_idc:${D}]`);return}}for(const A of d)if(L===A.profile_idc&&A.profile_iop.isMatch(j))return new o(A.profile,N);t.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${h}, profile_idc:${L}, profile_iop:${j}]`)}Ct.parseProfileLevelId=f;function m(h){if(h.level==n.L1_b)switch(h.profile){case r.ConstrainedBaseline:return"42f00b";case r.Baseline:return"42100b";case r.Main:return"4d100b";default:{t.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${h.profile}`);return}}let S;switch(h.profile){case r.ConstrainedBaseline:{S="42e0";break}case r.Baseline:{S="4200";break}case r.Main:{S="4d00";break}case r.ConstrainedHigh:{S="640c";break}case r.High:{S="6400";break}case r.PredictiveHigh444:{S="f400";break}default:{t.warn(`profileLevelIdToString() | unrecognized profile ${h.profile}`);return}}let C=h.level.toString(16);return C.length===1&&(C=`0${C}`),`${S}${C}`}Ct.profileLevelIdToString=m;function v(h){switch(h){case r.ConstrainedBaseline:return"ConstrainedBaseline";case r.Baseline:return"Baseline";case r.Main:return"Main";case r.ConstrainedHigh:return"ConstrainedHigh";case r.High:return"High";case r.PredictiveHigh444:return"PredictiveHigh444";default:{t.warn(`profileToString() | unrecognized profile ${h}`);return}}}Ct.profileToString=v;function g(h){switch(h){case n.L1_b:return"1b";case n.L1:return"1";case n.L1_1:return"1.1";case n.L1_2:return"1.2";case n.L1_3:return"1.3";case n.L2:return"2";case n.L2_1:return"2.1";case n.L2_2:return"2.2";case n.L3:return"3";case n.L3_1:return"3.1";case n.L3_2:return"3.2";case n.L4:return"4";case n.L4_1:return"4.1";case n.L4_2:return"4.2";case n.L5:return"5";case n.L5_1:return"5.1";case n.L5_2:return"5.2";default:{t.warn(`levelToString() | unrecognized level ${h}`);return}}}Ct.levelToString=g;function w(h={}){const S=h["profile-level-id"];return S?f(S):a}Ct.parseSdpProfileLevelId=w;function b(h={},S={}){const C=w(h),D=w(S);return!!(C&&D&&C.profile===D.profile)}Ct.isSameProfile=b;function E(h={},S={}){if(!h["profile-level-id"]&&!S["profile-level-id"]){t.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const C=w(h),D=w(S);if(!C)throw new TypeError("invalid local_profile_level_id");if(!D)throw new TypeError("invalid remote_profile_level_id");if(C.profile!==D.profile)throw new TypeError("H264 Profile mismatch");const j=p(h)&&p(S),L=C.level,N=D.level,A=x(L,N),O=j?L:A;return t.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${C.profile}, level:${O}]`),m(new o(C.profile,O))}Ct.generateProfileLevelIdStringForAnswer=E;function R(h,S){return+(S[0]===h)<<7|+(S[1]===h)<<6|+(S[2]===h)<<5|+(S[3]===h)<<4|+(S[4]===h)<<3|+(S[5]===h)<<2|+(S[6]===h)<<1|+(S[7]===h)<<0}function T(h,S){return h===n.L1_b?S!==n.L1&&S!==n.L1_b:S===n.L1_b?h!==n.L1:h<S}function x(h,S){return T(h,S)?h:S}function p(h={}){const S=h["level-asymmetry-allowed"];return S===!0||S===1||S==="1"}return Ct}var B0;function jr(){if(B0)return jt;B0=1;var e=jt&&jt.__createBinding||(Object.create?function(M,B,$,F){F===void 0&&(F=$);var H=Object.getOwnPropertyDescriptor(B,$);(!H||("get"in H?!B.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return B[$]}}),Object.defineProperty(M,F,H)}:function(M,B,$,F){F===void 0&&(F=$),M[F]=B[$]}),t=jt&&jt.__setModuleDefault||(Object.create?function(M,B){Object.defineProperty(M,"default",{enumerable:!0,value:B})}:function(M,B){M.default=B}),r=jt&&jt.__importStar||function(M){if(M&&M.__esModule)return M;var B={};if(M!=null)for(var $ in M)$!=="default"&&Object.prototype.hasOwnProperty.call(M,$)&&e(B,M,$);return t(B,M),B};Object.defineProperty(jt,"__esModule",{value:!0}),jt.validateRtpCapabilities=d,jt.validateRtpParameters=f,jt.validateSctpStreamParameters=m,jt.validateSctpCapabilities=v,jt.getExtendedRtpCapabilities=g,jt.getRecvRtpCapabilities=w,jt.getSendingRtpParameters=b,jt.getSendingRemoteRtpParameters=E,jt.reduceCodecs=R,jt.generateProbatorRtpParameters=T,jt.canSend=x,jt.canReceive=p;const n=r(u4()),o=r(tr()),a="probator",c=1234,l=127;function d(M){if(typeof M!="object")throw new TypeError("caps is not an object");if(M.codecs&&!Array.isArray(M.codecs))throw new TypeError("caps.codecs is not an array");M.codecs||(M.codecs=[]);for(const B of M.codecs)h(B);if(M.headerExtensions&&!Array.isArray(M.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");M.headerExtensions||(M.headerExtensions=[]);for(const B of M.headerExtensions)C(B)}function f(M){if(typeof M!="object")throw new TypeError("params is not an object");if(M.mid&&typeof M.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(M.codecs))throw new TypeError("missing params.codecs");for(const B of M.codecs)D(B);if(M.headerExtensions&&!Array.isArray(M.headerExtensions))throw new TypeError("params.headerExtensions is not an array");M.headerExtensions||(M.headerExtensions=[]);for(const B of M.headerExtensions)j(B);if(M.encodings&&!Array.isArray(M.encodings))throw new TypeError("params.encodings is not an array");M.encodings||(M.encodings=[]);for(const B of M.encodings)L(B);if(M.rtcp&&typeof M.rtcp!="object")throw new TypeError("params.rtcp is not an object");M.rtcp||(M.rtcp={}),N(M.rtcp)}function m(M){if(typeof M!="object")throw new TypeError("params is not an object");if(typeof M.streamId!="number")throw new TypeError("missing params.streamId");let B=!1;if(typeof M.ordered=="boolean"?B=!0:M.ordered=!0,M.maxPacketLifeTime&&typeof M.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(M.maxRetransmits&&typeof M.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(M.maxPacketLifeTime&&M.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(B&&M.ordered&&(M.maxPacketLifeTime||M.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!B&&(M.maxPacketLifeTime||M.maxRetransmits)&&(M.ordered=!1),M.label&&typeof M.label!="string")throw new TypeError("invalid params.label");if(M.protocol&&typeof M.protocol!="string")throw new TypeError("invalid params.protocol")}function v(M){if(typeof M!="object")throw new TypeError("caps is not an object");if(!M.numStreams||typeof M.numStreams!="object")throw new TypeError("missing caps.numStreams");A(M.numStreams)}function g(M,B){const $={codecs:[],headerExtensions:[]};for(const F of B.codecs??[]){if(O(F))continue;const H=(M.codecs??[]).find(G=>V(G,F,{strict:!0,modify:!0}));if(!H)continue;const U={mimeType:H.mimeType,kind:H.kind,clockRate:H.clockRate,channels:H.channels,localPayloadType:H.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:F.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:H.parameters,remoteParameters:F.parameters,rtcpFeedback:X(H,F)};$.codecs.push(U)}for(const F of $.codecs){const H=M.codecs.find(G=>O(G)&&G.parameters.apt===F.localPayloadType),U=B.codecs.find(G=>O(G)&&G.parameters.apt===F.remotePayloadType);H&&U&&(F.localRtxPayloadType=H.preferredPayloadType,F.remoteRtxPayloadType=U.preferredPayloadType)}for(const F of B.headerExtensions){const H=M.headerExtensions.find(G=>W(G,F));if(!H)continue;const U={kind:F.kind,uri:F.uri,sendId:H.preferredId,recvId:F.preferredId,encrypt:H.preferredEncrypt,direction:"sendrecv"};switch(F.direction){case"sendrecv":{U.direction="sendrecv";break}case"recvonly":{U.direction="sendonly";break}case"sendonly":{U.direction="recvonly";break}case"inactive":{U.direction="inactive";break}}$.headerExtensions.push(U)}return $}function w(M){const B={codecs:[],headerExtensions:[]};for(const $ of M.codecs){const F={mimeType:$.mimeType,kind:$.kind,preferredPayloadType:$.remotePayloadType,clockRate:$.clockRate,channels:$.channels,parameters:$.localParameters,rtcpFeedback:$.rtcpFeedback};if(B.codecs.push(F),!$.remoteRtxPayloadType)continue;const H={mimeType:`${$.kind}/rtx`,kind:$.kind,preferredPayloadType:$.remoteRtxPayloadType,clockRate:$.clockRate,parameters:{apt:$.remotePayloadType},rtcpFeedback:[]};B.codecs.push(H)}for(const $ of M.headerExtensions){if($.direction!=="sendrecv"&&$.direction!=="recvonly")continue;const F={kind:$.kind,uri:$.uri,preferredId:$.recvId,preferredEncrypt:$.encrypt,direction:$.direction};B.headerExtensions.push(F)}return B}function b(M,B){const $={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const F of B.codecs){if(F.kind!==M)continue;const H={mimeType:F.mimeType,payloadType:F.localPayloadType,clockRate:F.clockRate,channels:F.channels,parameters:F.localParameters,rtcpFeedback:F.rtcpFeedback};if($.codecs.push(H),F.localRtxPayloadType){const U={mimeType:`${F.kind}/rtx`,payloadType:F.localRtxPayloadType,clockRate:F.clockRate,parameters:{apt:F.localPayloadType},rtcpFeedback:[]};$.codecs.push(U)}}for(const F of B.headerExtensions){if(F.kind&&F.kind!==M||F.direction!=="sendrecv"&&F.direction!=="sendonly")continue;const H={uri:F.uri,id:F.sendId,encrypt:F.encrypt,parameters:{}};$.headerExtensions.push(H)}return $}function E(M,B){const $={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const F of B.codecs){if(F.kind!==M)continue;const H={mimeType:F.mimeType,payloadType:F.localPayloadType,clockRate:F.clockRate,channels:F.channels,parameters:F.remoteParameters,rtcpFeedback:F.rtcpFeedback};if($.codecs.push(H),F.localRtxPayloadType){const U={mimeType:`${F.kind}/rtx`,payloadType:F.localRtxPayloadType,clockRate:F.clockRate,parameters:{apt:F.localPayloadType},rtcpFeedback:[]};$.codecs.push(U)}}for(const F of B.headerExtensions){if(F.kind&&F.kind!==M||F.direction!=="sendrecv"&&F.direction!=="sendonly")continue;const H={uri:F.uri,id:F.sendId,encrypt:F.encrypt,parameters:{}};$.headerExtensions.push(H)}if($.headerExtensions.some(F=>F.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const F of $.codecs)F.rtcpFeedback=(F.rtcpFeedback??[]).filter(H=>H.type!=="goog-remb");else if($.headerExtensions.some(F=>F.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const F of $.codecs)F.rtcpFeedback=(F.rtcpFeedback??[]).filter(H=>H.type!=="transport-cc");else for(const F of $.codecs)F.rtcpFeedback=(F.rtcpFeedback??[]).filter(H=>H.type!=="transport-cc"&&H.type!=="goog-remb");return $}function R(M,B){const $=[];if(!B)$.push(M[0]),O(M[1])&&$.push(M[1]);else{for(let F=0;F<M.length;++F)if(V(M[F],B,{strict:!0})){$.push(M[F]),O(M[F+1])&&$.push(M[F+1]);break}if($.length===0)throw new TypeError("no matching codec found")}return $}function T(M){M=o.clone(M),f(M);const B={mid:a,codecs:[],headerExtensions:[],encodings:[{ssrc:c}],rtcp:{cname:"probator"}};return B.codecs.push(M.codecs[0]),B.codecs[0].payloadType=l,B.headerExtensions=M.headerExtensions,B}function x(M,B){return B.codecs.some($=>$.kind===M)}function p(M,B){if(f(M),M.codecs.length===0)return!1;const $=M.codecs[0];return B.codecs.some(F=>F.remotePayloadType===$.payloadType)}function h(M){const B=new RegExp("^(audio|video)/(.+)","i");if(typeof M!="object")throw new TypeError("codec is not an object");if(!M.mimeType||typeof M.mimeType!="string")throw new TypeError("missing codec.mimeType");const $=B.exec(M.mimeType);if(!$)throw new TypeError("invalid codec.mimeType");if(M.kind=$[1].toLowerCase(),M.preferredPayloadType&&typeof M.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof M.clockRate!="number")throw new TypeError("missing codec.clockRate");M.kind==="audio"?typeof M.channels!="number"&&(M.channels=1):delete M.channels,(!M.parameters||typeof M.parameters!="object")&&(M.parameters={});for(const F of Object.keys(M.parameters)){let H=M.parameters[F];if(H===void 0&&(M.parameters[F]="",H=""),typeof H!="string"&&typeof H!="number")throw new TypeError(`invalid codec parameter [key:${F}s, value:${H}]`);if(F==="apt"&&typeof H!="number")throw new TypeError("invalid codec apt parameter")}(!M.rtcpFeedback||!Array.isArray(M.rtcpFeedback))&&(M.rtcpFeedback=[]);for(const F of M.rtcpFeedback)S(F)}function S(M){if(typeof M!="object")throw new TypeError("fb is not an object");if(!M.type||typeof M.type!="string")throw new TypeError("missing fb.type");(!M.parameter||typeof M.parameter!="string")&&(M.parameter="")}function C(M){if(typeof M!="object")throw new TypeError("ext is not an object");if(M.kind!=="audio"&&M.kind!=="video")throw new TypeError("invalid ext.kind");if(!M.uri||typeof M.uri!="string")throw new TypeError("missing ext.uri");if(typeof M.preferredId!="number")throw new TypeError("missing ext.preferredId");if(M.preferredEncrypt&&typeof M.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(M.preferredEncrypt||(M.preferredEncrypt=!1),M.direction&&typeof M.direction!="string")throw new TypeError("invalid ext.direction");M.direction||(M.direction="sendrecv")}function D(M){const B=new RegExp("^(audio|video)/(.+)","i");if(typeof M!="object")throw new TypeError("codec is not an object");if(!M.mimeType||typeof M.mimeType!="string")throw new TypeError("missing codec.mimeType");const $=B.exec(M.mimeType);if(!$)throw new TypeError("invalid codec.mimeType");if(typeof M.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof M.clockRate!="number")throw new TypeError("missing codec.clockRate");$[1].toLowerCase()==="audio"?typeof M.channels!="number"&&(M.channels=1):delete M.channels,(!M.parameters||typeof M.parameters!="object")&&(M.parameters={});for(const H of Object.keys(M.parameters)){let U=M.parameters[H];if(U===void 0&&(M.parameters[H]="",U=""),typeof U!="string"&&typeof U!="number")throw new TypeError(`invalid codec parameter [key:${H}s, value:${U}]`);if(H==="apt"&&typeof U!="number")throw new TypeError("invalid codec apt parameter")}(!M.rtcpFeedback||!Array.isArray(M.rtcpFeedback))&&(M.rtcpFeedback=[]);for(const H of M.rtcpFeedback)S(H)}function j(M){if(typeof M!="object")throw new TypeError("ext is not an object");if(!M.uri||typeof M.uri!="string")throw new TypeError("missing ext.uri");if(typeof M.id!="number")throw new TypeError("missing ext.id");if(M.encrypt&&typeof M.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");M.encrypt||(M.encrypt=!1),(!M.parameters||typeof M.parameters!="object")&&(M.parameters={});for(const B of Object.keys(M.parameters)){let $=M.parameters[B];if($===void 0&&(M.parameters[B]="",$=""),typeof $!="string"&&typeof $!="number")throw new TypeError("invalid header extension parameter")}}function L(M){if(typeof M!="object")throw new TypeError("encoding is not an object");if(M.ssrc&&typeof M.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(M.rid&&typeof M.rid!="string")throw new TypeError("invalid encoding.rid");if(M.rtx&&typeof M.rtx!="object")throw new TypeError("invalid encoding.rtx");if(M.rtx&&typeof M.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!M.dtx||typeof M.dtx!="boolean")&&(M.dtx=!1),M.scalabilityMode&&typeof M.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function N(M){if(typeof M!="object")throw new TypeError("rtcp is not an object");if(M.cname&&typeof M.cname!="string")throw new TypeError("invalid rtcp.cname");(!M.reducedSize||typeof M.reducedSize!="boolean")&&(M.reducedSize=!0)}function A(M){if(typeof M!="object")throw new TypeError("numStreams is not an object");if(typeof M.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof M.MIS!="number")throw new TypeError("missing numStreams.MIS")}function O(M){return M?/.+\/rtx$/i.test(M.mimeType):!1}function V(M,B,{strict:$=!1,modify:F=!1}={}){const H=M.mimeType.toLowerCase(),U=B.mimeType.toLowerCase();if(H!==U||M.clockRate!==B.clockRate||M.channels!==B.channels)return!1;switch(H){case"video/h264":{if($){const G=M.parameters["packetization-mode"]||0,ne=B.parameters["packetization-mode"]||0;if(G!==ne||!n.isSameProfile(M.parameters,B.parameters))return!1;let ue;try{ue=n.generateProfileLevelIdStringForAnswer(M.parameters,B.parameters)}catch{return!1}F&&(ue?(M.parameters["profile-level-id"]=ue,B.parameters["profile-level-id"]=ue):(delete M.parameters["profile-level-id"],delete B.parameters["profile-level-id"]))}break}case"video/vp9":{if($){const G=M.parameters["profile-id"]||0,ne=B.parameters["profile-id"]||0;if(G!==ne)return!1}break}}return!0}function W(M,B){return!(M.kind&&B.kind&&M.kind!==B.kind||M.uri!==B.uri)}function X(M,B){const $=[];for(const F of M.rtcpFeedback??[]){const H=(B.rtcpFeedback??[]).find(U=>U.type===F.type&&(U.parameter===F.parameter||!U.parameter&&!F.parameter));H&&$.push(H)}return $}return jt}var Ar={},gs={},nc={},U0;function d4(){if(U0)return nc;U0=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.Logger=void 0;const e=Tf(),t="awaitqueue";let r=class{constructor(o){o?(this._debug=(0,e.default)(`${t}:${o}`),this._warn=(0,e.default)(`${t}:WARN:${o}`),this._error=(0,e.default)(`${t}:ERROR:${o}`)):(this._debug=(0,e.default)(t),this._warn=(0,e.default)(`${t}:WARN`),this._error=(0,e.default)(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};return nc.Logger=r,nc}var V0;function f4(){if(V0)return gs;V0=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.AwaitQueue=gs.AwaitQueueRemovedTaskError=gs.AwaitQueueStoppedError=void 0;const e=d4(),t=new e.Logger;class r extends Error{constructor(c){super(c??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,r)}}gs.AwaitQueueStoppedError=r;class n extends Error{constructor(c){super(c??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,n)}}gs.AwaitQueueRemovedTaskError=n;class o{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(c,l){if(l=l??c.name,t.debug(`push() [name:${l}]`),typeof c!="function")throw new TypeError("given task is not a function");if(l)try{Object.defineProperty(c,"name",{value:l})}catch{}return new Promise((d,f)=>{const m={id:this.nextTaskId++,task:c,name:l,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:v=>{if(m.completed)return;m.completed=!0,this.pendingTasks.delete(m.id),t.debug(`resolving task [name:${m.name}]`),d(v);const[g]=this.pendingTasks.values();g&&!g.executedAt&&this.execute(g)},reject:v=>{if(!m.completed&&(m.completed=!0,this.pendingTasks.delete(m.id),t.debug(`rejecting task [name:${m.name}]: %s`,String(v)),f(v),!this.stopping)){const[g]=this.pendingTasks.values();g&&!g.executedAt&&this.execute(g)}}};this.pendingTasks.set(m.id,m),this.pendingTasks.size===1&&this.execute(m)})}stop(){t.debug("stop()"),this.stopping=!0;for(const c of this.pendingTasks.values())t.debug(`stop() | stopping task [name:${c.name}]`),c.reject(new r);this.stopping=!1}remove(c){t.debug(`remove() [taskIdx:${c}]`);const l=Array.from(this.pendingTasks.values())[c];if(!l){t.debug(`stop() | no task with given idx [taskIdx:${c}]`);return}l.reject(new n)}dump(){const c=Date.now();let l=0;return Array.from(this.pendingTasks.values()).map(d=>({idx:l++,task:d.task,name:d.name,enqueuedTime:d.executedAt?d.executedAt-d.enqueuedAt:c-d.enqueuedAt,executionTime:d.executedAt?c-d.executedAt:0}))}async execute(c){if(t.debug(`execute() [name:${c.name}]`),c.executedAt)throw new Error("task already being executed");c.executedAt=Date.now();try{const l=await c.task();c.resolve(l)}catch(l){c.reject(l)}}}return gs.AwaitQueue=o,gs}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var dm,H0;function p4(){if(H0)return dm;H0=1;let e;return dm=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:sk):t=>(e||(e=Promise.resolve())).then(t).catch(r=>setTimeout(()=>{throw r},0)),dm}var sc={},W0;function aR(){if(W0)return sc;W0=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.Producer=void 0;const e=At(),t=ri(),r=vr(),n=new e.Logger("Producer");let o=class extends t.EnhancedEventEmitter{constructor({id:c,localId:l,rtpSender:d,track:f,rtpParameters:m,stopTracks:v,disableTrackOnPause:g,zeroRtpOnPause:w,appData:b}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._localId=l,this._rtpSender=d,this._track=f,this._kind=f.kind,this._rtpParameters=m,this._paused=g?!f.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=v,this._disableTrackOnPause=g,this._zeroRtpOnPause=w,this._appData=b??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,l)=>{this.safeEmit("@getstats",c,l)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((c,l)=>{this.safeEmit("@pause",c,l)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((c,l)=>{this.safeEmit("@resume",c,l)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:c}){if(n.debug("replaceTrack() [track:%o]",c),this._closed){if(c&&this._stopTracks)try{c.stop()}catch{}throw new r.InvalidStateError("closed")}else if(c&&c.readyState==="ended")throw new r.InvalidStateError("track ended");if(c===this._track){n.debug("replaceTrack() | same track, ignored");return}await new Promise((l,d)=>{this.safeEmit("@replacetrack",c,l,d)}),this.destroyTrack(),this._track=c,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(c){if(this._closed)throw new r.InvalidStateError("closed");if(this._kind!=="video")throw new r.UnsupportedError("not a video Producer");if(typeof c!="number")throw new TypeError("invalid spatialLayer");c!==this._maxSpatialLayer&&(await new Promise((l,d)=>{this.safeEmit("@setmaxspatiallayer",c,l,d)}).catch(()=>{}),this._maxSpatialLayer=c)}async setRtpEncodingParameters(c){if(this._closed)throw new r.InvalidStateError("closed");if(typeof c!="object")throw new TypeError("invalid params");await new Promise((l,d)=>{this.safeEmit("@setrtpencodingparameters",c,l,d)})}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}};return sc.Producer=o,sc}var oc={},q0;function cR(){if(q0)return oc;q0=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.Consumer=void 0;const e=At(),t=ri(),r=vr(),n=new e.Logger("Consumer");let o=class extends t.EnhancedEventEmitter{constructor({id:c,localId:l,producerId:d,rtpReceiver:f,track:m,rtpParameters:v,appData:g}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._localId=l,this._producerId=d,this._rtpReceiver=f,this._track=m,this._rtpParameters=v,this._paused=!m.enabled,this._appData=g??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new r.InvalidStateError("closed");return new Promise((c,l)=>{this.safeEmit("@getstats",c,l)})}pause(){if(n.debug("pause()"),this._closed){n.error("pause() | Consumer closed");return}if(this._paused){n.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(n.debug("resume()"),this._closed){n.error("resume() | Consumer closed");return}if(!this._paused){n.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){n.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}};return oc.Consumer=o,oc}var ic={},G0;function lR(){if(G0)return ic;G0=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.DataProducer=void 0;const e=At(),t=ri(),r=vr(),n=new e.Logger("DataProducer");let o=class extends t.EnhancedEventEmitter{constructor({id:c,dataChannel:l,sctpStreamParameters:d,appData:f}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,n.debug("constructor()"),this._id=c,this._dataChannel=l,this._sctpStreamParameters=d,this._appData=f??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(c){this._dataChannel.bufferedAmountLowThreshold=c}get appData(){return this._appData}set appData(c){this._appData=c}get observer(){return this._observer}close(){this._closed||(n.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(n.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(c){if(n.debug("send()"),this._closed)throw new r.InvalidStateError("closed");this._dataChannel.send(c)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(n.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",c=>{if(this._closed)return;let{error:l}=c;l||(l=new Error("unknown DataChannel error")),l.errorDetail==="sctp-failure"?n.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",l.sctpCauseCode,l.message):n.error('DataChannel "error" event: %o',l),this.safeEmit("error",l)}),this._dataChannel.addEventListener("close",()=>{this._closed||(n.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||n.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}};return ic.DataProducer=o,ic}var ac={},K0;function uR(){if(K0)return ac;K0=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.DataConsumer=void 0;const e=At(),t=ri(),r=new e.Logger("DataConsumer");let n=class extends t.EnhancedEventEmitter{constructor({id:a,dataProducerId:c,dataChannel:l,sctpStreamParameters:d,appData:f}){super(),this._closed=!1,this._observer=new t.EnhancedEventEmitter,r.debug("constructor()"),this._id=a,this._dataProducerId=c,this._dataChannel=l,this._sctpStreamParameters=d,this._appData=f??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(a){this._dataChannel.binaryType=a}get appData(){return this._appData}set appData(a){this._appData=a}get observer(){return this._observer}close(){this._closed||(r.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(r.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(r.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",a=>{if(this._closed)return;let{error:c}=a;c||(c=new Error("unknown DataChannel error")),c.errorDetail==="sctp-failure"?r.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",c.sctpCauseCode,c.message):r.error('DataChannel "error" event: %o',c),this.safeEmit("error",c)}),this._dataChannel.addEventListener("close",()=>{this._closed||(r.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",a=>{this._closed||this.safeEmit("message",a.data)})}};return ac.DataConsumer=n,ac}var X0;function dR(){if(X0)return Ar;X0=1;var e=Ar&&Ar.__createBinding||(Object.create?function(x,p,h,S){S===void 0&&(S=h);var C=Object.getOwnPropertyDescriptor(p,h);(!C||("get"in C?!p.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(x,S,C)}:function(x,p,h,S){S===void 0&&(S=h),x[S]=p[h]}),t=Ar&&Ar.__setModuleDefault||(Object.create?function(x,p){Object.defineProperty(x,"default",{enumerable:!0,value:p})}:function(x,p){x.default=p}),r=Ar&&Ar.__importStar||function(x){if(x&&x.__esModule)return x;var p={};if(x!=null)for(var h in x)h!=="default"&&Object.prototype.hasOwnProperty.call(x,h)&&e(p,x,h);return t(p,x),p},n=Ar&&Ar.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.Transport=void 0;const o=f4(),a=n(p4()),c=At(),l=ri(),d=vr(),f=r(tr()),m=r(jr()),v=aR(),g=cR(),w=lR(),b=uR(),E=new c.Logger("Transport");class R{constructor(p){this.consumerOptions=p,this.promise=new Promise((h,S)=>{this.resolve=h,this.reject=S})}}let T=class extends l.EnhancedEventEmitter{constructor({direction:p,id:h,iceParameters:S,iceCandidates:C,dtlsParameters:D,sctpParameters:j,iceServers:L,iceTransportPolicy:N,additionalSettings:A,proprietaryConstraints:O,appData:V,handlerFactory:W,extendedRtpCapabilities:X,canProduceByKind:M}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new o.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new l.EnhancedEventEmitter,E.debug("constructor() [id:%s, direction:%s]",h,p),this._id=h,this._direction=p,this._extendedRtpCapabilities=X,this._canProduceByKind=M,this._maxSctpMessageSize=j?j.maxMessageSize:null;const B=f.clone(A)??{};delete B.iceServers,delete B.iceTransportPolicy,delete B.bundlePolicy,delete B.rtcpMuxPolicy,delete B.sdpSemantics,this._handler=W(),this._handler.run({direction:p,iceParameters:S,iceCandidates:C,dtlsParameters:D,sctpParameters:j,iceServers:L,iceTransportPolicy:N,additionalSettings:B,proprietaryConstraints:O,extendedRtpCapabilities:X}),this._appData=V??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(p){this._appData=p}get observer(){return this._observer}close(){if(!this._closed){E.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const p of this._producers.values())p.transportClosed();this._producers.clear();for(const p of this._consumers.values())p.transportClosed();this._consumers.clear();for(const p of this._dataProducers.values())p.transportClosed();this._dataProducers.clear();for(const p of this._dataConsumers.values())p.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new d.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:p}){if(E.debug("restartIce()"),this._closed)throw new d.InvalidStateError("closed");if(!p)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(p),"transport.restartIce()")}async updateIceServers({iceServers:p}={}){if(E.debug("updateIceServers()"),this._closed)throw new d.InvalidStateError("closed");if(!Array.isArray(p))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(p),"transport.updateIceServers()")}async produce({track:p,encodings:h,codecOptions:S,codec:C,stopTracks:D=!0,disableTrackOnPause:j=!0,zeroRtpOnPause:L=!1,onRtpSender:N,appData:A={}}={}){if(E.debug("produce() [track:%o]",p),this._closed)throw new d.InvalidStateError("closed");if(p){if(this._direction!=="send")throw new d.UnsupportedError("not a sending Transport");if(this._canProduceByKind[p.kind]){if(p.readyState==="ended")throw new d.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(A&&typeof A!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError(`cannot produce ${p.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let O;if(h&&!Array.isArray(h))throw TypeError("encodings must be an array");h&&h.length===0?O=void 0:h&&(O=h.map(M=>{const B={active:!0};return M.active===!1&&(B.active=!1),typeof M.dtx=="boolean"&&(B.dtx=M.dtx),typeof M.scalabilityMode=="string"&&(B.scalabilityMode=M.scalabilityMode),typeof M.scaleResolutionDownBy=="number"&&(B.scaleResolutionDownBy=M.scaleResolutionDownBy),typeof M.maxBitrate=="number"&&(B.maxBitrate=M.maxBitrate),typeof M.maxFramerate=="number"&&(B.maxFramerate=M.maxFramerate),typeof M.adaptivePtime=="boolean"&&(B.adaptivePtime=M.adaptivePtime),typeof M.priority=="string"&&(B.priority=M.priority),typeof M.networkPriority=="string"&&(B.networkPriority=M.networkPriority),B}));const{localId:V,rtpParameters:W,rtpSender:X}=await this._handler.send({track:p,encodings:O,codecOptions:S,codec:C,onRtpSender:N});try{m.validateRtpParameters(W);const{id:M}=await new Promise(($,F)=>{this.safeEmit("produce",{kind:p.kind,rtpParameters:W,appData:A},$,F)}),B=new v.Producer({id:M,localId:V,rtpSender:X,track:p,rtpParameters:W,stopTracks:D,disableTrackOnPause:j,zeroRtpOnPause:L,appData:A});return this._producers.set(B.id,B),this.handleProducer(B),this._observer.safeEmit("newproducer",B),B}catch(M){throw this._handler.stopSending(V).catch(()=>{}),M}},"transport.produce()").catch(O=>{if(D)try{p.stop()}catch{}throw O})}async consume({id:p,producerId:h,kind:S,rtpParameters:C,streamId:D,onRtpReceiver:j,appData:L={}}){if(E.debug("consume()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="recv")throw new d.UnsupportedError("not a receiving Transport");if(typeof p!="string")throw new TypeError("missing id");if(typeof h!="string")throw new TypeError("missing producerId");if(S!=="audio"&&S!=="video")throw new TypeError(`invalid kind '${S}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(L&&typeof L!="object")throw new TypeError("if given, appData must be an object");const N=f.clone(C);if(!m.canReceive(N,this._extendedRtpCapabilities))throw new d.UnsupportedError("cannot consume this Producer");const O=new R({id:p,producerId:h,kind:S,rtpParameters:N,streamId:D,onRtpReceiver:j,appData:L});return this._pendingConsumerTasks.push(O),(0,a.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),O.promise}async produceData({ordered:p=!0,maxPacketLifeTime:h,maxRetransmits:S,label:C="",protocol:D="",appData:j={}}={}){if(E.debug("produceData()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="send")throw new d.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(j&&typeof j!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError("SCTP not enabled by remote Transport");return(h||S)&&(p=!1),this._awaitQueue.push(async()=>{const{dataChannel:L,sctpStreamParameters:N}=await this._handler.sendDataChannel({ordered:p,maxPacketLifeTime:h,maxRetransmits:S,label:C,protocol:D});m.validateSctpStreamParameters(N);const{id:A}=await new Promise((V,W)=>{this.safeEmit("producedata",{sctpStreamParameters:N,label:C,protocol:D,appData:j},V,W)}),O=new w.DataProducer({id:A,dataChannel:L,sctpStreamParameters:N,appData:j});return this._dataProducers.set(O.id,O),this.handleDataProducer(O),this._observer.safeEmit("newdataproducer",O),O},"transport.produceData()")}async consumeData({id:p,dataProducerId:h,sctpStreamParameters:S,label:C="",protocol:D="",appData:j={}}){if(E.debug("consumeData()"),this._closed)throw new d.InvalidStateError("closed");if(this._direction!=="recv")throw new d.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof p!="string")throw new TypeError("missing id");if(typeof h!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(j&&typeof j!="object")throw new TypeError("if given, appData must be an object")}else throw new d.UnsupportedError("SCTP not enabled by remote Transport");const L=f.clone(S);return m.validateSctpStreamParameters(L),this._awaitQueue.push(async()=>{const{dataChannel:N}=await this._handler.receiveDataChannel({sctpStreamParameters:L,label:C,protocol:D}),A=new b.DataConsumer({id:p,dataProducerId:h,dataChannel:N,sctpStreamParameters:L,appData:j});return this._dataConsumers.set(A.id,A),this.handleDataConsumer(A),this._observer.safeEmit("newdataconsumer",A),A},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){E.debug("createPendingConsumers() | there is no Consumer to be created");return}const p=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let h;const S=[];for(const C of p){const{id:D,kind:j,rtpParameters:L,streamId:N,onRtpReceiver:A}=C.consumerOptions;S.push({trackId:D,kind:j,rtpParameters:L,streamId:N,onRtpReceiver:A})}try{const C=await this._handler.receive(S);for(let D=0;D<C.length;++D){const j=p[D],L=C[D],{id:N,producerId:A,kind:O,rtpParameters:V,appData:W}=j.consumerOptions,{localId:X,rtpReceiver:M,track:B}=L,$=new g.Consumer({id:N,localId:X,producerId:A,rtpReceiver:M,track:B,rtpParameters:V,appData:W});this._consumers.set($.id,$),this.handleConsumer($),!this._probatorConsumerCreated&&!h&&O==="video"&&(h=$),this._observer.safeEmit("newconsumer",$),j.resolve($)}}catch(C){for(const D of p)D.reject(C)}if(h)try{const C=m.generateProbatorRtpParameters(h.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:C}]),E.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(C){E.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",C)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){E.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const p=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const h=p.map(S=>S.localId);await this._handler.pauseReceiving(h)}catch(h){E.error("pausePendingConsumers() | failed to pause Consumers:",h)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){E.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const p=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const h=p.map(S=>S.localId);await this._handler.resumeReceiving(h)}catch(h){E.error("resumePendingConsumers() | failed to resume Consumers:",h)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){E.debug("closePendingConsumers() | there is no Consumer to be closed");return}const p=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(p.map(h=>h.localId))}catch(h){E.error("closePendingConsumers() | failed to close Consumers:",h)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const p=this._handler;p.on("@connect",({dtlsParameters:h},S,C)=>{if(this._closed){C(new d.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:h},S,C)}),p.on("@icegatheringstatechange",h=>{h!==this._iceGatheringState&&(E.debug("ICE gathering state changed to %s",h),this._iceGatheringState=h,this._closed||this.safeEmit("icegatheringstatechange",h))}),p.on("@connectionstatechange",h=>{h!==this._connectionState&&(E.debug("connection state changed to %s",h),this._connectionState=h,this._closed||this.safeEmit("connectionstatechange",h))})}handleProducer(p){p.on("@close",()=>{this._producers.delete(p.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(p.localId),"producer @close event").catch(h=>E.warn("producer.close() failed:%o",h))}),p.on("@pause",(h,S)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(p.localId),"producer @pause event").then(h).catch(S)}),p.on("@resume",(h,S)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(p.localId),"producer @resume event").then(h).catch(S)}),p.on("@replacetrack",(h,S,C)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(p.localId,h),"producer @replacetrack event").then(S).catch(C)}),p.on("@setmaxspatiallayer",(h,S,C)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(p.localId,h),"producer @setmaxspatiallayer event").then(S).catch(C)}),p.on("@setrtpencodingparameters",(h,S,C)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(p.localId,h),"producer @setrtpencodingparameters event").then(S).catch(C)}),p.on("@getstats",(h,S)=>{if(this._closed)return S(new d.InvalidStateError("closed"));this._handler.getSenderStats(p.localId).then(h).catch(S)})}handleConsumer(p){p.on("@close",()=>{this._consumers.delete(p.id),this._pendingPauseConsumers.delete(p.id),this._pendingResumeConsumers.delete(p.id),!this._closed&&(this._pendingCloseConsumers.set(p.id,p),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),p.on("@pause",()=>{this._pendingResumeConsumers.has(p.id)&&this._pendingResumeConsumers.delete(p.id),this._pendingPauseConsumers.set(p.id,p),(0,a.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),p.on("@resume",()=>{this._pendingPauseConsumers.has(p.id)&&this._pendingPauseConsumers.delete(p.id),this._pendingResumeConsumers.set(p.id,p),(0,a.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),p.on("@getstats",(h,S)=>{if(this._closed)return S(new d.InvalidStateError("closed"));this._handler.getReceiverStats(p.localId).then(h).catch(S)})}handleDataProducer(p){p.on("@close",()=>{this._dataProducers.delete(p.id)})}handleDataConsumer(p){p.on("@close",()=>{this._dataConsumers.delete(p.id)})}};return Ar.Transport=T,Ar}var vn={},Xn={},fm={},pm={exports:{}},Y0;function fR(){if(Y0)return pm.exports;Y0=1;var e=pm.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var r="candidate:%s %d %s %d %s %d typ %s";return r+=t.raddr!=null?" raddr %s rport %d":"%v%v",r+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(r+=" generation %d"),r+=t["network-id"]!=null?" network-id %d":"%v",r+=t["network-cost"]!=null?" network-cost %d":"%v",r}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var r="ssrc:%d";return t.attribute!=null&&(r+=" %s",t.value!=null&&(r+=":%s")),r}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var r="mediaclk:";return r+=t.id!=null?"id=%s %s":"%v%s",r+=t.mediaClockValue!=null?"=%s":"",r+=t.rateNumerator!=null?" rate=%s":"",r+=t.rateDenominator!=null?"/%s":"",r}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var r=e[t];r.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})}),pm.exports}var Q0;function h4(){return Q0||(Q0=1,function(e){var t=function(l){return String(Number(l))===l?Number(l):l},r=function(l,d,f,m){if(m&&!f)d[m]=t(l[1]);else for(var v=0;v<f.length;v+=1)l[v+1]!=null&&(d[f[v]]=t(l[v+1]))},n=function(l,d,f){var m=l.name&&l.names;l.push&&!d[l.push]?d[l.push]=[]:m&&!d[l.name]&&(d[l.name]={});var v=l.push?{}:m?d[l.name]:d;r(f.match(l.reg),v,l.names,l.name),l.push&&d[l.push].push(v)},o=fR(),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(l){var d={},f=[],m=d;return l.split(/(\r\n|\r|\n)/).filter(a).forEach(function(v){var g=v[0],w=v.slice(2);g==="m"&&(f.push({rtp:[],fmtp:[]}),m=f[f.length-1]);for(var b=0;b<(o[g]||[]).length;b+=1){var E=o[g][b];if(E.reg.test(w))return n(E,m,w)}}),d.media=f,d};var c=function(l,d){var f=d.split(/=(.+)/,2);return f.length===2?l[f[0]]=t(f[1]):f.length===1&&d.length>1&&(l[f[0]]=void 0),l};e.parseParams=function(l){return l.split(/;\s?/).reduce(c,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(l){return l.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(l){for(var d=[],f=l.split(" ").map(t),m=0;m<f.length;m+=3)d.push({component:f[m],ip:f[m+1],port:f[m+2]});return d},e.parseImageAttributes=function(l){return l.split(" ").map(function(d){return d.substring(1,d.length-1).split(",").reduce(c,{})})},e.parseSimulcastStreamList=function(l){return l.split(";").map(function(d){return d.split(",").map(function(f){var m,v=!1;return f[0]!=="~"?m=t(f):(m=t(f.substring(1,f.length)),v=!0),{scid:m,paused:v}})})}}(fm)),fm}var hm,J0;function m4(){if(J0)return hm;J0=1;var e=fR(),t=/%[sdv%]/g,r=function(c){var l=1,d=arguments,f=d.length;return c.replace(t,function(m){if(l>=f)return m;var v=d[l];switch(l+=1,m){case"%%":return"%";case"%s":return String(v);case"%d":return Number(v);case"%v":return""}})},n=function(c,l,d){var f=l.format instanceof Function?l.format(l.push?d:d[l.name]):l.format,m=[c+"="+f];if(l.names)for(var v=0;v<l.names.length;v+=1){var g=l.names[v];l.name?m.push(d[l.name][g]):m.push(d[l.names[v]])}else m.push(d[l.name]);return r.apply(null,m)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],a=["i","c","b","a"];return hm=function(c,l){l=l||{},c.version==null&&(c.version=0),c.name==null&&(c.name=" "),c.media.forEach(function(v){v.payloads==null&&(v.payloads="")});var d=l.outerOrder||o,f=l.innerOrder||a,m=[];return d.forEach(function(v){e[v].forEach(function(g){g.name in c&&c[g.name]!=null?m.push(n(v,g,c)):g.push in c&&c[g.push]!=null&&c[g.push].forEach(function(w){m.push(n(v,g,w))})})}),c.media.forEach(function(v){m.push(n("m",e.m[0],v)),f.forEach(function(g){e[g].forEach(function(w){w.name in v&&v[w.name]!=null?m.push(n(g,w,v)):w.push in v&&v[w.push]!=null&&v[w.push].forEach(function(b){m.push(n(g,w,b))})})})}),m.join(`\r
`)+`\r
`},hm}var Z0;function Ir(){if(Z0)return Xn;Z0=1;var e=h4(),t=m4();return Xn.write=t,Xn.parse=e.parse,Xn.parseParams=e.parseParams,Xn.parseFmtpConfig=e.parseFmtpConfig,Xn.parsePayloads=e.parsePayloads,Xn.parseRemoteCandidates=e.parseRemoteCandidates,Xn.parseImageAttributes=e.parseImageAttributes,Xn.parseSimulcastStreamList=e.parseSimulcastStreamList,Xn}var $r={},e_;function Un(){if(e_)return $r;e_=1;var e=$r&&$r.__createBinding||(Object.create?function(d,f,m,v){v===void 0&&(v=m);var g=Object.getOwnPropertyDescriptor(f,m);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[m]}}),Object.defineProperty(d,v,g)}:function(d,f,m,v){v===void 0&&(v=m),d[v]=f[m]}),t=$r&&$r.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),r=$r&&$r.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var m in d)m!=="default"&&Object.prototype.hasOwnProperty.call(d,m)&&e(f,d,m);return t(f,d),f};Object.defineProperty($r,"__esModule",{value:!0}),$r.extractRtpCapabilities=o,$r.extractDtlsParameters=a,$r.getCname=c,$r.applyCodecParameters=l;const n=r(Ir());function o({sdpObject:d}){const f=new Map,m=[];let v=!1,g=!1;for(const b of d.media){const E=b.type;switch(E){case"audio":{if(v)continue;v=!0;break}case"video":{if(g)continue;g=!0;break}default:continue}for(const R of b.rtp){const T={kind:E,mimeType:`${E}/${R.codec}`,preferredPayloadType:R.payload,clockRate:R.rate,channels:R.encoding,parameters:{},rtcpFeedback:[]};f.set(T.preferredPayloadType,T)}for(const R of b.fmtp||[]){const T=n.parseParams(R.config),x=f.get(R.payload);x&&(T!=null&&T.hasOwnProperty("profile-level-id")&&(T["profile-level-id"]=String(T["profile-level-id"])),x.parameters=T)}for(const R of b.rtcpFb||[]){const T={type:R.type,parameter:R.subtype};if(T.parameter||delete T.parameter,R.payload!=="*"){const x=f.get(R.payload);if(!x)continue;x.rtcpFeedback.push(T)}else for(const x of f.values())x.kind===E&&!/.+\/rtx$/i.test(x.mimeType)&&x.rtcpFeedback.push(T)}for(const R of b.ext||[]){if(R["encrypt-uri"])continue;const T={kind:E,uri:R.uri,preferredId:R.value};m.push(T)}}return{codecs:Array.from(f.values()),headerExtensions:m}}function a({sdpObject:d}){let f=d.setup,m=d.fingerprint;if(!f||!m){const w=(d.media||[]).find(b=>b.port!==0);w&&(f??(f=w.setup),m??(m=w.fingerprint))}if(f){if(!m)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let v;switch(f){case"active":{v="client";break}case"passive":{v="server";break}case"actpass":{v="auto";break}}return{role:v,fingerprints:[{algorithm:m.type,value:m.hash}]}}function c({offerMediaObject:d}){const f=(d.ssrcs||[]).find(m=>m.attribute==="cname");return f?f.value:""}function l({offerRtpParameters:d,answerMediaObject:f}){for(const m of d.codecs){const v=m.mimeType.toLowerCase();if(v!=="audio/opus"||!(f.rtp||[]).find(E=>E.payload===m.payloadType))continue;f.fmtp=f.fmtp||[];let w=f.fmtp.find(E=>E.payload===m.payloadType);w||(w={payload:m.payloadType,config:""},f.fmtp.push(w));const b=n.parseParams(w.config);switch(v){case"audio/opus":{const E=m.parameters["sprop-stereo"];E!==void 0&&(b.stereo=E?1:0);break}}w.config="";for(const E of Object.keys(b))w.config&&(w.config+=";"),w.config+=`${E}=${b[E]}`}}return $r}var cc={},t_;function ni(){if(t_)return cc;t_=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.getRtpEncodings=e,cc.addLegacySimulcast=t;function e({offerMediaObject:r}){const n=new Set;for(const c of r.ssrcs||[]){const l=c.id;n.add(l)}if(n.size===0)throw new Error("no a=ssrc lines found");const o=new Map;for(const c of r.ssrcGroups||[]){if(c.semantics!=="FID")continue;let[l,d]=c.ssrcs.split(/\s+/);l=Number(l),d=Number(d),n.has(l)&&(n.delete(l),n.delete(d),o.set(l,d))}for(const c of n)o.set(c,null);const a=[];for(const[c,l]of o){const d={ssrc:c};l&&(d.rtx={ssrc:l}),a.push(d)}return a}function t({offerMediaObject:r,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");const o=(r.ssrcs||[]).find(w=>w.attribute==="msid");if(!o)throw new Error("a=ssrc line with msid information not found");const[a,c]=o.value.split(" "),l=Number(o.id);let d;(r.ssrcGroups||[]).some(w=>{if(w.semantics!=="FID")return!1;const b=w.ssrcs.split(/\s+/);return Number(b[0])===l?(d=Number(b[1]),!0):!1});const f=r.ssrcs.find(w=>w.attribute==="cname");if(!f)throw new Error("a=ssrc line with cname information not found");const m=f.value,v=[],g=[];for(let w=0;w<n;++w)v.push(l+w),d&&g.push(d+w);r.ssrcGroups=[],r.ssrcs=[],r.ssrcGroups.push({semantics:"SIM",ssrcs:v.join(" ")});for(const w of v)r.ssrcs.push({id:w,attribute:"cname",value:m}),r.ssrcs.push({id:w,attribute:"msid",value:`${a} ${c}`});for(let w=0;w<g.length;++w){const b=v[w],E=g[w];r.ssrcs.push({id:E,attribute:"cname",value:m}),r.ssrcs.push({id:E,attribute:"msid",value:`${a} ${c}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${E}`})}}return cc}var du={},r_;function kf(){if(r_)return du;r_=1,Object.defineProperty(du,"__esModule",{value:!0}),du.addNackSuppportForOpus=e;function e(t){var r;for(const n of t.codecs??[])(n.mimeType.toLowerCase()==="audio/opus"||n.mimeType.toLowerCase()==="audio/multiopus")&&!((r=n.rtcpFeedback)!=null&&r.some(o=>o.type==="nack"&&!o.parameter))&&(n.rtcpFeedback||(n.rtcpFeedback=[]),n.rtcpFeedback.push({type:"nack"}))}return du}var lc={},n_;function Wr(){if(n_)return lc;n_=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.HandlerInterface=void 0;const e=ri();let t=class extends e.EnhancedEventEmitter{constructor(){super()}};return lc.HandlerInterface=t,lc}var yn={},hr={},s_;function g4(){if(s_)return hr;s_=1;var e=hr&&hr.__createBinding||(Object.create?function(f,m,v,g){g===void 0&&(g=v);var w=Object.getOwnPropertyDescriptor(m,v);(!w||("get"in w?!m.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(f,g,w)}:function(f,m,v,g){g===void 0&&(g=v),f[g]=m[v]}),t=hr&&hr.__setModuleDefault||(Object.create?function(f,m){Object.defineProperty(f,"default",{enumerable:!0,value:m})}:function(f,m){f.default=m}),r=hr&&hr.__importStar||function(f){if(f&&f.__esModule)return f;var m={};if(f!=null)for(var v in f)v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)&&e(m,f,v);return t(m,f),m};Object.defineProperty(hr,"__esModule",{value:!0}),hr.OfferMediaSection=hr.AnswerMediaSection=hr.MediaSection=void 0;const n=r(Ir()),o=r(tr());let a=class{constructor({iceParameters:m,iceCandidates:v,dtlsParameters:g,planB:w=!1}){if(this._mediaObject={},this._planB=w,m&&this.setIceParameters(m),v){this._mediaObject.candidates=[];for(const b of v){const E={};E.component=1,E.foundation=b.foundation,E.ip=b.address??b.ip,E.port=b.port,E.priority=b.priority,E.transport=b.protocol,E.type=b.type,b.tcpType&&(E.tcptype=b.tcpType),this._mediaObject.candidates.push(E)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}g&&this.setDtlsRole(g.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(m){this._mediaObject.iceUfrag=m.usernameFragment,this._mediaObject.icePwd=m.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}};hr.MediaSection=a;class c extends a{constructor({iceParameters:m,iceCandidates:v,dtlsParameters:g,sctpParameters:w,plainRtpParameters:b,planB:E=!1,offerMediaObject:R,offerRtpParameters:T,answerRtpParameters:x,codecOptions:p,extmapAllowMixed:h=!1}){switch(super({iceParameters:m,iceCandidates:v,dtlsParameters:g,planB:E}),this._mediaObject.mid=String(R.mid),this._mediaObject.type=R.type,this._mediaObject.protocol=R.protocol,b?(this._mediaObject.connection={ip:b.ip,version:b.ipVersion},this._mediaObject.port=b.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),R.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const S of x.codecs){const C={payload:S.payloadType,codec:d(S),rate:S.clockRate};S.channels>1&&(C.encoding=S.channels),this._mediaObject.rtp.push(C);const D=o.clone(S.parameters)??{};let j=o.clone(S.rtcpFeedback)??[];if(p){const{opusStereo:N,opusFec:A,opusDtx:O,opusMaxPlaybackRate:V,opusMaxAverageBitrate:W,opusPtime:X,opusNack:M,videoGoogleStartBitrate:B,videoGoogleMaxBitrate:$,videoGoogleMinBitrate:F}=p,H=T.codecs.find(U=>U.payloadType===S.payloadType);switch(S.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{N!==void 0&&(H.parameters["sprop-stereo"]=N?1:0,D.stereo=N?1:0),A!==void 0&&(H.parameters.useinbandfec=A?1:0,D.useinbandfec=A?1:0),O!==void 0&&(H.parameters.usedtx=O?1:0,D.usedtx=O?1:0),V!==void 0&&(D.maxplaybackrate=V),W!==void 0&&(D.maxaveragebitrate=W),X!==void 0&&(H.parameters.ptime=X,D.ptime=X),M||(H.rtcpFeedback=H.rtcpFeedback.filter(U=>U.type!=="nack"||U.parameter),j=j.filter(U=>U.type!=="nack"||U.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{B!==void 0&&(D["x-google-start-bitrate"]=B),$!==void 0&&(D["x-google-max-bitrate"]=$),F!==void 0&&(D["x-google-min-bitrate"]=F);break}}}const L={payload:S.payloadType,config:""};for(const N of Object.keys(D))L.config&&(L.config+=";"),L.config+=`${N}=${D[N]}`;L.config&&this._mediaObject.fmtp.push(L);for(const N of j)this._mediaObject.rtcpFb.push({payload:S.payloadType,type:N.type,subtype:N.parameter})}this._mediaObject.payloads=x.codecs.map(S=>S.payloadType).join(" "),this._mediaObject.ext=[];for(const S of x.headerExtensions)(R.ext??[]).some(D=>D.uri===S.uri)&&this._mediaObject.ext.push({uri:S.uri,value:S.id});if(h&&R.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),R.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:R.simulcast.list1},this._mediaObject.rids=[];for(const S of R.rids??[])S.direction==="send"&&this._mediaObject.rids.push({id:S.id,direction:"recv"})}else if(R.simulcast_03){this._mediaObject.simulcast_03={value:R.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const S of R.rids??[])S.direction==="send"&&this._mediaObject.rids.push({id:S.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof R.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=w.port,this._mediaObject.maxMessageSize=w.maxMessageSize):R.sctpmap&&(this._mediaObject.payloads=w.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:w.port,maxMessageSize:w.maxMessageSize});break}}}setDtlsRole(m){switch(m){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(m){var b,E;if(!((b=this._mediaObject.simulcast)!=null&&b.list1))return;const v={};for(const R of m)R.rid&&(v[R.rid]=R);const g=this._mediaObject.simulcast.list1,w=n.parseSimulcastStreamList(g);for(const R of w)for(const T of R)T.paused=!((E=v[T.scid])!=null&&E.active);this._mediaObject.simulcast.list1=w.map(R=>R.map(T=>`${T.paused?"~":""}${T.scid}`).join(",")).join(";")}}hr.AnswerMediaSection=c;class l extends a{constructor({iceParameters:m,iceCandidates:v,dtlsParameters:g,sctpParameters:w,plainRtpParameters:b,planB:E=!1,mid:R,kind:T,offerRtpParameters:x,streamId:p,trackId:h,oldDataChannelSpec:S=!1}){var C;switch(super({iceParameters:m,iceCandidates:v,dtlsParameters:g,planB:E}),this._mediaObject.mid=String(R),this._mediaObject.type=T,b?(this._mediaObject.connection={ip:b.ip,version:b.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=b.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},w?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),T){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${p??"-"} ${h}`);for(const N of x.codecs){const A={payload:N.payloadType,codec:d(N),rate:N.clockRate};N.channels>1&&(A.encoding=N.channels),this._mediaObject.rtp.push(A);const O={payload:N.payloadType,config:""};for(const V of Object.keys(N.parameters))O.config&&(O.config+=";"),O.config+=`${V}=${N.parameters[V]}`;O.config&&this._mediaObject.fmtp.push(O);for(const V of N.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:N.payloadType,type:V.type,subtype:V.parameter})}this._mediaObject.payloads=x.codecs.map(N=>N.payloadType).join(" "),this._mediaObject.ext=[];for(const N of x.headerExtensions)this._mediaObject.ext.push({uri:N.uri,value:N.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const D=x.encodings[0],j=D.ssrc,L=(C=D.rtx)==null?void 0:C.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],x.rtcp.cname&&this._mediaObject.ssrcs.push({id:j,attribute:"cname",value:x.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:j,attribute:"msid",value:`${p??"-"} ${h}`}),L&&(x.rtcp.cname&&this._mediaObject.ssrcs.push({id:L,attribute:"cname",value:x.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:L,attribute:"msid",value:`${p??"-"} ${h}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${j} ${L}`}));break}case"application":{S?(this._mediaObject.payloads=w.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:w.port,maxMessageSize:w.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=w.port,this._mediaObject.maxMessageSize=w.maxMessageSize);break}}}setDtlsRole(m){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:m,streamId:v,trackId:g}){var T;const w=m.encodings[0],b=w.ssrc,E=(T=w.rtx)==null?void 0:T.ssrc,R=this._mediaObject.payloads.split(" ");for(const x of m.codecs){if(R.includes(String(x.payloadType)))continue;const p={payload:x.payloadType,codec:d(x),rate:x.clockRate};x.channels>1&&(p.encoding=x.channels),this._mediaObject.rtp.push(p);const h={payload:x.payloadType,config:""};for(const S of Object.keys(x.parameters))h.config&&(h.config+=";"),h.config+=`${S}=${x.parameters[S]}`;h.config&&this._mediaObject.fmtp.push(h);for(const S of x.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:x.payloadType,type:S.type,subtype:S.parameter})}this._mediaObject.payloads+=` ${m.codecs.filter(x=>!this._mediaObject.payloads.includes(x.payloadType)).map(x=>x.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),m.rtcp.cname&&this._mediaObject.ssrcs.push({id:b,attribute:"cname",value:m.rtcp.cname}),this._mediaObject.ssrcs.push({id:b,attribute:"msid",value:`${v??"-"} ${g}`}),E&&(m.rtcp.cname&&this._mediaObject.ssrcs.push({id:E,attribute:"cname",value:m.rtcp.cname}),this._mediaObject.ssrcs.push({id:E,attribute:"msid",value:`${v??"-"} ${g}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${E}`}))}planBStopReceiving({offerRtpParameters:m}){var b;const v=m.encodings[0],g=v.ssrc,w=(b=v.rtx)==null?void 0:b.ssrc;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(E=>E.id!==g&&E.id!==w),w&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(E=>E.ssrcs!==`${g} ${w}`))}}hr.OfferMediaSection=l;function d(f){const v=new RegExp("^(audio|video)/(.+)","i").exec(f.mimeType);if(!v)throw new TypeError("invalid codec.mimeType");return v[2]}return hr}var o_;function Vn(){if(o_)return yn;o_=1;var e=yn&&yn.__createBinding||(Object.create?function(d,f,m,v){v===void 0&&(v=m);var g=Object.getOwnPropertyDescriptor(f,m);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[m]}}),Object.defineProperty(d,v,g)}:function(d,f,m,v){v===void 0&&(v=m),d[v]=f[m]}),t=yn&&yn.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),r=yn&&yn.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var m in d)m!=="default"&&Object.prototype.hasOwnProperty.call(d,m)&&e(f,d,m);return t(f,d),f};Object.defineProperty(yn,"__esModule",{value:!0}),yn.RemoteSdp=void 0;const n=r(Ir()),o=At(),a=g4(),c=new o.Logger("RemoteSdp");let l=class{constructor({iceParameters:f,iceCandidates:m,dtlsParameters:v,sctpParameters:g,plainRtpParameters:w,planB:b=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=f,this._iceCandidates=m,this._dtlsParameters=v,this._sctpParameters=g,this._plainRtpParameters=w,this._planB=b,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},f!=null&&f.iceLite&&(this._sdpObject.icelite="ice-lite"),v){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const E=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:v.fingerprints[E-1].algorithm,hash:v.fingerprints[E-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}w&&(this._sdpObject.origin.address=w.ip,this._sdpObject.origin.ipVer=w.ipVersion)}updateIceParameters(f){c.debug("updateIceParameters() [iceParameters:%o]",f),this._iceParameters=f,this._sdpObject.icelite=f.iceLite?"ice-lite":void 0;for(const m of this._mediaSections)m.setIceParameters(f)}updateDtlsRole(f){c.debug("updateDtlsRole() [role:%s]",f),this._dtlsParameters.role=f;for(const m of this._mediaSections)m.setDtlsRole(f)}getNextMediaSectionIdx(){for(let f=0;f<this._mediaSections.length;++f){const m=this._mediaSections[f];if(m.closed)return{idx:f,reuseMid:m.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:f,reuseMid:m,offerRtpParameters:v,answerRtpParameters:g,codecOptions:w,extmapAllowMixed:b=!1}){const E=new a.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:f,offerRtpParameters:v,answerRtpParameters:g,codecOptions:w,extmapAllowMixed:b});m?this._replaceMediaSection(E,m):this._midToIndex.has(E.mid)?this._replaceMediaSection(E):this._addMediaSection(E)}receive({mid:f,kind:m,offerRtpParameters:v,streamId:g,trackId:w}){const b=this._midToIndex.get(f);let E;if(b!==void 0&&(E=this._mediaSections[b]),E)E.planBReceive({offerRtpParameters:v,streamId:g,trackId:w}),this._replaceMediaSection(E);else{E=new a.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:f,kind:m,offerRtpParameters:v,streamId:g,trackId:w});const R=this._mediaSections.find(T=>T.closed);R?this._replaceMediaSection(E,R.mid):this._addMediaSection(E)}}pauseMediaSection(f){this._findMediaSection(f).pause()}resumeSendingMediaSection(f){this._findMediaSection(f).resume()}resumeReceivingMediaSection(f){this._findMediaSection(f).resume()}disableMediaSection(f){this._findMediaSection(f).disable()}closeMediaSection(f){const m=this._findMediaSection(f);return f===this._firstMid?(c.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",f),this.disableMediaSection(f),!1):(m.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(f,m){const v=this._findMediaSection(f);v.muxSimulcastStreams(m),this._replaceMediaSection(v)}planBStopReceiving({mid:f,offerRtpParameters:m}){const v=this._findMediaSection(f);v.planBStopReceiving({offerRtpParameters:m}),this._replaceMediaSection(v)}sendSctpAssociation({offerMediaObject:f}){const m=new a.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:f});this._addMediaSection(m)}receiveSctpAssociation({oldDataChannelSpec:f=!1}={}){const m=new a.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:f});this._addMediaSection(m)}getSdp(){return this._sdpObject.origin.sessionVersion++,n.write(this._sdpObject)}_addMediaSection(f){this._firstMid||(this._firstMid=f.mid),this._mediaSections.push(f),this._midToIndex.set(f.mid,this._mediaSections.length-1),this._sdpObject.media.push(f.getObject()),this._regenerateBundleMids()}_replaceMediaSection(f,m){if(typeof m=="string"){const v=this._midToIndex.get(m);if(v===void 0)throw new Error(`no media section found for reuseMid '${m}'`);const g=this._mediaSections[v];this._mediaSections[v]=f,this._midToIndex.delete(g.mid),this._midToIndex.set(f.mid,v),this._sdpObject.media[v]=f.getObject(),this._regenerateBundleMids()}else{const v=this._midToIndex.get(f.mid);if(v===void 0)throw new Error(`no media section found with mid '${f.mid}'`);this._mediaSections[v]=f,this._sdpObject.media[v]=f.getObject()}}_findMediaSection(f){const m=this._midToIndex.get(f);if(m===void 0)throw new Error(`no media section found with mid '${f}'`);return this._mediaSections[m]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(f=>!f.closed).map(f=>f.mid).join(" "))}};return yn.RemoteSdp=l,yn}var fu={},i_;function po(){if(i_)return fu;i_=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.parse=t;const e=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function t(r){const n=e.exec(r??"");return n?{spatialLayers:Number(n[1]),temporalLayers:Number(n[2])}:{spatialLayers:1,temporalLayers:1}}return fu}var a_;function v4(){if(a_)return vn;a_=1;var e=vn&&vn.__createBinding||(Object.create?function(x,p,h,S){S===void 0&&(S=h);var C=Object.getOwnPropertyDescriptor(p,h);(!C||("get"in C?!p.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(x,S,C)}:function(x,p,h,S){S===void 0&&(S=h),x[S]=p[h]}),t=vn&&vn.__setModuleDefault||(Object.create?function(x,p){Object.defineProperty(x,"default",{enumerable:!0,value:p})}:function(x,p){x.default=p}),r=vn&&vn.__importStar||function(x){if(x&&x.__esModule)return x;var p={};if(x!=null)for(var h in x)h!=="default"&&Object.prototype.hasOwnProperty.call(x,h)&&e(p,x,h);return t(p,x),p};Object.defineProperty(vn,"__esModule",{value:!0}),vn.Chrome111=void 0;const n=r(Ir()),o=At(),a=r(tr()),c=r(jr()),l=r(Un()),d=r(ni()),f=r(kf()),m=vr(),v=Wr(),g=Vn(),w=po(),b=new o.Logger("Chrome111"),E="Chrome111",R={OS:1024,MIS:1024};let T=class pR extends v.HandlerInterface{static createFactory(){return()=>new pR}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return E}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{p.addTransceiver("audio"),p.addTransceiver("video");const h=await p.createOffer();try{p.close()}catch{}const S=n.parse(h.sdp),C=l.extractRtpCapabilities({sdpObject:S});return f.addNackSuppportForOpus(C),C}catch(h){try{p.close()}catch{}throw h}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:p,iceParameters:h,iceCandidates:S,dtlsParameters:C,sctpParameters:D,iceServers:j,iceTransportPolicy:L,additionalSettings:N,proprietaryConstraints:A,extendedRtpCapabilities:O}){this.assertNotClosed(),b.debug("run()"),this._direction=p,this._remoteSdp=new g.RemoteSdp({iceParameters:h,iceCandidates:S,dtlsParameters:C,sctpParameters:D}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",O),video:c.getSendingRtpParameters("video",O)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",O),video:c.getSendingRemoteRtpParameters("video",O)},C.role&&C.role!=="auto"&&(this._forcedLocalDtlsRole=C.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:j??[],iceTransportPolicy:L??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...N},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(p){this.assertNotClosed(),b.debug("updateIceServers()");const h=this._pc.getConfiguration();h.iceServers=p,this._pc.setConfiguration(h)}async restartIce(p){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const h=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const S={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}else{const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:h,codecOptions:S,codec:C,onRtpSender:D}){if(this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",p.kind,p.id),h&&h.length>1){let B=1;for(const $ of h){const F=$.scalabilityMode?(0,w.parse)($.scalabilityMode).temporalLayers:3;F>B&&(B=F)}h.forEach(($,F)=>{$.rid=`r${F}`,$.scalabilityMode=`L1T${B}`})}const j=a.clone(this._sendingRtpParametersByKind[p.kind]);j.codecs=c.reduceCodecs(j.codecs,C);const L=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);L.codecs=c.reduceCodecs(L.codecs,C);const N=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream],sendEncodings:h});D&&D(A.sender);const O=await this._pc.createOffer();let V=n.parse(O.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",O),await this._pc.setLocalDescription(O);const W=A.mid;j.mid=W,V=n.parse(this._pc.localDescription.sdp);const X=V.media[N.idx];if(j.rtcp.cname=l.getCname({offerMediaObject:X}),!h)j.encodings=d.getRtpEncodings({offerMediaObject:X});else if(h.length===1){const B=d.getRtpEncodings({offerMediaObject:X});Object.assign(B[0],h[0]),j.encodings=B}else j.encodings=h;this._remoteSdp.send({offerMediaObject:X,reuseMid:N.reuseMid,offerRtpParameters:j,answerRtpParameters:L,codecOptions:S,extmapAllowMixed:!0});const M={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M),this._mapMidTransceiver.set(W,A),{localId:W,rtpParameters:j,rtpSender:A.sender}}async stopSending(p){if(this.assertSendDirection(),b.debug("stopSending() [localId:%s]",p),this._closed)return;const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");if(h.sender.replaceTrack(null),this._pc.removeTrack(h.sender),this._remoteSdp.closeMediaSection(h.mid))try{h.stop()}catch{}const C=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const D={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="inactive",this._remoteSdp.pauseMediaSection(p);const S=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const C={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(this._remoteSdp.resumeSendingMediaSection(p),!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="sendonly";const S=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const C={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}async replaceTrack(p,h){this.assertNotClosed(),this.assertSendDirection(),h?b.debug("replaceTrack() [localId:%s, track.id:%s]",p,h.id):b.debug("replaceTrack() [localId:%s, no track]",p);const S=this._mapMidTransceiver.get(p);if(!S)throw new Error("associated RTCRtpTransceiver not found");await S.sender.replaceTrack(h)}async setMaxSpatialLayer(p,h){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,h);const S=this._mapMidTransceiver.get(p);if(!S)throw new Error("associated RTCRtpTransceiver not found");const C=S.sender.getParameters();C.encodings.forEach((L,N)=>{N<=h?L.active=!0:L.active=!1}),await S.sender.setParameters(C),this._remoteSdp.muxMediaSectionSimulcast(p,C.encodings);const D=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async setRtpEncodingParameters(p,h){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,h);const S=this._mapMidTransceiver.get(p);if(!S)throw new Error("associated RTCRtpTransceiver not found");const C=S.sender.getParameters();C.encodings.forEach((L,N)=>{C.encodings[N]={...L,...h}}),await S.sender.setParameters(C),this._remoteSdp.muxMediaSectionSimulcast(p,C.encodings);const D=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:h,maxRetransmits:S,label:C,protocol:D}){this.assertNotClosed(),this.assertSendDirection();const j={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:h,maxRetransmits:S,protocol:D};b.debug("sendDataChannel() [options:%o]",j);const L=this._pc.createDataChannel(C,j);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),O=n.parse(A.sdp),V=O.media.find(X=>X.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const N={streamId:j.id,ordered:j.ordered,maxPacketLifeTime:j.maxPacketLifeTime,maxRetransmits:j.maxRetransmits};return{dataChannel:L,sctpStreamParameters:N}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const h=[],S=new Map;for(const L of p){const{trackId:N,kind:A,rtpParameters:O,streamId:V}=L;b.debug("receive() [trackId:%s, kind:%s]",N,A);const W=O.mid??String(this._mapMidTransceiver.size);S.set(N,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:O,streamId:V??O.rtcp.cname,trackId:N})}const C={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);for(const L of p){const{trackId:N,onRtpReceiver:A}=L;if(A){const O=S.get(N),V=this._pc.getTransceivers().find(W=>W.mid===O);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let D=await this._pc.createAnswer();const j=n.parse(D.sdp);for(const L of p){const{trackId:N,rtpParameters:A}=L,O=S.get(N),V=j.media.find(W=>String(W.mid)===O);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}D={type:"answer",sdp:n.write(j)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",D),await this._pc.setLocalDescription(D);for(const L of p){const{trackId:N}=L,A=S.get(N),O=this._pc.getTransceivers().find(V=>V.mid===A);if(O)this._mapMidTransceiver.set(A,O),h.push({localId:A,track:O.receiver.track,rtpReceiver:O.receiver});else throw new Error("new RTCRtpTransceiver not found")}return h}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const C of p){b.debug("stopReceiving() [localId:%s]",C);const D=this._mapMidTransceiver.get(C);if(!D)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(D.mid)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const C of p)this._mapMidTransceiver.delete(C)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const C of p){b.debug("pauseReceiving() [localId:%s]",C);const D=this._mapMidTransceiver.get(C);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="inactive",this._remoteSdp.pauseMediaSection(C)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const C of p){b.debug("resumeReceiving() [localId:%s]",C);const D=this._mapMidTransceiver.get(C);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(C)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:h,protocol:S}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:C,ordered:D,maxPacketLifeTime:j,maxRetransmits:L}=p,N={negotiated:!0,id:C,ordered:D,maxPacketLifeTime:j,maxRetransmits:L,protocol:S};b.debug("receiveDataChannel() [options:%o]",N);const A=this._pc.createDataChannel(h,N);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const O={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",O),await this._pc.setRemoteDescription(O);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:h}){h||(h=n.parse(this._pc.localDescription.sdp));const S=l.extractDtlsParameters({sdpObject:h});S.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((C,D)=>{this.safeEmit("@connect",{dtlsParameters:S},C,D)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return vn.Chrome111=T,vn}var wn={},c_;function y4(){if(c_)return wn;c_=1;var e=wn&&wn.__createBinding||(Object.create?function(x,p,h,S){S===void 0&&(S=h);var C=Object.getOwnPropertyDescriptor(p,h);(!C||("get"in C?!p.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(x,S,C)}:function(x,p,h,S){S===void 0&&(S=h),x[S]=p[h]}),t=wn&&wn.__setModuleDefault||(Object.create?function(x,p){Object.defineProperty(x,"default",{enumerable:!0,value:p})}:function(x,p){x.default=p}),r=wn&&wn.__importStar||function(x){if(x&&x.__esModule)return x;var p={};if(x!=null)for(var h in x)h!=="default"&&Object.prototype.hasOwnProperty.call(x,h)&&e(p,x,h);return t(p,x),p};Object.defineProperty(wn,"__esModule",{value:!0}),wn.Chrome74=void 0;const n=r(Ir()),o=At(),a=r(tr()),c=r(jr()),l=r(Un()),d=r(ni()),f=r(kf()),m=vr(),v=Wr(),g=Vn(),w=po(),b=new o.Logger("Chrome74"),E="Chrome74",R={OS:1024,MIS:1024};let T=class hR extends v.HandlerInterface{static createFactory(){return()=>new hR}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return E}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{p.addTransceiver("audio"),p.addTransceiver("video");const h=await p.createOffer();try{p.close()}catch{}const S=n.parse(h.sdp),C=l.extractRtpCapabilities({sdpObject:S});return f.addNackSuppportForOpus(C),C}catch(h){try{p.close()}catch{}throw h}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:p,iceParameters:h,iceCandidates:S,dtlsParameters:C,sctpParameters:D,iceServers:j,iceTransportPolicy:L,additionalSettings:N,proprietaryConstraints:A,extendedRtpCapabilities:O}){b.debug("run()"),this._direction=p,this._remoteSdp=new g.RemoteSdp({iceParameters:h,iceCandidates:S,dtlsParameters:C,sctpParameters:D}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",O),video:c.getSendingRtpParameters("video",O)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",O),video:c.getSendingRemoteRtpParameters("video",O)},C.role&&C.role!=="auto"&&(this._forcedLocalDtlsRole=C.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:j??[],iceTransportPolicy:L??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...N},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(p){this.assertNotClosed(),b.debug("updateIceServers()");const h=this._pc.getConfiguration();h.iceServers=p,this._pc.setConfiguration(h)}async restartIce(p){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const h=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const S={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}else{const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:h,codecOptions:S,codec:C}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",p.kind,p.id),h&&h.length>1&&h.forEach(($,F)=>{$.rid=`r${F}`});const D=a.clone(this._sendingRtpParametersByKind[p.kind]);D.codecs=c.reduceCodecs(D.codecs,C);const j=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);j.codecs=c.reduceCodecs(j.codecs,C);const L=this._remoteSdp.getNextMediaSectionIdx(),N=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream],sendEncodings:h});let A=await this._pc.createOffer(),O=n.parse(A.sdp),V;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O});let W=!1;const X=(0,w.parse)((h??[{}])[0].scalabilityMode);h&&h.length===1&&X.spatialLayers>1&&D.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(b.debug("send() | enabling legacy simulcast for VP9 SVC"),W=!0,O=n.parse(A.sdp),V=O.media[L.idx],d.addLegacySimulcast({offerMediaObject:V,numStreams:X.spatialLayers}),A={type:"offer",sdp:n.write(O)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A);const M=N.mid;if(D.mid=M,O=n.parse(this._pc.localDescription.sdp),V=O.media[L.idx],D.rtcp.cname=l.getCname({offerMediaObject:V}),!h)D.encodings=d.getRtpEncodings({offerMediaObject:V});else if(h.length===1){let $=d.getRtpEncodings({offerMediaObject:V});Object.assign($[0],h[0]),W&&($=[$[0]]),D.encodings=$}else D.encodings=h;if(D.encodings.length>1&&(D.codecs[0].mimeType.toLowerCase()==="video/vp8"||D.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const $ of D.encodings)$.scalabilityMode?$.scalabilityMode=`L1T${X.temporalLayers}`:$.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:V,reuseMid:L.reuseMid,offerRtpParameters:D,answerRtpParameters:j,codecOptions:S,extmapAllowMixed:!0});const B={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setRemoteDescription(B),this._mapMidTransceiver.set(M,N),{localId:M,rtpParameters:D,rtpSender:N.sender}}async stopSending(p){if(this.assertSendDirection(),b.debug("stopSending() [localId:%s]",p),this._closed)return;const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");if(h.sender.replaceTrack(null),this._pc.removeTrack(h.sender),this._remoteSdp.closeMediaSection(h.mid))try{h.stop()}catch{}const C=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const D={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="inactive",this._remoteSdp.pauseMediaSection(p);const S=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const C={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(this._remoteSdp.resumeSendingMediaSection(p),!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="sendonly";const S=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const C={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}async replaceTrack(p,h){this.assertNotClosed(),this.assertSendDirection(),h?b.debug("replaceTrack() [localId:%s, track.id:%s]",p,h.id):b.debug("replaceTrack() [localId:%s, no track]",p);const S=this._mapMidTransceiver.get(p);if(!S)throw new Error("associated RTCRtpTransceiver not found");await S.sender.replaceTrack(h)}async setMaxSpatialLayer(p,h){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,h);const S=this._mapMidTransceiver.get(p);if(!S)throw new Error("associated RTCRtpTransceiver not found");const C=S.sender.getParameters();C.encodings.forEach((L,N)=>{N<=h?L.active=!0:L.active=!1}),await S.sender.setParameters(C),this._remoteSdp.muxMediaSectionSimulcast(p,C.encodings);const D=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async setRtpEncodingParameters(p,h){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,h);const S=this._mapMidTransceiver.get(p);if(!S)throw new Error("associated RTCRtpTransceiver not found");const C=S.sender.getParameters();C.encodings.forEach((L,N)=>{C.encodings[N]={...L,...h}}),await S.sender.setParameters(C),this._remoteSdp.muxMediaSectionSimulcast(p,C.encodings);const D=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:h,maxRetransmits:S,label:C,protocol:D}){this.assertNotClosed(),this.assertSendDirection();const j={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:h,maxRetransmits:S,protocol:D};b.debug("sendDataChannel() [options:%o]",j);const L=this._pc.createDataChannel(C,j);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),O=n.parse(A.sdp),V=O.media.find(X=>X.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const N={streamId:j.id,ordered:j.ordered,maxPacketLifeTime:j.maxPacketLifeTime,maxRetransmits:j.maxRetransmits};return{dataChannel:L,sctpStreamParameters:N}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const h=[],S=new Map;for(const L of p){const{trackId:N,kind:A,rtpParameters:O,streamId:V}=L;b.debug("receive() [trackId:%s, kind:%s]",N,A);const W=O.mid??String(this._mapMidTransceiver.size);S.set(N,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:O,streamId:V??O.rtcp.cname,trackId:N})}const C={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);let D=await this._pc.createAnswer();const j=n.parse(D.sdp);for(const L of p){const{trackId:N,rtpParameters:A}=L,O=S.get(N),V=j.media.find(W=>String(W.mid)===O);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}D={type:"answer",sdp:n.write(j)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",D),await this._pc.setLocalDescription(D);for(const L of p){const{trackId:N}=L,A=S.get(N),O=this._pc.getTransceivers().find(V=>V.mid===A);if(O)this._mapMidTransceiver.set(A,O),h.push({localId:A,track:O.receiver.track,rtpReceiver:O.receiver});else throw new Error("new RTCRtpTransceiver not found")}return h}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const C of p){b.debug("stopReceiving() [localId:%s]",C);const D=this._mapMidTransceiver.get(C);if(!D)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(D.mid)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const C of p)this._mapMidTransceiver.delete(C)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const C of p){b.debug("pauseReceiving() [localId:%s]",C);const D=this._mapMidTransceiver.get(C);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="inactive",this._remoteSdp.pauseMediaSection(C)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const C of p){b.debug("resumeReceiving() [localId:%s]",C);const D=this._mapMidTransceiver.get(C);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(C)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:h,protocol:S}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:C,ordered:D,maxPacketLifeTime:j,maxRetransmits:L}=p,N={negotiated:!0,id:C,ordered:D,maxPacketLifeTime:j,maxRetransmits:L,protocol:S};b.debug("receiveDataChannel() [options:%o]",N);const A=this._pc.createDataChannel(h,N);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const O={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",O),await this._pc.setRemoteDescription(O);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:h}){h||(h=n.parse(this._pc.localDescription.sdp));const S=l.extractDtlsParameters({sdpObject:h});S.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((C,D)=>{this.safeEmit("@connect",{dtlsParameters:S},C,D)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return wn.Chrome74=T,wn}var Sn={},l_;function w4(){if(l_)return Sn;l_=1;var e=Sn&&Sn.__createBinding||(Object.create?function(R,T,x,p){p===void 0&&(p=x);var h=Object.getOwnPropertyDescriptor(T,x);(!h||("get"in h?!T.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return T[x]}}),Object.defineProperty(R,p,h)}:function(R,T,x,p){p===void 0&&(p=x),R[p]=T[x]}),t=Sn&&Sn.__setModuleDefault||(Object.create?function(R,T){Object.defineProperty(R,"default",{enumerable:!0,value:T})}:function(R,T){R.default=T}),r=Sn&&Sn.__importStar||function(R){if(R&&R.__esModule)return R;var T={};if(R!=null)for(var x in R)x!=="default"&&Object.prototype.hasOwnProperty.call(R,x)&&e(T,R,x);return t(T,R),T};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.Chrome70=void 0;const n=r(Ir()),o=At(),a=r(tr()),c=r(jr()),l=r(Un()),d=r(ni()),f=Wr(),m=Vn(),v=po(),g=new o.Logger("Chrome70"),w="Chrome70",b={OS:1024,MIS:1024};let E=class mR extends f.HandlerInterface{static createFactory(){return()=>new mR}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(g.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){g.debug("getNativeRtpCapabilities()");const T=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{T.addTransceiver("audio"),T.addTransceiver("video");const x=await T.createOffer();try{T.close()}catch{}const p=n.parse(x.sdp);return l.extractRtpCapabilities({sdpObject:p})}catch(x){try{T.close()}catch{}throw x}}async getNativeSctpCapabilities(){return g.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:T,iceParameters:x,iceCandidates:p,dtlsParameters:h,sctpParameters:S,iceServers:C,iceTransportPolicy:D,additionalSettings:j,proprietaryConstraints:L,extendedRtpCapabilities:N}){g.debug("run()"),this._direction=T,this._remoteSdp=new m.RemoteSdp({iceParameters:x,iceCandidates:p,dtlsParameters:h,sctpParameters:S}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",N),video:c.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",N),video:c.getSendingRemoteRtpParameters("video",N)},h.role&&h.role!=="auto"&&(this._forcedLocalDtlsRole=h.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:C??[],iceTransportPolicy:D??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...j},L),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(g.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(T){g.debug("updateIceServers()");const x=this._pc.getConfiguration();x.iceServers=T,this._pc.setConfiguration(x)}async restartIce(T){if(g.debug("restartIce()"),this._remoteSdp.updateIceParameters(T),!!this._transportReady)if(this._direction==="send"){const x=await this._pc.createOffer({iceRestart:!0});g.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const p={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const x={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const p=await this._pc.createAnswer();g.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this._pc.getStats()}async send({track:T,encodings:x,codecOptions:p,codec:h}){this.assertSendDirection(),g.debug("send() [kind:%s, track.id:%s]",T.kind,T.id);const S=a.clone(this._sendingRtpParametersByKind[T.kind]);S.codecs=c.reduceCodecs(S.codecs,h);const C=a.clone(this._sendingRemoteRtpParametersByKind[T.kind]);C.codecs=c.reduceCodecs(C.codecs,h);const D=this._remoteSdp.getNextMediaSectionIdx(),j=this._pc.addTransceiver(T,{direction:"sendonly",streams:[this._sendStream]});let L=await this._pc.createOffer(),N=n.parse(L.sdp),A;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),x&&x.length>1&&(g.debug("send() | enabling legacy simulcast"),N=n.parse(L.sdp),A=N.media[D.idx],d.addLegacySimulcast({offerMediaObject:A,numStreams:x.length}),L={type:"offer",sdp:n.write(N)});let O=!1;const V=(0,v.parse)((x??[{}])[0].scalabilityMode);if(x&&x.length===1&&V.spatialLayers>1&&S.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(g.debug("send() | enabling legacy simulcast for VP9 SVC"),O=!0,N=n.parse(L.sdp),A=N.media[D.idx],d.addLegacySimulcast({offerMediaObject:A,numStreams:V.spatialLayers}),L={type:"offer",sdp:n.write(N)}),g.debug("send() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),x){g.debug("send() | applying given encodings");const M=j.sender.getParameters();for(let B=0;B<(M.encodings??[]).length;++B){const $=M.encodings[B],F=x[B];if(!F)break;M.encodings[B]=Object.assign($,F)}await j.sender.setParameters(M)}const W=j.mid;if(S.mid=W,N=n.parse(this._pc.localDescription.sdp),A=N.media[D.idx],S.rtcp.cname=l.getCname({offerMediaObject:A}),S.encodings=d.getRtpEncodings({offerMediaObject:A}),x)for(let M=0;M<S.encodings.length;++M)x[M]&&Object.assign(S.encodings[M],x[M]);if(O&&(S.encodings=[S.encodings[0]]),S.encodings.length>1&&(S.codecs[0].mimeType.toLowerCase()==="video/vp8"||S.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const M of S.encodings)M.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:A,reuseMid:D.reuseMid,offerRtpParameters:S,answerRtpParameters:C,codecOptions:p});const X={type:"answer",sdp:this._remoteSdp.getSdp()};return g.debug("send() | calling pc.setRemoteDescription() [answer:%o]",X),await this._pc.setRemoteDescription(X),this._mapMidTransceiver.set(W,j),{localId:W,rtpParameters:S,rtpSender:j.sender}}async stopSending(T){this.assertSendDirection(),g.debug("stopSending() [localId:%s]",T);const x=this._mapMidTransceiver.get(T);if(!x)throw new Error("associated RTCRtpTransceiver not found");if(x.sender.replaceTrack(null),this._pc.removeTrack(x.sender),this._remoteSdp.closeMediaSection(x.mid))try{x.stop()}catch{}const h=await this._pc.createOffer();g.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const S={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.delete(T)}async pauseSending(T){}async resumeSending(T){}async replaceTrack(T,x){this.assertSendDirection(),x?g.debug("replaceTrack() [localId:%s, track.id:%s]",T,x.id):g.debug("replaceTrack() [localId:%s, no track]",T);const p=this._mapMidTransceiver.get(T);if(!p)throw new Error("associated RTCRtpTransceiver not found");await p.sender.replaceTrack(x)}async setMaxSpatialLayer(T,x){this.assertSendDirection(),g.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",T,x);const p=this._mapMidTransceiver.get(T);if(!p)throw new Error("associated RTCRtpTransceiver not found");const h=p.sender.getParameters();h.encodings.forEach((D,j)=>{j<=x?D.active=!0:D.active=!1}),await p.sender.setParameters(h),this._remoteSdp.muxMediaSectionSimulcast(T,h.encodings);const S=await this._pc.createOffer();g.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const C={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}async setRtpEncodingParameters(T,x){this.assertSendDirection(),g.debug("setRtpEncodingParameters() [localId:%s, params:%o]",T,x);const p=this._mapMidTransceiver.get(T);if(!p)throw new Error("associated RTCRtpTransceiver not found");const h=p.sender.getParameters();h.encodings.forEach((D,j)=>{h.encodings[j]={...D,...x}}),await p.sender.setParameters(h),this._remoteSdp.muxMediaSectionSimulcast(T,h.encodings);const S=await this._pc.createOffer();g.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const C={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}async getSenderStats(T){this.assertSendDirection();const x=this._mapMidTransceiver.get(T);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.sender.getStats()}async sendDataChannel({ordered:T,maxPacketLifeTime:x,maxRetransmits:p,label:h,protocol:S}){this.assertSendDirection();const C={negotiated:!0,id:this._nextSendSctpStreamId,ordered:T,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:p,protocol:S};g.debug("sendDataChannel() [options:%o]",C);const D=this._pc.createDataChannel(h,C);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const L=await this._pc.createOffer(),N=n.parse(L.sdp),A=N.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),g.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const O={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._hasDataChannelMediaSection=!0}const j={streamId:C.id,ordered:C.ordered,maxPacketLifeTime:C.maxPacketLifeTime,maxRetransmits:C.maxRetransmits};return{dataChannel:D,sctpStreamParameters:j}}async receive(T){this.assertRecvDirection();const x=[],p=new Map;for(const D of T){const{trackId:j,kind:L,rtpParameters:N,streamId:A}=D;g.debug("receive() [trackId:%s, kind:%s]",j,L);const O=N.mid??String(this._mapMidTransceiver.size);p.set(j,O),this._remoteSdp.receive({mid:O,kind:L,offerRtpParameters:N,streamId:A??N.rtcp.cname,trackId:j})}const h={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);let S=await this._pc.createAnswer();const C=n.parse(S.sdp);for(const D of T){const{trackId:j,rtpParameters:L}=D,N=p.get(j),A=C.media.find(O=>String(O.mid)===N);l.applyCodecParameters({offerRtpParameters:L,answerMediaObject:A})}S={type:"answer",sdp:n.write(C)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:C}),g.debug("receive() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const D of T){const{trackId:j}=D,L=p.get(j),N=this._pc.getTransceivers().find(A=>A.mid===L);if(!N)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(L,N),x.push({localId:L,track:N.receiver.track,rtpReceiver:N.receiver})}return x}async stopReceiving(T){this.assertRecvDirection();for(const h of T){g.debug("stopReceiving() [localId:%s]",h);const S=this._mapMidTransceiver.get(h);if(!S)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(S.mid)}const x={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const p=await this._pc.createAnswer();g.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const h of T)this._mapMidTransceiver.delete(h)}async pauseReceiving(T){}async resumeReceiving(T){}async getReceiverStats(T){this.assertRecvDirection();const x=this._mapMidTransceiver.get(T);if(!x)throw new Error("associated RTCRtpTransceiver not found");return x.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:T,label:x,protocol:p}){this.assertRecvDirection();const{streamId:h,ordered:S,maxPacketLifeTime:C,maxRetransmits:D}=T,j={negotiated:!0,id:h,ordered:S,maxPacketLifeTime:C,maxRetransmitTime:C,maxRetransmits:D,protocol:p};g.debug("receiveDataChannel() [options:%o]",j);const L=this._pc.createDataChannel(x,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const N={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const A=await this._pc.createAnswer();if(!this._transportReady){const O=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O})}g.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:L}}async setupTransport({localDtlsRole:T,localSdpObject:x}){x||(x=n.parse(this._pc.localDescription.sdp));const p=l.extractDtlsParameters({sdpObject:x});p.role=T,this._remoteSdp.updateDtlsRole(T==="client"?"server":"client"),await new Promise((h,S)=>{this.safeEmit("@connect",{dtlsParameters:p},h,S)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Sn.Chrome70=E,Sn}var bn={},uc={},u_;function Pf(){if(u_)return uc;u_=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.getRtpEncodings=e,uc.addLegacySimulcast=t;function e({offerMediaObject:r,track:n}){const o=new Set;for(const l of r.ssrcs||[]){if(l.attribute!=="msid")continue;if(l.value.split(" ")[1]===n.id){const f=l.id;o.add(f)}}if(o.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);const a=new Map;for(const l of r.ssrcGroups||[]){if(l.semantics!=="FID")continue;let[d,f]=l.ssrcs.split(/\s+/);d=Number(d),f=Number(f),o.has(d)&&(o.delete(d),o.delete(f),a.set(d,f))}for(const l of o)a.set(l,null);const c=[];for(const[l,d]of a){const f={ssrc:l};d&&(f.rtx={ssrc:d}),c.push(f)}return c}function t({offerMediaObject:r,track:n,numStreams:o}){if(o<=1)throw new TypeError("numStreams must be greater than 1");let a,c,l;if(!(r.ssrcs||[]).find(w=>w.attribute!=="msid"?!1:w.value.split(" ")[1]===n.id?(a=w.id,l=w.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${n.id}]`);(r.ssrcGroups||[]).some(w=>{if(w.semantics!=="FID")return!1;const b=w.ssrcs.split(/\s+/);return Number(b[0])===a?(c=Number(b[1]),!0):!1});const f=r.ssrcs.find(w=>w.attribute==="cname"&&w.id===a);if(!f)throw new Error(`a=ssrc line with cname information not found [track.id:${n.id}]`);const m=f.value,v=[],g=[];for(let w=0;w<o;++w)v.push(a+w),c&&g.push(c+w);r.ssrcGroups=r.ssrcGroups||[],r.ssrcs=r.ssrcs||[],r.ssrcGroups.push({semantics:"SIM",ssrcs:v.join(" ")});for(const w of v)r.ssrcs.push({id:w,attribute:"cname",value:m}),r.ssrcs.push({id:w,attribute:"msid",value:`${l} ${n.id}`});for(let w=0;w<g.length;++w){const b=v[w],E=g[w];r.ssrcs.push({id:E,attribute:"cname",value:m}),r.ssrcs.push({id:E,attribute:"msid",value:`${l} ${n.id}`}),r.ssrcGroups.push({semantics:"FID",ssrcs:`${b} ${E}`})}}return uc}var d_;function S4(){if(d_)return bn;d_=1;var e=bn&&bn.__createBinding||(Object.create?function(E,R,T,x){x===void 0&&(x=T);var p=Object.getOwnPropertyDescriptor(R,T);(!p||("get"in p?!R.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return R[T]}}),Object.defineProperty(E,x,p)}:function(E,R,T,x){x===void 0&&(x=T),E[x]=R[T]}),t=bn&&bn.__setModuleDefault||(Object.create?function(E,R){Object.defineProperty(E,"default",{enumerable:!0,value:R})}:function(E,R){E.default=R}),r=bn&&bn.__importStar||function(E){if(E&&E.__esModule)return E;var R={};if(E!=null)for(var T in E)T!=="default"&&Object.prototype.hasOwnProperty.call(E,T)&&e(R,E,T);return t(R,E),R};Object.defineProperty(bn,"__esModule",{value:!0}),bn.Chrome67=void 0;const n=r(Ir()),o=At(),a=r(tr()),c=r(jr()),l=r(Un()),d=r(Pf()),f=Wr(),m=Vn(),v=new o.Logger("Chrome67"),g="Chrome67",w={OS:1024,MIS:1024};let b=class gR extends f.HandlerInterface{static createFactory(){return()=>new gR}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return g}close(){if(v.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const R=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const T=await R.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{R.close()}catch{}const x=n.parse(T.sdp);return l.extractRtpCapabilities({sdpObject:x})}catch(T){try{R.close()}catch{}throw T}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:w}}run({direction:R,iceParameters:T,iceCandidates:x,dtlsParameters:p,sctpParameters:h,iceServers:S,iceTransportPolicy:C,additionalSettings:D,proprietaryConstraints:j,extendedRtpCapabilities:L}){v.debug("run()"),this._direction=R,this._remoteSdp=new m.RemoteSdp({iceParameters:T,iceCandidates:x,dtlsParameters:p,sctpParameters:h,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",L),video:c.getSendingRtpParameters("video",L)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",L),video:c.getSendingRemoteRtpParameters("video",L)},p.role&&p.role!=="auto"&&(this._forcedLocalDtlsRole=p.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:S??[],iceTransportPolicy:C??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...D},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(R){v.debug("updateIceServers()");const T=this._pc.getConfiguration();T.iceServers=R,this._pc.setConfiguration(T)}async restartIce(R){if(v.debug("restartIce()"),this._remoteSdp.updateIceParameters(R),!!this._transportReady)if(this._direction==="send"){const T=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const x={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}else{const T={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const x=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",x),await this._pc.setLocalDescription(x)}}async getTransportStats(){return this._pc.getStats()}async send({track:R,encodings:T,codecOptions:x,codec:p}){this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",R.kind,R.id),p&&v.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(R),this._pc.addTrack(R,this._sendStream);let h=await this._pc.createOffer(),S=n.parse(h.sdp),C;const D=a.clone(this._sendingRtpParametersByKind[R.kind]);D.codecs=c.reduceCodecs(D.codecs);const j=a.clone(this._sendingRemoteRtpParametersByKind[R.kind]);if(j.codecs=c.reduceCodecs(j.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:S}),R.kind==="video"&&T&&T.length>1&&(v.debug("send() | enabling simulcast"),S=n.parse(h.sdp),C=S.media.find(O=>O.type==="video"),d.addLegacySimulcast({offerMediaObject:C,track:R,numStreams:T.length}),h={type:"offer",sdp:n.write(S)}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h),S=n.parse(this._pc.localDescription.sdp),C=S.media.find(O=>O.type===R.kind),D.rtcp.cname=l.getCname({offerMediaObject:C}),D.encodings=d.getRtpEncodings({offerMediaObject:C,track:R}),T)for(let O=0;O<D.encodings.length;++O)T[O]&&Object.assign(D.encodings[O],T[O]);if(D.encodings.length>1&&D.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const O of D.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:C,offerRtpParameters:D,answerRtpParameters:j,codecOptions:x});const L={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L);const N=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(O=>O.track===R);return this._mapSendLocalIdRtpSender.set(N,A),{localId:N,rtpParameters:D,rtpSender:A}}async stopSending(R){this.assertSendDirection(),v.debug("stopSending() [localId:%s]",R);const T=this._mapSendLocalIdRtpSender.get(R);if(!T)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(T),T.track&&this._sendStream.removeTrack(T.track),this._mapSendLocalIdRtpSender.delete(R);const x=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x);try{await this._pc.setLocalDescription(x)}catch(h){if(this._sendStream.getTracks().length===0){v.warn("stopSending() | ignoring expected error due no sending tracks: %s",h.toString());return}throw h}if(this._pc.signalingState==="stable")return;const p={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async pauseSending(R){}async resumeSending(R){}async replaceTrack(R,T){this.assertSendDirection(),T?v.debug("replaceTrack() [localId:%s, track.id:%s]",R,T.id):v.debug("replaceTrack() [localId:%s, no track]",R);const x=this._mapSendLocalIdRtpSender.get(R);if(!x)throw new Error("associated RTCRtpSender not found");const p=x.track;await x.replaceTrack(T),p&&this._sendStream.removeTrack(p),T&&this._sendStream.addTrack(T)}async setMaxSpatialLayer(R,T){this.assertSendDirection(),v.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",R,T);const x=this._mapSendLocalIdRtpSender.get(R);if(!x)throw new Error("associated RTCRtpSender not found");const p=x.getParameters();p.encodings.forEach((h,S)=>{S<=T?h.active=!0:h.active=!1}),await x.setParameters(p)}async setRtpEncodingParameters(R,T){this.assertSendDirection(),v.debug("setRtpEncodingParameters() [localId:%s, params:%o]",R,T);const x=this._mapSendLocalIdRtpSender.get(R);if(!x)throw new Error("associated RTCRtpSender not found");const p=x.getParameters();p.encodings.forEach((h,S)=>{p.encodings[S]={...h,...T}}),await x.setParameters(p)}async getSenderStats(R){this.assertSendDirection();const T=this._mapSendLocalIdRtpSender.get(R);if(!T)throw new Error("associated RTCRtpSender not found");return T.getStats()}async sendDataChannel({ordered:R,maxPacketLifeTime:T,maxRetransmits:x,label:p,protocol:h}){this.assertSendDirection();const S={negotiated:!0,id:this._nextSendSctpStreamId,ordered:R,maxPacketLifeTime:T,maxRetransmitTime:T,maxRetransmits:x,protocol:h};v.debug("sendDataChannel() [options:%o]",S);const C=this._pc.createDataChannel(p,S);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),L=n.parse(j.sdp),N=L.media.find(O=>O.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:L}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const A={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const D={streamId:S.id,ordered:S.ordered,maxPacketLifeTime:S.maxPacketLifeTime,maxRetransmits:S.maxRetransmits};return{dataChannel:C,sctpStreamParameters:D}}async receive(R){this.assertRecvDirection();const T=[];for(const S of R){const{trackId:C,kind:D,rtpParameters:j,streamId:L}=S;v.debug("receive() [trackId:%s, kind:%s]",C,D);const N=D;this._remoteSdp.receive({mid:N,kind:D,offerRtpParameters:j,streamId:L??j.rtcp.cname,trackId:C})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);let p=await this._pc.createAnswer();const h=n.parse(p.sdp);for(const S of R){const{kind:C,rtpParameters:D}=S,j=C,L=h.media.find(N=>String(N.mid)===j);l.applyCodecParameters({offerRtpParameters:D,answerMediaObject:L})}p={type:"answer",sdp:n.write(h)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const S of R){const{kind:C,trackId:D,rtpParameters:j}=S,L=D,N=C,A=this._pc.getReceivers().find(O=>O.track&&O.track.id===L);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(L,{mid:N,rtpParameters:j,rtpReceiver:A}),T.push({localId:L,track:A.track,rtpReceiver:A})}return T}async stopReceiving(R){this.assertRecvDirection();for(const p of R){v.debug("stopReceiving() [localId:%s]",p);const{mid:h,rtpParameters:S}=this._mapRecvLocalIdInfo.get(p)??{};this._mapRecvLocalIdInfo.delete(p),this._remoteSdp.planBStopReceiving({mid:h,offerRtpParameters:S})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const x=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",x),await this._pc.setLocalDescription(x)}async pauseReceiving(R){}async resumeReceiving(R){}async getReceiverStats(R){this.assertRecvDirection();const{rtpReceiver:T}=this._mapRecvLocalIdInfo.get(R)??{};if(!T)throw new Error("associated RTCRtpReceiver not found");return T.getStats()}async receiveDataChannel({sctpStreamParameters:R,label:T,protocol:x}){this.assertRecvDirection();const{streamId:p,ordered:h,maxPacketLifeTime:S,maxRetransmits:C}=R,D={negotiated:!0,id:p,ordered:h,maxPacketLifeTime:S,maxRetransmitTime:S,maxRetransmits:C,protocol:x};v.debug("receiveDataChannel() [options:%o]",D);const j=this._pc.createDataChannel(T,D);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const L={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",L),await this._pc.setRemoteDescription(L);const N=await this._pc.createAnswer();if(!this._transportReady){const A=n.parse(N.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:R,localSdpObject:T}){T||(T=n.parse(this._pc.localDescription.sdp));const x=l.extractDtlsParameters({sdpObject:T});x.role=R,this._remoteSdp.updateDtlsRole(R==="client"?"server":"client"),await new Promise((p,h)=>{this.safeEmit("@connect",{dtlsParameters:x},p,h)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return bn.Chrome67=b,bn}var _n={},f_;function b4(){if(f_)return _n;f_=1;var e=_n&&_n.__createBinding||(Object.create?function(R,T,x,p){p===void 0&&(p=x);var h=Object.getOwnPropertyDescriptor(T,x);(!h||("get"in h?!T.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return T[x]}}),Object.defineProperty(R,p,h)}:function(R,T,x,p){p===void 0&&(p=x),R[p]=T[x]}),t=_n&&_n.__setModuleDefault||(Object.create?function(R,T){Object.defineProperty(R,"default",{enumerable:!0,value:T})}:function(R,T){R.default=T}),r=_n&&_n.__importStar||function(R){if(R&&R.__esModule)return R;var T={};if(R!=null)for(var x in R)x!=="default"&&Object.prototype.hasOwnProperty.call(R,x)&&e(T,R,x);return t(T,R),T};Object.defineProperty(_n,"__esModule",{value:!0}),_n.Chrome55=void 0;const n=r(Ir()),o=At(),a=vr(),c=r(tr()),l=r(jr()),d=r(Un()),f=r(Pf()),m=Wr(),v=Vn(),g=new o.Logger("Chrome55"),w="Chrome55",b={OS:1024,MIS:1024};let E=class vR extends m.HandlerInterface{static createFactory(){return()=>new vR}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(g.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){g.debug("getNativeRtpCapabilities()");const T=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const x=await T.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{T.close()}catch{}const p=n.parse(x.sdp);return d.extractRtpCapabilities({sdpObject:p})}catch(x){try{T.close()}catch{}throw x}}async getNativeSctpCapabilities(){return g.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:T,iceParameters:x,iceCandidates:p,dtlsParameters:h,sctpParameters:S,iceServers:C,iceTransportPolicy:D,additionalSettings:j,proprietaryConstraints:L,extendedRtpCapabilities:N}){g.debug("run()"),this._direction=T,this._remoteSdp=new v.RemoteSdp({iceParameters:x,iceCandidates:p,dtlsParameters:h,sctpParameters:S,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",N),video:l.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",N),video:l.getSendingRemoteRtpParameters("video",N)},h.role&&h.role!=="auto"&&(this._forcedLocalDtlsRole=h.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:C??[],iceTransportPolicy:D??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...j},L),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(g.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(T){g.debug("updateIceServers()");const x=this._pc.getConfiguration();x.iceServers=T,this._pc.setConfiguration(x)}async restartIce(T){if(g.debug("restartIce()"),this._remoteSdp.updateIceParameters(T),!!this._transportReady)if(this._direction==="send"){const x=await this._pc.createOffer({iceRestart:!0});g.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const p={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const x={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const p=await this._pc.createAnswer();g.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this._pc.getStats()}async send({track:T,encodings:x,codecOptions:p,codec:h}){this.assertSendDirection(),g.debug("send() [kind:%s, track.id:%s]",T.kind,T.id),h&&g.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(T),this._pc.addStream(this._sendStream);let S=await this._pc.createOffer(),C=n.parse(S.sdp),D;const j=c.clone(this._sendingRtpParametersByKind[T.kind]);j.codecs=l.reduceCodecs(j.codecs);const L=c.clone(this._sendingRemoteRtpParametersByKind[T.kind]);if(L.codecs=l.reduceCodecs(L.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:C}),T.kind==="video"&&x&&x.length>1&&(g.debug("send() | enabling simulcast"),C=n.parse(S.sdp),D=C.media.find(O=>O.type==="video"),f.addLegacySimulcast({offerMediaObject:D,track:T,numStreams:x.length}),S={type:"offer",sdp:n.write(C)}),g.debug("send() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S),C=n.parse(this._pc.localDescription.sdp),D=C.media.find(O=>O.type===T.kind),j.rtcp.cname=d.getCname({offerMediaObject:D}),j.encodings=f.getRtpEncodings({offerMediaObject:D,track:T}),x)for(let O=0;O<j.encodings.length;++O)x[O]&&Object.assign(j.encodings[O],x[O]);if(j.encodings.length>1&&j.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const O of j.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:D,offerRtpParameters:j,answerRtpParameters:L,codecOptions:p});const N={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("send() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,T),{localId:A,rtpParameters:j}}async stopSending(T){this.assertSendDirection(),g.debug("stopSending() [localId:%s]",T);const x=this._mapSendLocalIdTrack.get(T);if(!x)throw new Error("track not found");this._mapSendLocalIdTrack.delete(T),this._sendStream.removeTrack(x),this._pc.addStream(this._sendStream);const p=await this._pc.createOffer();g.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",p);try{await this._pc.setLocalDescription(p)}catch(S){if(this._sendStream.getTracks().length===0){g.warn("stopSending() | ignoring expected error due no sending tracks: %s",S.toString());return}throw S}if(this._pc.signalingState==="stable")return;const h={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async pauseSending(T){}async resumeSending(T){}async replaceTrack(T,x){throw new a.UnsupportedError("not implemented")}async setMaxSpatialLayer(T,x){throw new a.UnsupportedError(" not implemented")}async setRtpEncodingParameters(T,x){throw new a.UnsupportedError("not supported")}async getSenderStats(T){throw new a.UnsupportedError("not implemented")}async sendDataChannel({ordered:T,maxPacketLifeTime:x,maxRetransmits:p,label:h,protocol:S}){this.assertSendDirection();const C={negotiated:!0,id:this._nextSendSctpStreamId,ordered:T,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:p,protocol:S};g.debug("sendDataChannel() [options:%o]",C);const D=this._pc.createDataChannel(h,C);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const L=await this._pc.createOffer(),N=n.parse(L.sdp),A=N.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),g.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const O={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._hasDataChannelMediaSection=!0}const j={streamId:C.id,ordered:C.ordered,maxPacketLifeTime:C.maxPacketLifeTime,maxRetransmits:C.maxRetransmits};return{dataChannel:D,sctpStreamParameters:j}}async receive(T){this.assertRecvDirection();const x=[];for(const C of T){const{trackId:D,kind:j,rtpParameters:L,streamId:N}=C;g.debug("receive() [trackId:%s, kind:%s]",D,j);const A=j;this._remoteSdp.receive({mid:A,kind:j,offerRtpParameters:L,streamId:N??L.rtcp.cname,trackId:D})}const p={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);let h=await this._pc.createAnswer();const S=n.parse(h.sdp);for(const C of T){const{kind:D,rtpParameters:j}=C,L=D,N=S.media.find(A=>String(A.mid)===L);d.applyCodecParameters({offerRtpParameters:j,answerMediaObject:N})}h={type:"answer",sdp:n.write(S)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:S}),g.debug("receive() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h);for(const C of T){const{kind:D,trackId:j,rtpParameters:L}=C,N=D,A=j,O=C.streamId??L.rtcp.cname,W=this._pc.getRemoteStreams().find(X=>X.id===O).getTrackById(A);if(!W)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:N,rtpParameters:L}),x.push({localId:A,track:W})}return x}async stopReceiving(T){this.assertRecvDirection();for(const h of T){g.debug("stopReceiving() [localId:%s]",h);const{mid:S,rtpParameters:C}=this._mapRecvLocalIdInfo.get(h)??{};this._mapRecvLocalIdInfo.delete(h),this._remoteSdp.planBStopReceiving({mid:S,offerRtpParameters:C})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const p=await this._pc.createAnswer();g.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async pauseReceiving(T){}async resumeReceiving(T){}async getReceiverStats(T){throw new a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:T,label:x,protocol:p}){this.assertRecvDirection();const{streamId:h,ordered:S,maxPacketLifeTime:C,maxRetransmits:D}=T,j={negotiated:!0,id:h,ordered:S,maxPacketLifeTime:C,maxRetransmitTime:C,maxRetransmits:D,protocol:p};g.debug("receiveDataChannel() [options:%o]",j);const L=this._pc.createDataChannel(x,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const N={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const A=await this._pc.createAnswer();if(!this._transportReady){const O=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O})}g.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:L}}async setupTransport({localDtlsRole:T,localSdpObject:x}){x||(x=n.parse(this._pc.localDescription.sdp));const p=d.extractDtlsParameters({sdpObject:x});p.role=T,this._remoteSdp.updateDtlsRole(T==="client"?"server":"client"),await new Promise((h,S)=>{this.safeEmit("@connect",{dtlsParameters:p},h,S)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return _n.Chrome55=E,_n}var xn={},p_;function _4(){if(p_)return xn;p_=1;var e=xn&&xn.__createBinding||(Object.create?function(T,x,p,h){h===void 0&&(h=p);var S=Object.getOwnPropertyDescriptor(x,p);(!S||("get"in S?!x.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return x[p]}}),Object.defineProperty(T,h,S)}:function(T,x,p,h){h===void 0&&(h=p),T[h]=x[p]}),t=xn&&xn.__setModuleDefault||(Object.create?function(T,x){Object.defineProperty(T,"default",{enumerable:!0,value:x})}:function(T,x){T.default=x}),r=xn&&xn.__importStar||function(T){if(T&&T.__esModule)return T;var x={};if(T!=null)for(var p in T)p!=="default"&&Object.prototype.hasOwnProperty.call(T,p)&&e(x,T,p);return t(x,T),x};Object.defineProperty(xn,"__esModule",{value:!0}),xn.Firefox120=void 0;const n=r(Ir()),o=At(),a=vr(),c=r(tr()),l=r(jr()),d=r(Un()),f=r(ni()),m=Wr(),v=Vn(),g=po(),w=new o.Logger("Firefox120"),b="Firefox120",E={OS:16,MIS:2048};let R=class yR extends m.HandlerInterface{static createFactory(){return()=>new yR}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return b}close(){if(w.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const x=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),p=document.createElement("canvas");p.getContext("2d");const S=p.captureStream().getVideoTracks()[0];try{x.addTransceiver("audio",{direction:"sendrecv"}),x.addTransceiver(S,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const C=await x.createOffer();try{p.remove()}catch{}try{S.stop()}catch{}try{x.close()}catch{}const D=n.parse(C.sdp);return d.extractRtpCapabilities({sdpObject:D})}catch(C){try{p.remove()}catch{}try{S.stop()}catch{}try{x.close()}catch{}throw C}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:E}}run({direction:x,iceParameters:p,iceCandidates:h,dtlsParameters:S,sctpParameters:C,iceServers:D,iceTransportPolicy:j,additionalSettings:L,proprietaryConstraints:N,extendedRtpCapabilities:A}){this.assertNotClosed(),w.debug("run()"),this._direction=x,this._remoteSdp=new v.RemoteSdp({iceParameters:p,iceCandidates:h,dtlsParameters:S,sctpParameters:C}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",A),video:l.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",A),video:l.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:D??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...L},N),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(x){throw this.assertNotClosed(),new a.UnsupportedError("not supported")}async restartIce(x){if(this.assertNotClosed(),w.debug("restartIce()"),this._remoteSdp.updateIceParameters(x),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const h={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:x,encodings:p,codecOptions:h,codec:S,onRtpSender:C}){this.assertNotClosed(),this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",x.kind,x.id),p&&p.length>1&&p.forEach((M,B)=>{M.rid=`r${B}`});const D=c.clone(this._sendingRtpParametersByKind[x.kind]);D.codecs=l.reduceCodecs(D.codecs,S);const j=c.clone(this._sendingRemoteRtpParametersByKind[x.kind]);j.codecs=l.reduceCodecs(j.codecs,S);const L=this._pc.addTransceiver(x,{direction:"sendonly",streams:[this._sendStream],sendEncodings:p});C&&C(L.sender);const N=await this._pc.createOffer();let A=n.parse(N.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A});const O=(0,g.parse)((p??[{}])[0].scalabilityMode);w.debug("send() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N);const V=L.mid;D.mid=V,A=n.parse(this._pc.localDescription.sdp);const W=A.media[A.media.length-1];if(D.rtcp.cname=d.getCname({offerMediaObject:W}),!p)D.encodings=f.getRtpEncodings({offerMediaObject:W});else if(p.length===1){const M=f.getRtpEncodings({offerMediaObject:W});Object.assign(M[0],p[0]),D.encodings=M}else D.encodings=p;if(D.encodings.length>1&&(D.codecs[0].mimeType.toLowerCase()==="video/vp8"||D.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const M of D.encodings)M.scalabilityMode?M.scalabilityMode=`L1T${O.temporalLayers}`:M.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,offerRtpParameters:D,answerRtpParameters:j,codecOptions:h,extmapAllowMixed:!0});const X={type:"answer",sdp:this._remoteSdp.getSdp()};return w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",X),await this._pc.setRemoteDescription(X),this._mapMidTransceiver.set(V,L),{localId:V,rtpParameters:D,rtpSender:L.sender}}async stopSending(x){if(this.assertSendDirection(),w.debug("stopSending() [localId:%s]",x),this._closed)return;const p=this._mapMidTransceiver.get(x);if(!p)throw new Error("associated transceiver not found");p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.disableMediaSection(p.mid);const h=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const S={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.delete(x)}async pauseSending(x){this.assertNotClosed(),this.assertSendDirection(),w.debug("pauseSending() [localId:%s]",x);const p=this._mapMidTransceiver.get(x);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(x);const h=await this._pc.createOffer();w.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const S={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}async resumeSending(x){this.assertNotClosed(),this.assertSendDirection(),w.debug("resumeSending() [localId:%s]",x);const p=this._mapMidTransceiver.get(x);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(x);const h=await this._pc.createOffer();w.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const S={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}async replaceTrack(x,p){this.assertNotClosed(),this.assertSendDirection(),p?w.debug("replaceTrack() [localId:%s, track.id:%s]",x,p.id):w.debug("replaceTrack() [localId:%s, no track]",x);const h=this._mapMidTransceiver.get(x);if(!h)throw new Error("associated RTCRtpTransceiver not found");await h.sender.replaceTrack(p)}async setMaxSpatialLayer(x,p){this.assertNotClosed(),this.assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",x,p);const h=this._mapMidTransceiver.get(x);if(!h)throw new Error("associated transceiver not found");const S=h.sender.getParameters();S.encodings.forEach((j,L)=>{L<=p?j.active=!0:j.active=!1}),await h.sender.setParameters(S),this._remoteSdp.muxMediaSectionSimulcast(x,S.encodings);const C=await this._pc.createOffer();w.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const D={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async setRtpEncodingParameters(x,p){this.assertNotClosed(),this.assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",x,p);const h=this._mapMidTransceiver.get(x);if(!h)throw new Error("associated RTCRtpTransceiver not found");const S=h.sender.getParameters();S.encodings.forEach((j,L)=>{S.encodings[L]={...j,...p}}),await h.sender.setParameters(S),this._remoteSdp.muxMediaSectionSimulcast(x,S.encodings);const C=await this._pc.createOffer();w.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const D={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async getSenderStats(x){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(x);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:x,maxPacketLifeTime:p,maxRetransmits:h,label:S,protocol:C}){this.assertNotClosed(),this.assertSendDirection();const D={negotiated:!0,id:this._nextSendSctpStreamId,ordered:x,maxPacketLifeTime:p,maxRetransmits:h,protocol:C};w.debug("sendDataChannel() [options:%o]",D);const j=this._pc.createDataChannel(S,D);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%E.MIS,!this._hasDataChannelMediaSection){const N=await this._pc.createOffer(),A=n.parse(N.sdp),O=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N),this._remoteSdp.sendSctpAssociation({offerMediaObject:O});const V={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._hasDataChannelMediaSection=!0}const L={streamId:D.id,ordered:D.ordered,maxPacketLifeTime:D.maxPacketLifeTime,maxRetransmits:D.maxRetransmits};return{dataChannel:j,sctpStreamParameters:L}}async receive(x){this.assertNotClosed(),this.assertRecvDirection();const p=[],h=new Map;for(const j of x){const{trackId:L,kind:N,rtpParameters:A,streamId:O}=j;w.debug("receive() [trackId:%s, kind:%s]",L,N);const V=A.mid??String(this._mapMidTransceiver.size);h.set(L,V),this._remoteSdp.receive({mid:V,kind:N,offerRtpParameters:A,streamId:O??A.rtcp.cname,trackId:L})}const S={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",S),await this._pc.setRemoteDescription(S);for(const j of x){const{trackId:L,onRtpReceiver:N}=j;if(N){const A=h.get(L),O=this._pc.getTransceivers().find(V=>V.mid===A);if(!O)throw new Error("transceiver not found");N(O.receiver)}}let C=await this._pc.createAnswer();const D=n.parse(C.sdp);for(const j of x){const{trackId:L,rtpParameters:N}=j,A=h.get(L),O=D.media.find(V=>String(V.mid)===A);d.applyCodecParameters({offerRtpParameters:N,answerMediaObject:O}),C={type:"answer",sdp:n.write(D)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:D}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C);for(const j of x){const{trackId:L}=j,N=h.get(L),A=this._pc.getTransceivers().find(O=>O.mid===N);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(N,A),p.push({localId:N,track:A.receiver.track,rtpReceiver:A.receiver})}return p}async stopReceiving(x){if(this.assertRecvDirection(),this._closed)return;for(const S of x){w.debug("stopReceiving() [localId:%s]",S);const C=this._mapMidTransceiver.get(S);if(!C)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(C.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h);for(const S of x)this._mapMidTransceiver.delete(S)}async pauseReceiving(x){this.assertNotClosed(),this.assertRecvDirection();for(const S of x){w.debug("pauseReceiving() [localId:%s]",S);const C=this._mapMidTransceiver.get(S);if(!C)throw new Error("associated RTCRtpTransceiver not found");C.direction="inactive",this._remoteSdp.pauseMediaSection(S)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}async resumeReceiving(x){this.assertNotClosed(),this.assertRecvDirection();for(const S of x){w.debug("resumeReceiving() [localId:%s]",S);const C=this._mapMidTransceiver.get(S);if(!C)throw new Error("associated RTCRtpTransceiver not found");C.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(S)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}async getReceiverStats(x){this.assertRecvDirection();const p=this._mapMidTransceiver.get(x);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:x,label:p,protocol:h}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:S,ordered:C,maxPacketLifeTime:D,maxRetransmits:j}=x,L={negotiated:!0,id:S,ordered:C,maxPacketLifeTime:D,maxRetransmits:j,protocol:h};w.debug("receiveDataChannel() [options:%o]",L);const N=this._pc.createDataChannel(p,L);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const O=await this._pc.createAnswer();if(!this._transportReady){const V=n.parse(O.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:V})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setLocalDescription(O),this._hasDataChannelMediaSection=!0}return{dataChannel:N}}async setupTransport({localDtlsRole:x,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const h=d.extractDtlsParameters({sdpObject:p});h.role=x,this._remoteSdp.updateDtlsRole(x==="client"?"server":"client"),await new Promise((S,C)=>{this.safeEmit("@connect",{dtlsParameters:h},S,C)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return xn.Firefox120=R,xn}var Cn={},h_;function x4(){if(h_)return Cn;h_=1;var e=Cn&&Cn.__createBinding||(Object.create?function(T,x,p,h){h===void 0&&(h=p);var S=Object.getOwnPropertyDescriptor(x,p);(!S||("get"in S?!x.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return x[p]}}),Object.defineProperty(T,h,S)}:function(T,x,p,h){h===void 0&&(h=p),T[h]=x[p]}),t=Cn&&Cn.__setModuleDefault||(Object.create?function(T,x){Object.defineProperty(T,"default",{enumerable:!0,value:x})}:function(T,x){T.default=x}),r=Cn&&Cn.__importStar||function(T){if(T&&T.__esModule)return T;var x={};if(T!=null)for(var p in T)p!=="default"&&Object.prototype.hasOwnProperty.call(T,p)&&e(x,T,p);return t(x,T),x};Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.Firefox60=void 0;const n=r(Ir()),o=At(),a=vr(),c=r(tr()),l=r(jr()),d=r(Un()),f=r(ni()),m=Wr(),v=Vn(),g=po(),w=new o.Logger("Firefox60"),b="Firefox60",E={OS:16,MIS:2048};let R=class wR extends m.HandlerInterface{static createFactory(){return()=>new wR}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return b}close(){if(w.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){w.debug("getNativeRtpCapabilities()");const x=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),p=document.createElement("canvas");p.getContext("2d");const S=p.captureStream().getVideoTracks()[0];try{x.addTransceiver("audio",{direction:"sendrecv"});const C=x.addTransceiver(S,{direction:"sendrecv"}),D=C.sender.getParameters(),j=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];D.encodings=j,await C.sender.setParameters(D);const L=await x.createOffer();try{p.remove()}catch{}try{S.stop()}catch{}try{x.close()}catch{}const N=n.parse(L.sdp);return d.extractRtpCapabilities({sdpObject:N})}catch(C){try{p.remove()}catch{}try{S.stop()}catch{}try{x.close()}catch{}throw C}}async getNativeSctpCapabilities(){return w.debug("getNativeSctpCapabilities()"),{numStreams:E}}run({direction:x,iceParameters:p,iceCandidates:h,dtlsParameters:S,sctpParameters:C,iceServers:D,iceTransportPolicy:j,additionalSettings:L,proprietaryConstraints:N,extendedRtpCapabilities:A}){this.assertNotClosed(),w.debug("run()"),this._direction=x,this._remoteSdp=new v.RemoteSdp({iceParameters:p,iceCandidates:h,dtlsParameters:S,sctpParameters:C}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",A),video:l.getSendingRtpParameters("video",A)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",A),video:l.getSendingRemoteRtpParameters("video",A)},this._pc=new RTCPeerConnection({iceServers:D??[],iceTransportPolicy:j??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...L},N),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(w.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(x){throw this.assertNotClosed(),new a.UnsupportedError("not supported")}async restartIce(x){if(this.assertNotClosed(),w.debug("restartIce()"),this._remoteSdp.updateIceParameters(x),!!this._transportReady)if(this._direction==="send"){const p=await this._pc.createOffer({iceRestart:!0});w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const h={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}else{const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:x,encodings:p,codecOptions:h,codec:S}){this.assertNotClosed(),this.assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",x.kind,x.id),p&&(p=c.clone(p),p.forEach((X,M)=>{X.rid=`r${M}`}),p.reverse());const C=c.clone(this._sendingRtpParametersByKind[x.kind]);C.codecs=l.reduceCodecs(C.codecs,S);const D=c.clone(this._sendingRemoteRtpParametersByKind[x.kind]);D.codecs=l.reduceCodecs(D.codecs,S);const j=this._pc.addTransceiver(x,{direction:"sendonly",streams:[this._sendStream]});if(p){const X=j.sender.getParameters();X.encodings=p,await j.sender.setParameters(X)}const L=await this._pc.createOffer();let N=n.parse(L.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:N});const A=(0,g.parse)((p??[{}])[0].scalabilityMode);w.debug("send() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L);const O=j.mid;C.mid=O,N=n.parse(this._pc.localDescription.sdp);const V=N.media[N.media.length-1];if(C.rtcp.cname=d.getCname({offerMediaObject:V}),!p)C.encodings=f.getRtpEncodings({offerMediaObject:V});else if(p.length===1){const X=f.getRtpEncodings({offerMediaObject:V});Object.assign(X[0],p[0]),C.encodings=X}else C.encodings=p.reverse();if(C.encodings.length>1&&(C.codecs[0].mimeType.toLowerCase()==="video/vp8"||C.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const X of C.encodings)X.scalabilityMode?X.scalabilityMode=`L1T${A.temporalLayers}`:X.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:V,offerRtpParameters:C,answerRtpParameters:D,codecOptions:h,extmapAllowMixed:!0});const W={type:"answer",sdp:this._remoteSdp.getSdp()};return w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._mapMidTransceiver.set(O,j),{localId:O,rtpParameters:C,rtpSender:j.sender}}async stopSending(x){if(this.assertSendDirection(),w.debug("stopSending() [localId:%s]",x),this._closed)return;const p=this._mapMidTransceiver.get(x);if(!p)throw new Error("associated transceiver not found");p.sender.replaceTrack(null),this._pc.removeTrack(p.sender),this._remoteSdp.disableMediaSection(p.mid);const h=await this._pc.createOffer();w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const S={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.delete(x)}async pauseSending(x){this.assertNotClosed(),this.assertSendDirection(),w.debug("pauseSending() [localId:%s]",x);const p=this._mapMidTransceiver.get(x);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="inactive",this._remoteSdp.pauseMediaSection(x);const h=await this._pc.createOffer();w.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const S={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}async resumeSending(x){this.assertNotClosed(),this.assertSendDirection(),w.debug("resumeSending() [localId:%s]",x);const p=this._mapMidTransceiver.get(x);if(!p)throw new Error("associated RTCRtpTransceiver not found");p.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(x);const h=await this._pc.createOffer();w.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const S={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}async replaceTrack(x,p){this.assertNotClosed(),this.assertSendDirection(),p?w.debug("replaceTrack() [localId:%s, track.id:%s]",x,p.id):w.debug("replaceTrack() [localId:%s, no track]",x);const h=this._mapMidTransceiver.get(x);if(!h)throw new Error("associated RTCRtpTransceiver not found");await h.sender.replaceTrack(p)}async setMaxSpatialLayer(x,p){this.assertNotClosed(),this.assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",x,p);const h=this._mapMidTransceiver.get(x);if(!h)throw new Error("associated transceiver not found");const S=h.sender.getParameters();p=S.encodings.length-1-p,S.encodings.forEach((j,L)=>{L>=p?j.active=!0:j.active=!1}),await h.sender.setParameters(S),this._remoteSdp.muxMediaSectionSimulcast(x,S.encodings);const C=await this._pc.createOffer();w.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const D={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async setRtpEncodingParameters(x,p){this.assertNotClosed(),this.assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",x,p);const h=this._mapMidTransceiver.get(x);if(!h)throw new Error("associated RTCRtpTransceiver not found");const S=h.sender.getParameters();S.encodings.forEach((j,L)=>{S.encodings[L]={...j,...p}}),await h.sender.setParameters(S),this._remoteSdp.muxMediaSectionSimulcast(x,S.encodings);const C=await this._pc.createOffer();w.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const D={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async getSenderStats(x){this.assertNotClosed(),this.assertSendDirection();const p=this._mapMidTransceiver.get(x);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.sender.getStats()}async sendDataChannel({ordered:x,maxPacketLifeTime:p,maxRetransmits:h,label:S,protocol:C}){this.assertNotClosed(),this.assertSendDirection();const D={negotiated:!0,id:this._nextSendSctpStreamId,ordered:x,maxPacketLifeTime:p,maxRetransmits:h,protocol:C};w.debug("sendDataChannel() [options:%o]",D);const j=this._pc.createDataChannel(S,D);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%E.MIS,!this._hasDataChannelMediaSection){const N=await this._pc.createOffer(),A=n.parse(N.sdp),O=A.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:A}),w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",N),await this._pc.setLocalDescription(N),this._remoteSdp.sendSctpAssociation({offerMediaObject:O});const V={type:"answer",sdp:this._remoteSdp.getSdp()};w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setRemoteDescription(V),this._hasDataChannelMediaSection=!0}const L={streamId:D.id,ordered:D.ordered,maxPacketLifeTime:D.maxPacketLifeTime,maxRetransmits:D.maxRetransmits};return{dataChannel:j,sctpStreamParameters:L}}async receive(x){this.assertNotClosed(),this.assertRecvDirection();const p=[],h=new Map;for(const j of x){const{trackId:L,kind:N,rtpParameters:A,streamId:O}=j;w.debug("receive() [trackId:%s, kind:%s]",L,N);const V=A.mid??String(this._mapMidTransceiver.size);h.set(L,V),this._remoteSdp.receive({mid:V,kind:N,offerRtpParameters:A,streamId:O??A.rtcp.cname,trackId:L})}const S={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",S),await this._pc.setRemoteDescription(S);let C=await this._pc.createAnswer();const D=n.parse(C.sdp);for(const j of x){const{trackId:L,rtpParameters:N}=j,A=h.get(L),O=D.media.find(V=>String(V.mid)===A);d.applyCodecParameters({offerRtpParameters:N,answerMediaObject:O}),C={type:"answer",sdp:n.write(D)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:D}),w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",C),await this._pc.setLocalDescription(C);for(const j of x){const{trackId:L}=j,N=h.get(L),A=this._pc.getTransceivers().find(O=>O.mid===N);if(!A)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(N,A),p.push({localId:N,track:A.receiver.track,rtpReceiver:A.receiver})}return p}async stopReceiving(x){if(this.assertRecvDirection(),this._closed)return;for(const S of x){w.debug("stopReceiving() [localId:%s]",S);const C=this._mapMidTransceiver.get(S);if(!C)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(C.mid)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h);for(const S of x)this._mapMidTransceiver.delete(S)}async pauseReceiving(x){this.assertNotClosed(),this.assertRecvDirection();for(const S of x){w.debug("pauseReceiving() [localId:%s]",S);const C=this._mapMidTransceiver.get(S);if(!C)throw new Error("associated RTCRtpTransceiver not found");C.direction="inactive",this._remoteSdp.pauseMediaSection(S)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}async resumeReceiving(x){this.assertNotClosed(),this.assertRecvDirection();for(const S of x){w.debug("resumeReceiving() [localId:%s]",S);const C=this._mapMidTransceiver.get(S);if(!C)throw new Error("associated RTCRtpTransceiver not found");C.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(S)}const p={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",p),await this._pc.setRemoteDescription(p);const h=await this._pc.createAnswer();w.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",h),await this._pc.setLocalDescription(h)}async getReceiverStats(x){this.assertRecvDirection();const p=this._mapMidTransceiver.get(x);if(!p)throw new Error("associated RTCRtpTransceiver not found");return p.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:x,label:p,protocol:h}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:S,ordered:C,maxPacketLifeTime:D,maxRetransmits:j}=x,L={negotiated:!0,id:S,ordered:C,maxPacketLifeTime:D,maxRetransmits:j,protocol:h};w.debug("receiveDataChannel() [options:%o]",L);const N=this._pc.createDataChannel(p,L);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const A={type:"offer",sdp:this._remoteSdp.getSdp()};w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",A),await this._pc.setRemoteDescription(A);const O=await this._pc.createAnswer();if(!this._transportReady){const V=n.parse(O.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:V})}w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setLocalDescription(O),this._hasDataChannelMediaSection=!0}return{dataChannel:N}}async setupTransport({localDtlsRole:x,localSdpObject:p}){p||(p=n.parse(this._pc.localDescription.sdp));const h=d.extractDtlsParameters({sdpObject:p});h.role=x,this._remoteSdp.updateDtlsRole(x==="client"?"server":"client"),await new Promise((S,C)=>{this.safeEmit("@connect",{dtlsParameters:h},S,C)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new a.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Cn.Firefox60=R,Cn}var Rn={},m_;function C4(){if(m_)return Rn;m_=1;var e=Rn&&Rn.__createBinding||(Object.create?function(x,p,h,S){S===void 0&&(S=h);var C=Object.getOwnPropertyDescriptor(p,h);(!C||("get"in C?!p.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(x,S,C)}:function(x,p,h,S){S===void 0&&(S=h),x[S]=p[h]}),t=Rn&&Rn.__setModuleDefault||(Object.create?function(x,p){Object.defineProperty(x,"default",{enumerable:!0,value:p})}:function(x,p){x.default=p}),r=Rn&&Rn.__importStar||function(x){if(x&&x.__esModule)return x;var p={};if(x!=null)for(var h in x)h!=="default"&&Object.prototype.hasOwnProperty.call(x,h)&&e(p,x,h);return t(p,x),p};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.Safari12=void 0;const n=r(Ir()),o=At(),a=r(tr()),c=r(jr()),l=r(Un()),d=r(ni()),f=r(kf()),m=vr(),v=Wr(),g=Vn(),w=po(),b=new o.Logger("Safari12"),E="Safari12",R={OS:1024,MIS:1024};let T=class SR extends v.HandlerInterface{static createFactory(){return()=>new SR}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return E}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{p.addTransceiver("audio"),p.addTransceiver("video");const h=await p.createOffer();try{p.close()}catch{}const S=n.parse(h.sdp),C=l.extractRtpCapabilities({sdpObject:S});return f.addNackSuppportForOpus(C),C}catch(h){try{p.close()}catch{}throw h}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:p,iceParameters:h,iceCandidates:S,dtlsParameters:C,sctpParameters:D,iceServers:j,iceTransportPolicy:L,additionalSettings:N,proprietaryConstraints:A,extendedRtpCapabilities:O}){this.assertNotClosed(),b.debug("run()"),this._direction=p,this._remoteSdp=new g.RemoteSdp({iceParameters:h,iceCandidates:S,dtlsParameters:C,sctpParameters:D}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",O),video:c.getSendingRtpParameters("video",O)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",O),video:c.getSendingRemoteRtpParameters("video",O)},C.role&&C.role!=="auto"&&(this._forcedLocalDtlsRole=C.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:j??[],iceTransportPolicy:L??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...N},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(p){this.assertNotClosed(),b.debug("updateIceServers()");const h=this._pc.getConfiguration();h.iceServers=p,this._pc.setConfiguration(h)}async restartIce(p){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const h=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const S={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}else{const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:h,codecOptions:S,codec:C,onRtpSender:D}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",p.kind,p.id);const j=a.clone(this._sendingRtpParametersByKind[p.kind]);j.codecs=c.reduceCodecs(j.codecs,C);const L=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);L.codecs=c.reduceCodecs(L.codecs,C);const N=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream]});D&&D(A.sender);let O=await this._pc.createOffer(),V=n.parse(O.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V});const X=(0,w.parse)((h??[{}])[0].scalabilityMode);h&&h.length>1&&(b.debug("send() | enabling legacy simulcast"),V=n.parse(O.sdp),W=V.media[N.idx],d.addLegacySimulcast({offerMediaObject:W,numStreams:h.length}),O={type:"offer",sdp:n.write(V)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",O),await this._pc.setLocalDescription(O);const M=A.mid;if(j.mid=M,V=n.parse(this._pc.localDescription.sdp),W=V.media[N.idx],j.rtcp.cname=l.getCname({offerMediaObject:W}),j.encodings=d.getRtpEncodings({offerMediaObject:W}),h)for(let $=0;$<j.encodings.length;++$)h[$]&&Object.assign(j.encodings[$],h[$]);if(j.encodings.length>1&&(j.codecs[0].mimeType.toLowerCase()==="video/vp8"||j.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const $ of j.encodings)$.scalabilityMode?$.scalabilityMode=`L1T${X.temporalLayers}`:$.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:N.reuseMid,offerRtpParameters:j,answerRtpParameters:L,codecOptions:S});const B={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setRemoteDescription(B),this._mapMidTransceiver.set(M,A),{localId:M,rtpParameters:j,rtpSender:A.sender}}async stopSending(p){if(this.assertSendDirection(),this._closed)return;b.debug("stopSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");if(h.sender.replaceTrack(null),this._pc.removeTrack(h.sender),this._remoteSdp.closeMediaSection(h.mid))try{h.stop()}catch{}const C=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const D={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="inactive",this._remoteSdp.pauseMediaSection(p);const S=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const C={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(p);const S=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const C={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}async replaceTrack(p,h){this.assertNotClosed(),this.assertSendDirection(),h?b.debug("replaceTrack() [localId:%s, track.id:%s]",p,h.id):b.debug("replaceTrack() [localId:%s, no track]",p);const S=this._mapMidTransceiver.get(p);if(!S)throw new Error("associated RTCRtpTransceiver not found");await S.sender.replaceTrack(h)}async setMaxSpatialLayer(p,h){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,h);const S=this._mapMidTransceiver.get(p);if(!S)throw new Error("associated RTCRtpTransceiver not found");const C=S.sender.getParameters();C.encodings.forEach((L,N)=>{N<=h?L.active=!0:L.active=!1}),await S.sender.setParameters(C),this._remoteSdp.muxMediaSectionSimulcast(p,C.encodings);const D=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async setRtpEncodingParameters(p,h){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,h);const S=this._mapMidTransceiver.get(p);if(!S)throw new Error("associated RTCRtpTransceiver not found");const C=S.sender.getParameters();C.encodings.forEach((L,N)=>{C.encodings[N]={...L,...h}}),await S.sender.setParameters(C),this._remoteSdp.muxMediaSectionSimulcast(p,C.encodings);const D=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:h,maxRetransmits:S,label:C,protocol:D}){this.assertNotClosed(),this.assertSendDirection();const j={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:h,maxRetransmits:S,protocol:D};b.debug("sendDataChannel() [options:%o]",j);const L=this._pc.createDataChannel(C,j);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),O=n.parse(A.sdp),V=O.media.find(X=>X.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const N={streamId:j.id,ordered:j.ordered,maxPacketLifeTime:j.maxPacketLifeTime,maxRetransmits:j.maxRetransmits};return{dataChannel:L,sctpStreamParameters:N}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const h=[],S=new Map;for(const L of p){const{trackId:N,kind:A,rtpParameters:O,streamId:V}=L;b.debug("receive() [trackId:%s, kind:%s]",N,A);const W=O.mid??String(this._mapMidTransceiver.size);S.set(N,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:O,streamId:V??O.rtcp.cname,trackId:N})}const C={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);for(const L of p){const{trackId:N,onRtpReceiver:A}=L;if(A){const O=S.get(N),V=this._pc.getTransceivers().find(W=>W.mid===O);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let D=await this._pc.createAnswer();const j=n.parse(D.sdp);for(const L of p){const{trackId:N,rtpParameters:A}=L,O=S.get(N),V=j.media.find(W=>String(W.mid)===O);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}D={type:"answer",sdp:n.write(j)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",D),await this._pc.setLocalDescription(D);for(const L of p){const{trackId:N}=L,A=S.get(N),O=this._pc.getTransceivers().find(V=>V.mid===A);if(!O)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(A,O),h.push({localId:A,track:O.receiver.track,rtpReceiver:O.receiver})}return h}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const C of p){b.debug("stopReceiving() [localId:%s]",C);const D=this._mapMidTransceiver.get(C);if(!D)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(D.mid)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const C of p)this._mapMidTransceiver.delete(C)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const C of p){b.debug("pauseReceiving() [localId:%s]",C);const D=this._mapMidTransceiver.get(C);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="inactive",this._remoteSdp.pauseMediaSection(C)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const C of p){b.debug("resumeReceiving() [localId:%s]",C);const D=this._mapMidTransceiver.get(C);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(C)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:h,protocol:S}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:C,ordered:D,maxPacketLifeTime:j,maxRetransmits:L}=p,N={negotiated:!0,id:C,ordered:D,maxPacketLifeTime:j,maxRetransmits:L,protocol:S};b.debug("receiveDataChannel() [options:%o]",N);const A=this._pc.createDataChannel(h,N);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const O={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",O),await this._pc.setRemoteDescription(O);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:h}){h||(h=n.parse(this._pc.localDescription.sdp));const S=l.extractDtlsParameters({sdpObject:h});S.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((C,D)=>{this.safeEmit("@connect",{dtlsParameters:S},C,D)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Rn.Safari12=T,Rn}var En={},g_;function R4(){if(g_)return En;g_=1;var e=En&&En.__createBinding||(Object.create?function(E,R,T,x){x===void 0&&(x=T);var p=Object.getOwnPropertyDescriptor(R,T);(!p||("get"in p?!R.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return R[T]}}),Object.defineProperty(E,x,p)}:function(E,R,T,x){x===void 0&&(x=T),E[x]=R[T]}),t=En&&En.__setModuleDefault||(Object.create?function(E,R){Object.defineProperty(E,"default",{enumerable:!0,value:R})}:function(E,R){E.default=R}),r=En&&En.__importStar||function(E){if(E&&E.__esModule)return E;var R={};if(E!=null)for(var T in E)T!=="default"&&Object.prototype.hasOwnProperty.call(E,T)&&e(R,E,T);return t(R,E),R};Object.defineProperty(En,"__esModule",{value:!0}),En.Safari11=void 0;const n=r(Ir()),o=At(),a=r(tr()),c=r(jr()),l=r(Un()),d=r(Pf()),f=Wr(),m=Vn(),v=new o.Logger("Safari11"),g="Safari11",w={OS:1024,MIS:1024};let b=class bR extends f.HandlerInterface{static createFactory(){return()=>new bR}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return g}close(){if(v.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){v.debug("getNativeRtpCapabilities()");const R=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const T=await R.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{R.close()}catch{}const x=n.parse(T.sdp);return l.extractRtpCapabilities({sdpObject:x})}catch(T){try{R.close()}catch{}throw T}}async getNativeSctpCapabilities(){return v.debug("getNativeSctpCapabilities()"),{numStreams:w}}run({direction:R,iceParameters:T,iceCandidates:x,dtlsParameters:p,sctpParameters:h,iceServers:S,iceTransportPolicy:C,additionalSettings:D,proprietaryConstraints:j,extendedRtpCapabilities:L}){v.debug("run()"),this._direction=R,this._remoteSdp=new m.RemoteSdp({iceParameters:T,iceCandidates:x,dtlsParameters:p,sctpParameters:h,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",L),video:c.getSendingRtpParameters("video",L)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",L),video:c.getSendingRemoteRtpParameters("video",L)},p.role&&p.role!=="auto"&&(this._forcedLocalDtlsRole=p.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:S??[],iceTransportPolicy:C??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...D},j),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(v.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(R){v.debug("updateIceServers()");const T=this._pc.getConfiguration();T.iceServers=R,this._pc.setConfiguration(T)}async restartIce(R){if(v.debug("restartIce()"),this._remoteSdp.updateIceParameters(R),!!this._transportReady)if(this._direction==="send"){const T=await this._pc.createOffer({iceRestart:!0});v.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",T),await this._pc.setLocalDescription(T);const x={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",x),await this._pc.setRemoteDescription(x)}else{const T={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const x=await this._pc.createAnswer();v.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",x),await this._pc.setLocalDescription(x)}}async getTransportStats(){return this._pc.getStats()}async send({track:R,encodings:T,codecOptions:x,codec:p}){this.assertSendDirection(),v.debug("send() [kind:%s, track.id:%s]",R.kind,R.id),p&&v.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(R),this._pc.addTrack(R,this._sendStream);let h=await this._pc.createOffer(),S=n.parse(h.sdp),C;const D=a.clone(this._sendingRtpParametersByKind[R.kind]);D.codecs=c.reduceCodecs(D.codecs);const j=a.clone(this._sendingRemoteRtpParametersByKind[R.kind]);if(j.codecs=c.reduceCodecs(j.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:S}),R.kind==="video"&&T&&T.length>1&&(v.debug("send() | enabling simulcast"),S=n.parse(h.sdp),C=S.media.find(O=>O.type==="video"),d.addLegacySimulcast({offerMediaObject:C,track:R,numStreams:T.length}),h={type:"offer",sdp:n.write(S)}),v.debug("send() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h),S=n.parse(this._pc.localDescription.sdp),C=S.media.find(O=>O.type===R.kind),D.rtcp.cname=l.getCname({offerMediaObject:C}),D.encodings=d.getRtpEncodings({offerMediaObject:C,track:R}),T)for(let O=0;O<D.encodings.length;++O)T[O]&&Object.assign(D.encodings[O],T[O]);if(D.encodings.length>1&&D.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const O of D.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:C,offerRtpParameters:D,answerRtpParameters:j,codecOptions:x});const L={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("send() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L);const N=String(this._nextSendLocalId);this._nextSendLocalId++;const A=this._pc.getSenders().find(O=>O.track===R);return this._mapSendLocalIdRtpSender.set(N,A),{localId:N,rtpParameters:D,rtpSender:A}}async stopSending(R){this.assertSendDirection();const T=this._mapSendLocalIdRtpSender.get(R);if(!T)throw new Error("associated RTCRtpSender not found");T.track&&this._sendStream.removeTrack(T.track),this._mapSendLocalIdRtpSender.delete(R);const x=await this._pc.createOffer();v.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",x);try{await this._pc.setLocalDescription(x)}catch(h){if(this._sendStream.getTracks().length===0){v.warn("stopSending() | ignoring expected error due no sending tracks: %s",h.toString());return}throw h}if(this._pc.signalingState==="stable")return;const p={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}async pauseSending(R){}async resumeSending(R){}async replaceTrack(R,T){this.assertSendDirection(),T?v.debug("replaceTrack() [localId:%s, track.id:%s]",R,T.id):v.debug("replaceTrack() [localId:%s, no track]",R);const x=this._mapSendLocalIdRtpSender.get(R);if(!x)throw new Error("associated RTCRtpSender not found");const p=x.track;await x.replaceTrack(T),p&&this._sendStream.removeTrack(p),T&&this._sendStream.addTrack(T)}async setMaxSpatialLayer(R,T){this.assertSendDirection(),v.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",R,T);const x=this._mapSendLocalIdRtpSender.get(R);if(!x)throw new Error("associated RTCRtpSender not found");const p=x.getParameters();p.encodings.forEach((h,S)=>{S<=T?h.active=!0:h.active=!1}),await x.setParameters(p)}async setRtpEncodingParameters(R,T){this.assertSendDirection(),v.debug("setRtpEncodingParameters() [localId:%s, params:%o]",R,T);const x=this._mapSendLocalIdRtpSender.get(R);if(!x)throw new Error("associated RTCRtpSender not found");const p=x.getParameters();p.encodings.forEach((h,S)=>{p.encodings[S]={...h,...T}}),await x.setParameters(p)}async getSenderStats(R){this.assertSendDirection();const T=this._mapSendLocalIdRtpSender.get(R);if(!T)throw new Error("associated RTCRtpSender not found");return T.getStats()}async sendDataChannel({ordered:R,maxPacketLifeTime:T,maxRetransmits:x,label:p,protocol:h}){this.assertSendDirection();const S={negotiated:!0,id:this._nextSendSctpStreamId,ordered:R,maxPacketLifeTime:T,maxRetransmits:x,protocol:h};v.debug("sendDataChannel() [options:%o]",S);const C=this._pc.createDataChannel(p,S);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,!this._hasDataChannelMediaSection){const j=await this._pc.createOffer(),L=n.parse(j.sdp),N=L.media.find(O=>O.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:L}),v.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",j),await this._pc.setLocalDescription(j),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const A={type:"answer",sdp:this._remoteSdp.getSdp()};v.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setRemoteDescription(A),this._hasDataChannelMediaSection=!0}const D={streamId:S.id,ordered:S.ordered,maxPacketLifeTime:S.maxPacketLifeTime,maxRetransmits:S.maxRetransmits};return{dataChannel:C,sctpStreamParameters:D}}async receive(R){this.assertRecvDirection();const T=[];for(const S of R){const{trackId:C,kind:D,rtpParameters:j,streamId:L}=S;v.debug("receive() [trackId:%s, kind:%s]",C,D);const N=D;this._remoteSdp.receive({mid:N,kind:D,offerRtpParameters:j,streamId:L??j.rtcp.cname,trackId:C})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);let p=await this._pc.createAnswer();const h=n.parse(p.sdp);for(const S of R){const{kind:C,rtpParameters:D}=S,j=C,L=h.media.find(N=>String(N.mid)===j);l.applyCodecParameters({offerRtpParameters:D,answerMediaObject:L})}p={type:"answer",sdp:n.write(h)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),v.debug("receive() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p);for(const S of R){const{kind:C,trackId:D,rtpParameters:j}=S,L=C,N=D,A=this._pc.getReceivers().find(O=>O.track&&O.track.id===N);if(!A)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(N,{mid:L,rtpParameters:j,rtpReceiver:A}),T.push({localId:N,track:A.track,rtpReceiver:A})}return T}async stopReceiving(R){this.assertRecvDirection();for(const p of R){v.debug("stopReceiving() [localId:%s]",p);const{mid:h,rtpParameters:S}=this._mapRecvLocalIdInfo.get(p)??{};this._mapRecvLocalIdInfo.delete(p),this._remoteSdp.planBStopReceiving({mid:h,offerRtpParameters:S})}const T={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",T),await this._pc.setRemoteDescription(T);const x=await this._pc.createAnswer();v.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",x),await this._pc.setLocalDescription(x)}async getReceiverStats(R){this.assertRecvDirection();const{rtpReceiver:T}=this._mapRecvLocalIdInfo.get(R)??{};if(!T)throw new Error("associated RTCRtpReceiver not found");return T.getStats()}async pauseReceiving(R){}async resumeReceiving(R){}async receiveDataChannel({sctpStreamParameters:R,label:T,protocol:x}){this.assertRecvDirection();const{streamId:p,ordered:h,maxPacketLifeTime:S,maxRetransmits:C}=R,D={negotiated:!0,id:p,ordered:h,maxPacketLifeTime:S,maxRetransmits:C,protocol:x};v.debug("receiveDataChannel() [options:%o]",D);const j=this._pc.createDataChannel(T,D);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const L={type:"offer",sdp:this._remoteSdp.getSdp()};v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",L),await this._pc.setRemoteDescription(L);const N=await this._pc.createAnswer();if(!this._transportReady){const A=n.parse(N.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:A})}v.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:j}}async setupTransport({localDtlsRole:R,localSdpObject:T}){T||(T=n.parse(this._pc.localDescription.sdp));const x=l.extractDtlsParameters({sdpObject:T});x.role=R,this._remoteSdp.updateDtlsRole(R==="client"?"server":"client"),await new Promise((p,h)=>{this.safeEmit("@connect",{dtlsParameters:x},p,h)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return En.Safari11=b,En}var Tn={},kn={},v_;function E4(){if(v_)return kn;v_=1;var e=kn&&kn.__createBinding||(Object.create?function(c,l,d,f){f===void 0&&(f=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(c,f,m)}:function(c,l,d,f){f===void 0&&(f=d),c[f]=l[d]}),t=kn&&kn.__setModuleDefault||(Object.create?function(c,l){Object.defineProperty(c,"default",{enumerable:!0,value:l})}:function(c,l){c.default=l}),r=kn&&kn.__importStar||function(c){if(c&&c.__esModule)return c;var l={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&e(l,c,d);return t(l,c),l};Object.defineProperty(kn,"__esModule",{value:!0}),kn.getCapabilities=o,kn.mangleRtpParameters=a;const n=r(tr());function o(){const c=RTCRtpReceiver.getCapabilities(),l=n.clone(c);for(const d of l.codecs??[]){if(d.channels=d.numChannels,delete d.numChannels,d.mimeType=d.mimeType??`${d.kind}/${d.name}`,d.parameters){const f=d.parameters;f.apt&&(f.apt=Number(f.apt)),f["packetization-mode"]&&(f["packetization-mode"]=Number(f["packetization-mode"]))}for(const f of d.rtcpFeedback??[])f.parameter||(f.parameter="")}return l}function a(c){const l=n.clone(c);l.mid&&(l.muxId=l.mid,delete l.mid);for(const d of l.codecs)d.channels&&(d.numChannels=d.channels,delete d.channels),d.mimeType&&!d.name&&(d.name=d.mimeType.split("/")[1]),delete d.mimeType;return l}return kn}var y_;function T4(){if(y_)return Tn;y_=1;var e=Tn&&Tn.__createBinding||(Object.create?function(g,w,b,E){E===void 0&&(E=b);var R=Object.getOwnPropertyDescriptor(w,b);(!R||("get"in R?!w.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return w[b]}}),Object.defineProperty(g,E,R)}:function(g,w,b,E){E===void 0&&(E=b),g[E]=w[b]}),t=Tn&&Tn.__setModuleDefault||(Object.create?function(g,w){Object.defineProperty(g,"default",{enumerable:!0,value:w})}:function(g,w){g.default=w}),r=Tn&&Tn.__importStar||function(g){if(g&&g.__esModule)return g;var w={};if(g!=null)for(var b in g)b!=="default"&&Object.prototype.hasOwnProperty.call(g,b)&&e(w,g,b);return t(w,g),w};Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.Edge11=void 0;const n=At(),o=vr(),a=r(tr()),c=r(jr()),l=r(E4()),d=Wr(),f=new n.Logger("Edge11"),m="Edge11";let v=class _R extends d.HandlerInterface{static createFactory(){return()=>new _R}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return m}close(){f.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const w of this._rtpSenders.values())try{w.stop()}catch{}for(const w of this._rtpReceivers.values())try{w.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return f.debug("getNativeRtpCapabilities()"),l.getCapabilities()}async getNativeSctpCapabilities(){return f.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:w,iceParameters:b,iceCandidates:E,dtlsParameters:R,sctpParameters:T,iceServers:x,iceTransportPolicy:p,additionalSettings:h,proprietaryConstraints:S,extendedRtpCapabilities:C}){f.debug("run()"),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",C),video:c.getSendingRtpParameters("video",C)},this._remoteIceParameters=b,this._remoteIceCandidates=E,this._remoteDtlsParameters=R,this._cname=`CNAME-${a.generateRandomNumber()}`,this.setIceGatherer({iceServers:x,iceTransportPolicy:p}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(w){throw new o.UnsupportedError("not supported")}async restartIce(w){if(f.debug("restartIce()"),this._remoteIceParameters=w,!!this._transportReady){f.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,w,"controlling");for(const b of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(b);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:w,encodings:b,codecOptions:E,codec:R}){f.debug("send() [kind:%s, track.id:%s]",w.kind,w.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),f.debug("send() | calling new RTCRtpSender()");const T=new RTCRtpSender(w,this._dtlsTransport),x=a.clone(this._sendingRtpParametersByKind[w.kind]);x.codecs=c.reduceCodecs(x.codecs,R);const p=x.codecs.some(C=>/.+\/rtx$/i.test(C.mimeType));b||(b=[{}]);for(const C of b)C.ssrc=a.generateRandomNumber(),p&&(C.rtx={ssrc:a.generateRandomNumber()});x.encodings=b,x.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const h=l.mangleRtpParameters(x);f.debug("send() | calling rtpSender.send() [params:%o]",h),await T.send(h);const S=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(S,T),{localId:S,rtpParameters:x,rtpSender:T}}async stopSending(w){f.debug("stopSending() [localId:%s]",w);const b=this._rtpSenders.get(w);if(!b)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(w);try{f.debug("stopSending() | calling rtpSender.stop()"),b.stop()}catch(E){throw f.warn("stopSending() | rtpSender.stop() failed:%o",E),E}}async pauseSending(w){}async resumeSending(w){}async replaceTrack(w,b){b?f.debug("replaceTrack() [localId:%s, track.id:%s]",w,b.id):f.debug("replaceTrack() [localId:%s, no track]",w);const E=this._rtpSenders.get(w);if(!E)throw new Error("RTCRtpSender not found");E.setTrack(b)}async setMaxSpatialLayer(w,b){f.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",w,b);const E=this._rtpSenders.get(w);if(!E)throw new Error("RTCRtpSender not found");const R=E.getParameters();R.encodings.forEach((T,x)=>{x<=b?T.active=!0:T.active=!1}),await E.setParameters(R)}async setRtpEncodingParameters(w,b){f.debug("setRtpEncodingParameters() [localId:%s, params:%o]",w,b);const E=this._rtpSenders.get(w);if(!E)throw new Error("RTCRtpSender not found");const R=E.getParameters();R.encodings.forEach((T,x)=>{R.encodings[x]={...T,...b}}),await E.setParameters(R)}async getSenderStats(w){const b=this._rtpSenders.get(w);if(!b)throw new Error("RTCRtpSender not found");return b.getStats()}async sendDataChannel(w){throw new o.UnsupportedError("not implemented")}async receive(w){const b=[];for(const E of w){const{trackId:R,kind:T}=E;f.debug("receive() [trackId:%s, kind:%s]",R,T)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const E of w){const{trackId:R,kind:T,rtpParameters:x}=E;f.debug("receive() | calling new RTCRtpReceiver()");const p=new RTCRtpReceiver(this._dtlsTransport,T);p.addEventListener("error",C=>{f.error('rtpReceiver "error" event [event:%o]',C)});const h=l.mangleRtpParameters(x);f.debug("receive() | calling rtpReceiver.receive() [params:%o]",h),await p.receive(h);const S=R;this._rtpReceivers.set(S,p),b.push({localId:S,track:p.track,rtpReceiver:p})}return b}async stopReceiving(w){for(const b of w){f.debug("stopReceiving() [localId:%s]",b);const E=this._rtpReceivers.get(b);if(!E)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(b);try{f.debug("stopReceiving() | calling rtpReceiver.stop()"),E.stop()}catch(R){f.warn("stopReceiving() | rtpReceiver.stop() failed:%o",R)}}}async pauseReceiving(w){}async resumeReceiving(w){}async getReceiverStats(w){const b=this._rtpReceivers.get(w);if(!b)throw new Error("RTCRtpReceiver not found");return b.getStats()}async receiveDataChannel(w){throw new o.UnsupportedError("not implemented")}setIceGatherer({iceServers:w,iceTransportPolicy:b}){const E=new RTCIceGatherer({iceServers:w??[],gatherPolicy:b??"all"});E.addEventListener("error",R=>{f.error('iceGatherer "error" event [event:%o]',R)});try{E.gather()}catch(R){f.debug("setIceGatherer() | iceGatherer.gather() failed: %s",R.toString())}this._iceGatherer=E}setIceTransport(){const w=new RTCIceTransport(this._iceGatherer);w.addEventListener("statechange",()=>{switch(w.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),w.addEventListener("icestatechange",()=>{switch(w.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),w.addEventListener("candidatepairchange",b=>{f.debug('iceTransport "candidatepairchange" event [pair:%o]',b.pair)}),this._iceTransport=w}setDtlsTransport(){const w=new RTCDtlsTransport(this._iceTransport);w.addEventListener("statechange",()=>{f.debug('dtlsTransport "statechange" event [state:%s]',w.state)}),w.addEventListener("dtlsstatechange",()=>{f.debug('dtlsTransport "dtlsstatechange" event [state:%s]',w.state),w.state==="closed"&&this.emit("@connectionstatechange","closed")}),w.addEventListener("error",b=>{f.error('dtlsTransport "error" event [event:%o]',b)}),this._dtlsTransport=w}async setupTransport({localDtlsRole:w}){f.debug("setupTransport()");const b=this._dtlsTransport.getLocalParameters();b.role=w,await new Promise((E,R)=>{this.safeEmit("@connect",{dtlsParameters:b},E,R)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const E of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(E);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(E=>E.algorithm==="sha-256"||E.algorithm==="sha-384"||E.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}};return Tn.Edge11=v,Tn}var Pn={},w_;function k4(){if(w_)return Pn;w_=1;var e=Pn&&Pn.__createBinding||(Object.create?function(x,p,h,S){S===void 0&&(S=h);var C=Object.getOwnPropertyDescriptor(p,h);(!C||("get"in C?!p.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(x,S,C)}:function(x,p,h,S){S===void 0&&(S=h),x[S]=p[h]}),t=Pn&&Pn.__setModuleDefault||(Object.create?function(x,p){Object.defineProperty(x,"default",{enumerable:!0,value:p})}:function(x,p){x.default=p}),r=Pn&&Pn.__importStar||function(x){if(x&&x.__esModule)return x;var p={};if(x!=null)for(var h in x)h!=="default"&&Object.prototype.hasOwnProperty.call(x,h)&&e(p,x,h);return t(p,x),p};Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.ReactNativeUnifiedPlan=void 0;const n=r(Ir()),o=At(),a=r(tr()),c=r(jr()),l=r(Un()),d=r(ni()),f=r(kf()),m=vr(),v=Wr(),g=Vn(),w=po(),b=new o.Logger("ReactNativeUnifiedPlan"),E="ReactNativeUnifiedPlan",R={OS:1024,MIS:1024};let T=class xR extends v.HandlerInterface{static createFactory(){return()=>new xR}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return E}close(){if(b.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){b.debug("getNativeRtpCapabilities()");const p=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{p.addTransceiver("audio"),p.addTransceiver("video");const h=await p.createOffer();try{p.close()}catch{}const S=n.parse(h.sdp),C=l.extractRtpCapabilities({sdpObject:S});return f.addNackSuppportForOpus(C),C}catch(h){try{p.close()}catch{}throw h}}async getNativeSctpCapabilities(){return b.debug("getNativeSctpCapabilities()"),{numStreams:R}}run({direction:p,iceParameters:h,iceCandidates:S,dtlsParameters:C,sctpParameters:D,iceServers:j,iceTransportPolicy:L,additionalSettings:N,proprietaryConstraints:A,extendedRtpCapabilities:O}){this.assertNotClosed(),b.debug("run()"),this._direction=p,this._remoteSdp=new g.RemoteSdp({iceParameters:h,iceCandidates:S,dtlsParameters:C,sctpParameters:D}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",O),video:c.getSendingRtpParameters("video",O)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",O),video:c.getSendingRemoteRtpParameters("video",O)},C.role&&C.role!=="auto"&&(this._forcedLocalDtlsRole=C.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:j??[],iceTransportPolicy:L??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...N},A),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(b.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(p){this.assertNotClosed(),b.debug("updateIceServers()");const h=this._pc.getConfiguration();h.iceServers=p,this._pc.setConfiguration(h)}async restartIce(p){if(this.assertNotClosed(),b.debug("restartIce()"),this._remoteSdp.updateIceParameters(p),!!this._transportReady)if(this._direction==="send"){const h=await this._pc.createOffer({iceRestart:!0});b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const S={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S)}else{const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:p,encodings:h,codecOptions:S,codec:C,onRtpSender:D}){this.assertNotClosed(),this.assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",p.kind,p.id),h&&h.length>1&&h.forEach((F,H)=>{F.rid=`r${H}`});const j=a.clone(this._sendingRtpParametersByKind[p.kind]);j.codecs=c.reduceCodecs(j.codecs,C);const L=a.clone(this._sendingRemoteRtpParametersByKind[p.kind]);L.codecs=c.reduceCodecs(L.codecs,C);const N=this._remoteSdp.getNextMediaSectionIdx(),A=this._pc.addTransceiver(p,{direction:"sendonly",streams:[this._sendStream],sendEncodings:h});D&&D(A.sender);let O=await this._pc.createOffer(),V=n.parse(O.sdp),W;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:V});let X=!1;const M=(0,w.parse)((h??[{}])[0].scalabilityMode);h&&h.length===1&&M.spatialLayers>1&&j.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(b.debug("send() | enabling legacy simulcast for VP9 SVC"),X=!0,V=n.parse(O.sdp),W=V.media[N.idx],d.addLegacySimulcast({offerMediaObject:W,numStreams:M.spatialLayers}),O={type:"offer",sdp:n.write(V)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",O),await this._pc.setLocalDescription(O);let B=A.mid??void 0;if(B||b.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),j.mid=B,V=n.parse(this._pc.localDescription.sdp),W=V.media[N.idx],j.rtcp.cname=l.getCname({offerMediaObject:W}),!h)j.encodings=d.getRtpEncodings({offerMediaObject:W});else if(h.length===1){let F=d.getRtpEncodings({offerMediaObject:W});Object.assign(F[0],h[0]),X&&(F=[F[0]]),j.encodings=F}else j.encodings=h;if(j.encodings.length>1&&(j.codecs[0].mimeType.toLowerCase()==="video/vp8"||j.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const F of j.encodings)F.scalabilityMode?F.scalabilityMode=`L1T${M.temporalLayers}`:F.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:W,reuseMid:N.reuseMid,offerRtpParameters:j,answerRtpParameters:L,codecOptions:S,extmapAllowMixed:!0});const $={type:"answer",sdp:this._remoteSdp.getSdp()};return b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",$),await this._pc.setRemoteDescription($),B||(B=A.mid,j.mid=B),this._mapMidTransceiver.set(B,A),{localId:B,rtpParameters:j,rtpSender:A.sender}}async stopSending(p){if(this.assertSendDirection(),this._closed)return;b.debug("stopSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");if(h.sender.replaceTrack(null),this._pc.removeTrack(h.sender),this._remoteSdp.closeMediaSection(h.mid))try{h.stop()}catch{}const C=await this._pc.createOffer();b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const D={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D),this._mapMidTransceiver.delete(p)}async pauseSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("pauseSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="inactive",this._remoteSdp.pauseMediaSection(p);const S=await this._pc.createOffer();b.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const C={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}async resumeSending(p){this.assertNotClosed(),this.assertSendDirection(),b.debug("resumeSending() [localId:%s]",p);const h=this._mapMidTransceiver.get(p);if(this._remoteSdp.resumeSendingMediaSection(p),!h)throw new Error("associated RTCRtpTransceiver not found");h.direction="sendonly";const S=await this._pc.createOffer();b.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S);const C={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",C),await this._pc.setRemoteDescription(C)}async replaceTrack(p,h){this.assertNotClosed(),this.assertSendDirection(),h?b.debug("replaceTrack() [localId:%s, track.id:%s]",p,h.id):b.debug("replaceTrack() [localId:%s, no track]",p);const S=this._mapMidTransceiver.get(p);if(!S)throw new Error("associated RTCRtpTransceiver not found");await S.sender.replaceTrack(h)}async setMaxSpatialLayer(p,h){this.assertNotClosed(),this.assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",p,h);const S=this._mapMidTransceiver.get(p);if(!S)throw new Error("associated RTCRtpTransceiver not found");const C=S.sender.getParameters();C.encodings.forEach((L,N)=>{N<=h?L.active=!0:L.active=!1}),await S.sender.setParameters(C),this._remoteSdp.muxMediaSectionSimulcast(p,C.encodings);const D=await this._pc.createOffer();b.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async setRtpEncodingParameters(p,h){this.assertNotClosed(),this.assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",p,h);const S=this._mapMidTransceiver.get(p);if(!S)throw new Error("associated RTCRtpTransceiver not found");const C=S.sender.getParameters();C.encodings.forEach((L,N)=>{C.encodings[N]={...L,...h}}),await S.sender.setParameters(C),this._remoteSdp.muxMediaSectionSimulcast(p,C.encodings);const D=await this._pc.createOffer();b.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",D),await this._pc.setLocalDescription(D);const j={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",j),await this._pc.setRemoteDescription(j)}async getSenderStats(p){this.assertNotClosed(),this.assertSendDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.sender.getStats()}async sendDataChannel({ordered:p,maxPacketLifeTime:h,maxRetransmits:S,label:C,protocol:D}){this.assertNotClosed(),this.assertSendDirection();const j={negotiated:!0,id:this._nextSendSctpStreamId,ordered:p,maxPacketLifeTime:h,maxRetransmits:S,protocol:D};b.debug("sendDataChannel() [options:%o]",j);const L=this._pc.createDataChannel(C,j);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const A=await this._pc.createOffer(),O=n.parse(A.sdp),V=O.media.find(X=>X.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O}),b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",A),await this._pc.setLocalDescription(A),this._remoteSdp.sendSctpAssociation({offerMediaObject:V});const W={type:"answer",sdp:this._remoteSdp.getSdp()};b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",W),await this._pc.setRemoteDescription(W),this._hasDataChannelMediaSection=!0}const N={streamId:j.id,ordered:j.ordered,maxPacketLifeTime:j.maxPacketLifeTime,maxRetransmits:j.maxRetransmits};return{dataChannel:L,sctpStreamParameters:N}}async receive(p){this.assertNotClosed(),this.assertRecvDirection();const h=[],S=new Map;for(const L of p){const{trackId:N,kind:A,rtpParameters:O,streamId:V}=L;b.debug("receive() [trackId:%s, kind:%s]",N,A);const W=O.mid??String(this._mapMidTransceiver.size);S.set(N,W),this._remoteSdp.receive({mid:W,kind:A,offerRtpParameters:O,streamId:V??O.rtcp.cname,trackId:N})}const C={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",C),await this._pc.setRemoteDescription(C);for(const L of p){const{trackId:N,onRtpReceiver:A}=L;if(A){const O=S.get(N),V=this._pc.getTransceivers().find(W=>W.mid===O);if(!V)throw new Error("transceiver not found");A(V.receiver)}}let D=await this._pc.createAnswer();const j=n.parse(D.sdp);for(const L of p){const{trackId:N,rtpParameters:A}=L,O=S.get(N),V=j.media.find(W=>String(W.mid)===O);l.applyCodecParameters({offerRtpParameters:A,answerMediaObject:V})}D={type:"answer",sdp:n.write(j)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:j}),b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",D),await this._pc.setLocalDescription(D);for(const L of p){const{trackId:N}=L,A=S.get(N),O=this._pc.getTransceivers().find(V=>V.mid===A);if(O)this._mapMidTransceiver.set(A,O),h.push({localId:A,track:O.receiver.track,rtpReceiver:O.receiver});else throw new Error("new RTCRtpTransceiver not found")}return h}async stopReceiving(p){if(this.assertRecvDirection(),this._closed)return;for(const C of p){b.debug("stopReceiving() [localId:%s]",C);const D=this._mapMidTransceiver.get(C);if(!D)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(D.mid)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const C of p)this._mapMidTransceiver.delete(C)}async pauseReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const C of p){b.debug("pauseReceiving() [localId:%s]",C);const D=this._mapMidTransceiver.get(C);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="inactive",this._remoteSdp.pauseMediaSection(C)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async resumeReceiving(p){this.assertNotClosed(),this.assertRecvDirection();for(const C of p){b.debug("resumeReceiving() [localId:%s]",C);const D=this._mapMidTransceiver.get(C);if(!D)throw new Error("associated RTCRtpTransceiver not found");D.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(C)}const h={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const S=await this._pc.createAnswer();b.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S)}async getReceiverStats(p){this.assertNotClosed(),this.assertRecvDirection();const h=this._mapMidTransceiver.get(p);if(!h)throw new Error("associated RTCRtpTransceiver not found");return h.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:p,label:h,protocol:S}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:C,ordered:D,maxPacketLifeTime:j,maxRetransmits:L}=p,N={negotiated:!0,id:C,ordered:D,maxPacketLifeTime:j,maxRetransmits:L,protocol:S};b.debug("receiveDataChannel() [options:%o]",N);const A=this._pc.createDataChannel(h,N);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const O={type:"offer",sdp:this._remoteSdp.getSdp()};b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",O),await this._pc.setRemoteDescription(O);const V=await this._pc.createAnswer();if(!this._transportReady){const W=n.parse(V.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:W})}b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",V),await this._pc.setLocalDescription(V),this._hasDataChannelMediaSection=!0}return{dataChannel:A}}async setupTransport({localDtlsRole:p,localSdpObject:h}){h||(h=n.parse(this._pc.localDescription.sdp));const S=l.extractDtlsParameters({sdpObject:h});S.role=p,this._remoteSdp.updateDtlsRole(p==="client"?"server":"client"),await new Promise((C,D)=>{this.safeEmit("@connect",{dtlsParameters:S},C,D)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new m.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Pn.ReactNativeUnifiedPlan=T,Pn}var Dn={},S_;function P4(){if(S_)return Dn;S_=1;var e=Dn&&Dn.__createBinding||(Object.create?function(R,T,x,p){p===void 0&&(p=x);var h=Object.getOwnPropertyDescriptor(T,x);(!h||("get"in h?!T.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return T[x]}}),Object.defineProperty(R,p,h)}:function(R,T,x,p){p===void 0&&(p=x),R[p]=T[x]}),t=Dn&&Dn.__setModuleDefault||(Object.create?function(R,T){Object.defineProperty(R,"default",{enumerable:!0,value:T})}:function(R,T){R.default=T}),r=Dn&&Dn.__importStar||function(R){if(R&&R.__esModule)return R;var T={};if(R!=null)for(var x in R)x!=="default"&&Object.prototype.hasOwnProperty.call(R,x)&&e(T,R,x);return t(T,R),T};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.ReactNative=void 0;const n=r(Ir()),o=At(),a=vr(),c=r(tr()),l=r(jr()),d=r(Un()),f=r(Pf()),m=Wr(),v=Vn(),g=new o.Logger("ReactNative"),w="ReactNative",b={OS:1024,MIS:1024};let E=class CR extends m.HandlerInterface{static createFactory(){return()=>new CR}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return w}close(){if(g.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){g.debug("getNativeRtpCapabilities()");const T=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const x=await T.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{T.close()}catch{}const p=n.parse(x.sdp);return d.extractRtpCapabilities({sdpObject:p})}catch(x){try{T.close()}catch{}throw x}}async getNativeSctpCapabilities(){return g.debug("getNativeSctpCapabilities()"),{numStreams:b}}run({direction:T,iceParameters:x,iceCandidates:p,dtlsParameters:h,sctpParameters:S,iceServers:C,iceTransportPolicy:D,additionalSettings:j,proprietaryConstraints:L,extendedRtpCapabilities:N}){g.debug("run()"),this._direction=T,this._remoteSdp=new v.RemoteSdp({iceParameters:x,iceCandidates:p,dtlsParameters:h,sctpParameters:S,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",N),video:l.getSendingRtpParameters("video",N)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",N),video:l.getSendingRemoteRtpParameters("video",N)},h.role&&h.role!=="auto"&&(this._forcedLocalDtlsRole=h.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:C??[],iceTransportPolicy:D??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...j},L),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(g.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(T){g.debug("updateIceServers()");const x=this._pc.getConfiguration();x.iceServers=T,this._pc.setConfiguration(x)}async restartIce(T){if(g.debug("restartIce()"),this._remoteSdp.updateIceParameters(T),!!this._transportReady)if(this._direction==="send"){const x=await this._pc.createOffer({iceRestart:!0});g.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",x),await this._pc.setLocalDescription(x);const p={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p)}else{const x={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const p=await this._pc.createAnswer();g.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}}async getTransportStats(){return this._pc.getStats()}async send({track:T,encodings:x,codecOptions:p,codec:h}){this.assertSendDirection(),g.debug("send() [kind:%s, track.id:%s]",T.kind,T.id),h&&g.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(T),this._pc.addStream(this._sendStream);let S=await this._pc.createOffer(),C=n.parse(S.sdp),D;const j=c.clone(this._sendingRtpParametersByKind[T.kind]);j.codecs=l.reduceCodecs(j.codecs);const L=c.clone(this._sendingRemoteRtpParametersByKind[T.kind]);if(L.codecs=l.reduceCodecs(L.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:C}),T.kind==="video"&&x&&x.length>1&&(g.debug("send() | enabling simulcast"),C=n.parse(S.sdp),D=C.media.find(O=>O.type==="video"),f.addLegacySimulcast({offerMediaObject:D,track:T,numStreams:x.length}),S={type:"offer",sdp:n.write(C)}),g.debug("send() | calling pc.setLocalDescription() [offer:%o]",S),await this._pc.setLocalDescription(S),C=n.parse(this._pc.localDescription.sdp),D=C.media.find(O=>O.type===T.kind),j.rtcp.cname=d.getCname({offerMediaObject:D}),j.encodings=f.getRtpEncodings({offerMediaObject:D,track:T}),x)for(let O=0;O<j.encodings.length;++O)x[O]&&Object.assign(j.encodings[O],x[O]);if(j.encodings.length>1&&(j.codecs[0].mimeType.toLowerCase()==="video/vp8"||j.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const O of j.encodings)O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:D,offerRtpParameters:j,answerRtpParameters:L,codecOptions:p});const N={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("send() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setRemoteDescription(N);const A=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(A,T),{localId:A,rtpParameters:j}}async stopSending(T){this.assertSendDirection(),g.debug("stopSending() [localId:%s]",T);const x=this._mapSendLocalIdTrack.get(T);if(!x)throw new Error("track not found");this._mapSendLocalIdTrack.delete(T),this._sendStream.removeTrack(x),this._pc.addStream(this._sendStream);const p=await this._pc.createOffer();g.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",p);try{await this._pc.setLocalDescription(p)}catch(S){if(this._sendStream.getTracks().length===0){g.warn("stopSending() | ignoring expected error due no sending tracks: %s",S.toString());return}throw S}if(this._pc.signalingState==="stable")return;const h={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async pauseSending(T){}async resumeSending(T){}async replaceTrack(T,x){throw new a.UnsupportedError("not implemented")}async setMaxSpatialLayer(T,x){throw new a.UnsupportedError("not implemented")}async setRtpEncodingParameters(T,x){throw new a.UnsupportedError("not implemented")}async getSenderStats(T){throw new a.UnsupportedError("not implemented")}async sendDataChannel({ordered:T,maxPacketLifeTime:x,maxRetransmits:p,label:h,protocol:S}){this.assertSendDirection();const C={negotiated:!0,id:this._nextSendSctpStreamId,ordered:T,maxPacketLifeTime:x,maxRetransmitTime:x,maxRetransmits:p,protocol:S};g.debug("sendDataChannel() [options:%o]",C);const D=this._pc.createDataChannel(h,C);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const L=await this._pc.createOffer(),N=n.parse(L.sdp),A=N.media.find(V=>V.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),g.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L),this._remoteSdp.sendSctpAssociation({offerMediaObject:A});const O={type:"answer",sdp:this._remoteSdp.getSdp()};g.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",O),await this._pc.setRemoteDescription(O),this._hasDataChannelMediaSection=!0}const j={streamId:C.id,ordered:C.ordered,maxPacketLifeTime:C.maxPacketLifeTime,maxRetransmits:C.maxRetransmits};return{dataChannel:D,sctpStreamParameters:j}}async receive(T){this.assertRecvDirection();const x=[],p=new Map;for(const D of T){const{trackId:j,kind:L,rtpParameters:N}=D;g.debug("receive() [trackId:%s, kind:%s]",j,L);const A=L;let O=D.streamId??N.rtcp.cname;g.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),O+=`-hack-${c.generateRandomNumber()}`,p.set(j,O),this._remoteSdp.receive({mid:A,kind:L,offerRtpParameters:N,streamId:O,trackId:j})}const h={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);let S=await this._pc.createAnswer();const C=n.parse(S.sdp);for(const D of T){const{kind:j,rtpParameters:L}=D,N=j,A=C.media.find(O=>String(O.mid)===N);d.applyCodecParameters({offerRtpParameters:L,answerMediaObject:A})}S={type:"answer",sdp:n.write(C)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:C}),g.debug("receive() | calling pc.setLocalDescription() [answer:%o]",S),await this._pc.setLocalDescription(S);for(const D of T){const{kind:j,trackId:L,rtpParameters:N}=D,A=L,O=j,V=p.get(L),X=this._pc.getRemoteStreams().find(M=>M.id===V).getTrackById(A);if(!X)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(A,{mid:O,rtpParameters:N}),x.push({localId:A,track:X})}return x}async stopReceiving(T){this.assertRecvDirection();for(const h of T){g.debug("stopReceiving() [localId:%s]",h);const{mid:S,rtpParameters:C}=this._mapRecvLocalIdInfo.get(h)??{};this._mapRecvLocalIdInfo.delete(h),this._remoteSdp.planBStopReceiving({mid:S,offerRtpParameters:C})}const x={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",x),await this._pc.setRemoteDescription(x);const p=await this._pc.createAnswer();g.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",p),await this._pc.setLocalDescription(p)}async pauseReceiving(T){}async resumeReceiving(T){}async getReceiverStats(T){throw new a.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:T,label:x,protocol:p}){this.assertRecvDirection();const{streamId:h,ordered:S,maxPacketLifeTime:C,maxRetransmits:D}=T,j={negotiated:!0,id:h,ordered:S,maxPacketLifeTime:C,maxRetransmitTime:C,maxRetransmits:D,protocol:p};g.debug("receiveDataChannel() [options:%o]",j);const L=this._pc.createDataChannel(x,j);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const N={type:"offer",sdp:this._remoteSdp.getSdp()};g.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",N),await this._pc.setRemoteDescription(N);const A=await this._pc.createAnswer();if(!this._transportReady){const O=n.parse(A.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:O})}g.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",A),await this._pc.setLocalDescription(A),this._hasDataChannelMediaSection=!0}return{dataChannel:L}}async setupTransport({localDtlsRole:T,localSdpObject:x}){x||(x=n.parse(this._pc.localDescription.sdp));const p=d.extractDtlsParameters({sdpObject:x});p.role=T,this._remoteSdp.updateDtlsRole(T==="client"?"server":"client"),await new Promise((h,S)=>{this.safeEmit("@connect",{dtlsParameters:p},h,S)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Dn.ReactNative=E,Dn}var b_;function RR(){if(b_)return Jr;b_=1;var e=Jr&&Jr.__createBinding||(Object.create?function(L,N,A,O){O===void 0&&(O=A);var V=Object.getOwnPropertyDescriptor(N,A);(!V||("get"in V?!N.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return N[A]}}),Object.defineProperty(L,O,V)}:function(L,N,A,O){O===void 0&&(O=A),L[O]=N[A]}),t=Jr&&Jr.__setModuleDefault||(Object.create?function(L,N){Object.defineProperty(L,"default",{enumerable:!0,value:N})}:function(L,N){L.default=N}),r=Jr&&Jr.__importStar||function(L){if(L&&L.__esModule)return L;var N={};if(L!=null)for(var A in L)A!=="default"&&Object.prototype.hasOwnProperty.call(L,A)&&e(N,L,A);return t(N,L),N};Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.Device=void 0,Jr.detectDevice=D;const n=a4(),o=At(),a=ri(),c=vr(),l=r(tr()),d=r(jr()),f=dR(),m=v4(),v=y4(),g=w4(),w=S4(),b=b4(),E=_4(),R=x4(),T=C4(),x=R4(),p=T4(),h=k4(),S=P4(),C=new o.Logger("Device");function D(L){var N,A,O,V;if(!L&&typeof navigator=="object"&&navigator.product==="ReactNative"){if(C.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){C.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(C.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(C.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(L||typeof navigator=="object"&&typeof navigator.userAgent=="string"){L??(L=navigator.userAgent);const W=new n.UAParser(L);C.debug("detectDevice() | browser detected [userAgent:%s, parsed:%o]",L,W.getResult());const X=W.getBrowser(),M=(N=X.name)==null?void 0:N.toLowerCase(),B=parseInt(X.major??"0"),F=(A=W.getEngine().name)==null?void 0:A.toLowerCase(),H=W.getOS(),U=(O=H.name)==null?void 0:O.toLowerCase(),G=parseFloat(H.version??"0"),ue=(V=W.getDevice().model)==null?void 0:V.toLowerCase(),Q=U==="ios"||ue==="ipad",se=M&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(M),le=M&&["firefox","mobile firefox","mobile focus"].includes(M),ge=M&&["safari","mobile safari"].includes(M),te=M&&["edge"].includes(M);if((se||te)&&!Q&&B>=111)return"Chrome111";if(se&&!Q&&B>=74||te&&!Q&&B>=88)return"Chrome74";if(se&&!Q&&B>=70)return"Chrome70";if(se&&!Q&&B>=67)return"Chrome67";if(se&&!Q&&B>=55)return"Chrome55";if(le&&!Q&&B>=120)return"Firefox120";if(le&&!Q&&B>=60)return"Firefox60";if(le&&Q&&G>=14.3)return"Safari12";if(ge&&B>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(ge&&B>=11)return"Safari11";if(te&&!Q&&B>=11&&B<=18)return"Edge11";if(F==="webkit"&&Q&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(F==="blink"){const he=L.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(he){const _e=Number(he[1]);return _e>=111?"Chrome111":_e>=74?"Chrome74":_e>=70?"Chrome70":_e>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{C.warn("detectDevice() | browser not supported [name:%s, version:%s]",M,B);return}}else{C.warn("detectDevice() | unknown device");return}}let j=class{constructor({handlerName:N,handlerFactory:A}={}){if(this._loaded=!1,this._observer=new a.EnhancedEventEmitter,C.debug("constructor()"),N&&A)throw new TypeError("just one of handlerName or handlerInterface can be given");if(A)this._handlerFactory=A;else{if(N)C.debug("constructor() | handler given: %s",N);else if(N=D(),N)C.debug("constructor() | detected handler: %s",N);else throw new c.UnsupportedError("device not supported");switch(N){case"Chrome111":{this._handlerFactory=m.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=v.Chrome74.createFactory();break}case"Chrome70":{this._handlerFactory=g.Chrome70.createFactory();break}case"Chrome67":{this._handlerFactory=w.Chrome67.createFactory();break}case"Chrome55":{this._handlerFactory=b.Chrome55.createFactory();break}case"Firefox120":{this._handlerFactory=E.Firefox120.createFactory();break}case"Firefox60":{this._handlerFactory=R.Firefox60.createFactory();break}case"Safari12":{this._handlerFactory=T.Safari12.createFactory();break}case"Safari11":{this._handlerFactory=x.Safari11.createFactory();break}case"Edge11":{this._handlerFactory=p.Edge11.createFactory();break}case"ReactNativeUnifiedPlan":{this._handlerFactory=h.ReactNativeUnifiedPlan.createFactory();break}case"ReactNative":{this._handlerFactory=S.ReactNative.createFactory();break}default:throw new TypeError(`unknown handlerName "${N}"`)}}const O=this._handlerFactory();this._handlerName=O.name,O.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new c.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:N}){C.debug("load() [routerRtpCapabilities:%o]",N);let A;try{if(this._loaded)throw new c.InvalidStateError("already loaded");const O=l.clone(N);d.validateRtpCapabilities(O),A=this._handlerFactory();const V=await A.getNativeRtpCapabilities();C.debug("load() | got native RTP capabilities:%o",V);const W=l.clone(V);d.validateRtpCapabilities(W),this._extendedRtpCapabilities=d.getExtendedRtpCapabilities(W,O),C.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=d.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=d.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=d.getRecvRtpCapabilities(this._extendedRtpCapabilities),d.validateRtpCapabilities(this._recvRtpCapabilities),C.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await A.getNativeSctpCapabilities(),C.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),d.validateSctpCapabilities(this._sctpCapabilities),C.debug("load() succeeded"),this._loaded=!0,A.close()}catch(O){throw A&&A.close(),O}}canProduce(N){if(this._loaded){if(N!=="audio"&&N!=="video")throw new TypeError(`invalid kind "${N}"`)}else throw new c.InvalidStateError("not loaded");return this._canProduceByKind[N]}createSendTransport({id:N,iceParameters:A,iceCandidates:O,dtlsParameters:V,sctpParameters:W,iceServers:X,iceTransportPolicy:M,additionalSettings:B,proprietaryConstraints:$,appData:F}){return C.debug("createSendTransport()"),this.createTransport({direction:"send",id:N,iceParameters:A,iceCandidates:O,dtlsParameters:V,sctpParameters:W,iceServers:X,iceTransportPolicy:M,additionalSettings:B,proprietaryConstraints:$,appData:F})}createRecvTransport({id:N,iceParameters:A,iceCandidates:O,dtlsParameters:V,sctpParameters:W,iceServers:X,iceTransportPolicy:M,additionalSettings:B,proprietaryConstraints:$,appData:F}){return C.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:N,iceParameters:A,iceCandidates:O,dtlsParameters:V,sctpParameters:W,iceServers:X,iceTransportPolicy:M,additionalSettings:B,proprietaryConstraints:$,appData:F})}createTransport({direction:N,id:A,iceParameters:O,iceCandidates:V,dtlsParameters:W,sctpParameters:X,iceServers:M,iceTransportPolicy:B,additionalSettings:$,proprietaryConstraints:F,appData:H}){if(this._loaded){if(typeof A!="string")throw new TypeError("missing id");if(typeof O!="object")throw new TypeError("missing iceParameters");if(Array.isArray(V)){if(typeof W!="object")throw new TypeError("missing dtlsParameters");if(X&&typeof X!="object")throw new TypeError("wrong sctpParameters");if(H&&typeof H!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new c.InvalidStateError("not loaded");const U=new f.Transport({direction:N,id:A,iceParameters:O,iceCandidates:V,dtlsParameters:W,sctpParameters:X,iceServers:M,iceTransportPolicy:B,additionalSettings:$,proprietaryConstraints:F,appData:H,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",U),U}};return Jr.Device=j,Jr}var Do={},mm={},__;function D4(){return __||(__=1,Object.defineProperty(mm,"__esModule",{value:!0})),mm}var gm={},x_;function j4(){return x_||(x_=1,Object.defineProperty(gm,"__esModule",{value:!0})),gm}var C_;function I4(){return C_||(C_=1,function(e){var t=Do&&Do.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var l=Object.getOwnPropertyDescriptor(o,a);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,l)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=Do&&Do.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&t(o,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(RR(),e),r(dR(),e),r(aR(),e),r(cR(),e),r(lR(),e),r(uR(),e),r(D4(),e),r(j4(),e),r(Wr(),e),r(vr(),e)}(Do)),Do}var R_;function M4(){return R_||(R_=1,function(e){var t=gn&&gn.__createBinding||(Object.create?function(f,m,v,g){g===void 0&&(g=v);var w=Object.getOwnPropertyDescriptor(m,v);(!w||("get"in w?!m.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(f,g,w)}:function(f,m,v,g){g===void 0&&(g=v),f[g]=m[v]}),r=gn&&gn.__setModuleDefault||(Object.create?function(f,m){Object.defineProperty(f,"default",{enumerable:!0,value:m})}:function(f,m){f.default=m}),n=gn&&gn.__importStar||function(f){if(f&&f.__esModule)return f;var m={};if(f!=null)for(var v in f)v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)&&t(m,f,v);return r(m,f),m},o=gn&&gn.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const a=o(Tf());e.debug=a.default;const c=RR();Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return c.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return c.detectDevice}});const l=n(I4());e.types=l,e.version="3.7.17";var d=po();Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return d.parse}})}(gn)),gn}var N4=M4();const L4=async()=>(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1}})).getAudioTracks()[0],O4=async(e,t,r,n,o)=>new Promise((a,c)=>{Je.emit("joinRoom",{roomName:e,userName:t,userId:r,serverId:n,accessToken:o},l=>{l.error?c(l.error):a(l.rtpCapabilities)})}),A4=async e=>{const t=new N4.Device;return await t.load({routerRtpCapabilities:e}),t},$4=async(e,t,r,n)=>new Promise((o,a)=>{Je.emit("createWebRtcTransport",{consumer:!1},async({params:c})=>{if(c.error){a(c.error);return}const l=e.createSendTransport(c);l.on("connect",({dtlsParameters:f},m)=>{Je.emit("transport-connect",{dtlsParameters:f}),m()}),l.on("produce",(f,m)=>{const v=localStorage.getItem("accessToken");Je.emit("transport-produce",{kind:f.kind,rtpParameters:f.rtpParameters,appData:f.appData,accessToken:v},({id:g})=>{m({id:g}),F4(Je,e,n)})});const d=await l.produce({track:t});r(d),o(l),d.on("trackended",()=>{r(null)})})}),F4=(e,t,r)=>{e.emit("getProducers",n=>{n.forEach(o=>ER(o,t,r))})},ER=async(e,t,r)=>{Je.emit("createWebRtcTransport",{consumer:!0},async({params:n})=>{if(n.error)return;const o=t.createRecvTransport(n);o.on("connect",({dtlsParameters:a},c)=>{Je.emit("transport-recv-connect",{dtlsParameters:a,serverConsumerTransportId:n.id}),c()}),z4(o,e,n.id,t,r)})},z4=async(e,t,r,n,o)=>{Je.emit("consume",{rtpCapabilities:n.rtpCapabilities,remoteProducerId:t,serverConsumerTransportId:r},async({params:a})=>{const{source:c,...l}=a,d=await e.consume({...l,appData:{source:c}});console.log(d.appData.source),o(d),Je.emit("consumer-resume",{serverConsumerId:a.serverConsumerId})})},st=Dk,ve=Mk,B4=()=>{const{setIsConnected:e,setAudioProducer:t,setDevice:r,setProducerTransport:n,addConsumer:o}=ti();return async(c,l,d,f,m)=>{try{if(!Je.connected)throw new Error("Socket is not connected");const v=await L4(),g=await O4(c,l,d,f,m),w=await A4(g);r(w);const b=await $4(w,v,t,o);n(b),e(!0),console.log("Connected successfully")}catch(v){console.error("Error connecting:",v),e(!1)}}},Uc=()=>{const{setIsConnected:e,setDevice:t,setVideoProducer:r,setConsumers:n,setIsMuted:o,setIsStreaming:a,setAudioProducer:c,setVideoAudioProducer:l}=ti();return async(f,m)=>{o(!1),await new Promise(v=>{Je.once("leaveConfirmed",v),Je.emit("leaveRoom",{accessToken:f,voiceChannelId:m})}),e(!1),t(null),n([]),a(!1),c(null),r(null),l(null)}};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TR=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:c,...l},d)=>P.createElement("svg",{ref:d,...V4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:TR("lucide",o),...l},[...c.map(([f,m])=>P.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(e,t)=>{const r=P.forwardRef(({className:n,...o},a)=>P.createElement(H4,{ref:a,iconNode:t,className:TR(`lucide-${U4(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],kR=We("ArrowDown",W4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"m9 6-6 6 6 6",key:"7v63n9"}],["path",{d:"M3 12h14",key:"13k4hi"}],["path",{d:"M21 19V5",key:"b4bplr"}]],G4=We("ArrowLeftFromLine",q4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],X4=We("ArrowLeft",K4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],Q4=We("Ban",Y4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]],Z4=We("BookUser",J4);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],t$=We("Calendar",e$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zv=We("Check",r$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Df=We("ChevronDown",n$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],o$=We("ChevronLeft",s$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vi=We("ChevronRight",i$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],c$=We("CircleCheck",a$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],u$=We("CirclePlus",l$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],f$=We("CircleX",d$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ey=We("Copy",p$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],og=We("DoorOpen",h$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],g$=We("Hash",m$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],y$=We("House",v$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],PR=We("LogOut",w$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],b$=We("Mail",S$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],x$=We("Menu",_$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],R$=We("MessageCircle",C$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v2",key:"stiyo7"}],["path",{d:"M12 13h.01",key:"y0uutt"}]],T$=We("MessageSquareWarning",E$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]],P$=We("MessagesSquare",k$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],ig=We("MicOff",D$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],I$=We("Mic",j$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}],["path",{d:"M12 13V7",key:"h0r20n"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],N$=We("MonitorUp",M$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],O$=We("MonitorX",L$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],$$=We("Paperclip",A$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],z$=We("Pen",F$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],jf=We("Pencil",B$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],V$=We("PhoneMissed",U$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qi=We("Plus",H$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],If=We("Save",W$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],G$=We("Search",q$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],DR=We("Send",K$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vc=We("Settings",X$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Q$=We("Tag",Y$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ty=We("Trash2",J$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]],e5=We("Unplug",Z$);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],r5=We("Upload",t5);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],s5=We("UserPen",n5);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],i5=We("UserMinus",o5);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],c5=We("UserPlus",a5);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["path",{d:"m19.5 14.3-.4.9",key:"1eb35c"}],["path",{d:"m16.9 20.8-.4.9",key:"dfjc4z"}],["path",{d:"m21.7 19.5-.9-.4",key:"q4dx6b"}],["path",{d:"m15.2 16.9-.9-.4",key:"1r0w5f"}],["path",{d:"m21.7 16.5-.9.4",key:"1knoei"}],["path",{d:"m15.2 19.1-.9.4",key:"j188fs"}],["path",{d:"m19.5 21.7-.4-.9",key:"1tonu5"}],["path",{d:"m16.9 15.2-.4-.9",key:"699xu"}]],jR=We("UserRoundCog",l5);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M2 21a8 8 0 0 1 10.821-7.487",key:"1c8h7z"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}]],d5=We("UserRoundPen",u5);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],IR=We("User",f5);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],h5=We("UsersRound",p5);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],MR=We("Users",m5);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],ag=We("Video",g5);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],NR=We("Volume2",v5);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sc=We("X",y5);function ur(){return{showSuccess:n=>{Ss.show({message:n,position:"top-center",color:"green",radius:"md",autoClose:2e3,icon:y.jsx(c$,{})})},showError:n=>{Ss.show({title:"",message:n,position:"top-center",color:"red",radius:"md",autoClose:2e3,icon:y.jsx(f$,{})})},showMessage:n=>{Ss.show({title:"",message:n,position:"top-right",color:"yellow",radius:"md",autoClose:2e3,icon:y.jsx(T$,{})})}}}const w5=()=>{const{videoProducer:e,setVideoProducer:t,producerTransport:r,setIsStreaming:n,videoAudioProducer:o,setVideoAudioProducer:a}=ti(),c=P.useRef(null),l=P.useRef(null),d=async()=>{const m=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}),v=m.getVideoTracks()[0],g=await r.produce({track:v,appData:{source:"screen-video"}});t(g),c.current=g.id,g.on("trackended",f);const w=m.getAudioTracks()[0];if(w){const b=await r.produce({track:w,appData:{source:"screen-audio"}});a(b),l.current=b.id,b.on("trackended",f)}n(!0)},f=async()=>{const m=localStorage.getItem("accessToken");e?(e.close(),Je.emit("stopProducer",{producerId:e.id,accessToken:m})):Je.emit("stopProducer",{producerId:c.current,accessToken:m}),o?(o.close(),Je.emit("stopProducer",{producerId:o.id,accessToken:m})):Je.emit("stopProducer",{producerId:l.current,accessToken:m}),c.current=null,l.current=null,t(null),a(null),n(!1)};return{startScreenSharing:d,stopScreenSharing:f}};var zt=(e=>(e[e.TEXT_CHANNEL=0]="TEXT_CHANNEL",e[e.VOICE_CHANNEL=1]="VOICE_CHANNEL",e))(zt||{});function Yt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var S5=typeof Symbol=="function"&&Symbol.observable||"@@observable",E_=S5,vm=()=>Math.random().toString(36).substring(7).split("").join("."),b5={INIT:`@@redux/INIT${vm()}`,REPLACE:`@@redux/REPLACE${vm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vm()}`},Ed=b5;function ry(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function LR(e,t,r){if(typeof e!="function")throw new Error(Yt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Yt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Yt(1));return r(LR)(e,t)}let n=e,o=t,a=new Map,c=a,l=0,d=!1;function f(){c===a&&(c=new Map,a.forEach((R,T)=>{c.set(T,R)}))}function m(){if(d)throw new Error(Yt(3));return o}function v(R){if(typeof R!="function")throw new Error(Yt(4));if(d)throw new Error(Yt(5));let T=!0;f();const x=l++;return c.set(x,R),function(){if(T){if(d)throw new Error(Yt(6));T=!1,f(),c.delete(x),a=null}}}function g(R){if(!ry(R))throw new Error(Yt(7));if(typeof R.type>"u")throw new Error(Yt(8));if(typeof R.type!="string")throw new Error(Yt(17));if(d)throw new Error(Yt(9));try{d=!0,o=n(o,R)}finally{d=!1}return(a=c).forEach(x=>{x()}),R}function w(R){if(typeof R!="function")throw new Error(Yt(10));n=R,g({type:Ed.REPLACE})}function b(){const R=v;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(Yt(11));function x(){const h=T;h.next&&h.next(m())}return x(),{unsubscribe:R(x)}},[E_](){return this}}}return g({type:Ed.INIT}),{dispatch:g,subscribe:v,getState:m,replaceReducer:w,[E_]:b}}function _5(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ed.INIT})>"u")throw new Error(Yt(12));if(typeof r(void 0,{type:Ed.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yt(13))})}function x5(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const c=t[a];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let o;try{_5(r)}catch(a){o=a}return function(c={},l){if(o)throw o;let d=!1;const f={};for(let m=0;m<n.length;m++){const v=n[m],g=r[v],w=c[v],b=g(w,l);if(typeof b>"u")throw l&&l.type,new Error(Yt(14));f[v]=b,d=d||b!==w}return d=d||n.length!==Object.keys(c).length,d?f:c}}function Td(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function C5(...e){return t=>(r,n)=>{const o=t(r,n);let a=()=>{throw new Error(Yt(15))};const c={getState:o.getState,dispatch:(d,...f)=>a(d,...f)},l=e.map(d=>d(c));return a=Td(...l)(o.dispatch),{...o,dispatch:a}}}function R5(e){return ry(e)&&"type"in e&&typeof e.type=="string"}var OR=Symbol.for("immer-nothing"),T_=Symbol.for("immer-draftable"),Vr=Symbol.for("immer-state");function Mn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ji=Object.getPrototypeOf;function Wo(e){return!!e&&!!e[Vr]}function Es(e){var t;return e?AR(e)||Array.isArray(e)||!!e[T_]||!!((t=e.constructor)!=null&&t[T_])||Nf(e)||Lf(e):!1}var E5=Object.prototype.constructor.toString();function AR(e){if(!e||typeof e!="object")return!1;const t=Ji(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===E5}function kd(e,t){Mf(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Mf(e){const t=e[Vr];return t?t.type_:Array.isArray(e)?1:Nf(e)?2:Lf(e)?3:0}function cg(e,t){return Mf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $R(e,t,r){const n=Mf(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function T5(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Nf(e){return e instanceof Map}function Lf(e){return e instanceof Set}function Mo(e){return e.copy_||e.base_}function lg(e,t){if(Nf(e))return new Map(e);if(Lf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=AR(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Vr];let o=Reflect.ownKeys(n);for(let a=0;a<o.length;a++){const c=o[a],l=n[c];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[c]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[c]})}return Object.create(Ji(e),n)}else{const n=Ji(e);if(n!==null&&r)return{...e};const o=Object.create(n);return Object.assign(o,e)}}function ny(e,t=!1){return Of(e)||Wo(e)||!Es(e)||(Mf(e)>1&&(e.set=e.add=e.clear=e.delete=k5),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>ny(n,!0))),e}function k5(){Mn(2)}function Of(e){return Object.isFrozen(e)}var P5={};function qo(e){const t=P5[e];return t||Mn(0,e),t}var Ic;function FR(){return Ic}function D5(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function k_(e,t){t&&(qo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ug(e){dg(e),e.drafts_.forEach(j5),e.drafts_=null}function dg(e){e===Ic&&(Ic=e.parent_)}function P_(e){return Ic=D5(Ic,e)}function j5(e){const t=e[Vr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function D_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Vr].modified_&&(ug(t),Mn(4)),Es(e)&&(e=Pd(t,e),t.parent_||Dd(t,e)),t.patches_&&qo("Patches").generateReplacementPatches_(r[Vr].base_,e,t.patches_,t.inversePatches_)):e=Pd(t,r,[]),ug(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==OR?e:void 0}function Pd(e,t,r){if(Of(t))return t;const n=t[Vr];if(!n)return kd(t,(o,a)=>j_(e,n,t,o,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Dd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const o=n.copy_;let a=o,c=!1;n.type_===3&&(a=new Set(o),o.clear(),c=!0),kd(a,(l,d)=>j_(e,n,o,l,d,r,c)),Dd(e,o,!1),r&&e.patches_&&qo("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function j_(e,t,r,n,o,a,c){if(Wo(o)){const l=a&&t&&t.type_!==3&&!cg(t.assigned_,n)?a.concat(n):void 0,d=Pd(e,o,l);if($R(r,n,d),Wo(d))e.canAutoFreeze_=!1;else return}else c&&r.add(o);if(Es(o)&&!Of(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Pd(e,o),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Dd(e,o)}}function Dd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ny(t,r)}function I5(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:FR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,a=sy;r&&(o=[n],a=Mc);const{revoke:c,proxy:l}=Proxy.revocable(o,a);return n.draft_=l,n.revoke_=c,l}var sy={get(e,t){if(t===Vr)return e;const r=Mo(e);if(!cg(r,t))return M5(e,r,t);const n=r[t];return e.finalized_||!Es(n)?n:n===ym(e.base_,t)?(wm(e),e.copy_[t]=pg(n,e)):n},has(e,t){return t in Mo(e)},ownKeys(e){return Reflect.ownKeys(Mo(e))},set(e,t,r){const n=zR(Mo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const o=ym(Mo(e),t),a=o==null?void 0:o[Vr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(T5(r,o)&&(r!==void 0||cg(e.base_,t)))return!0;wm(e),fg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ym(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,wm(e),fg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Mo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Mn(11)},getPrototypeOf(e){return Ji(e.base_)},setPrototypeOf(){Mn(12)}},Mc={};kd(sy,(e,t)=>{Mc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Mc.deleteProperty=function(e,t){return Mc.set.call(this,e,t,void 0)};Mc.set=function(e,t,r){return sy.set.call(this,e[0],t,r,e[0])};function ym(e,t){const r=e[Vr];return(r?Mo(r):e)[t]}function M5(e,t,r){var o;const n=zR(t,r);return n?"value"in n?n.value:(o=n.get)==null?void 0:o.call(e.draft_):void 0}function zR(e,t){if(!(t in e))return;let r=Ji(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ji(r)}}function fg(e){e.modified_||(e.modified_=!0,e.parent_&&fg(e.parent_))}function wm(e){e.copy_||(e.copy_=lg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var N5=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const c=this;return function(d=a,...f){return c.produce(d,m=>r.call(this,m,...f))}}typeof r!="function"&&Mn(6),n!==void 0&&typeof n!="function"&&Mn(7);let o;if(Es(t)){const a=P_(this),c=pg(t,void 0);let l=!0;try{o=r(c),l=!1}finally{l?ug(a):dg(a)}return k_(a,n),D_(o,a)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===OR&&(o=void 0),this.autoFreeze_&&ny(o,!0),n){const a=[],c=[];qo("Patches").generateReplacementPatches_(t,o,a,c),n(a,c)}return o}else Mn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...l)=>this.produceWithPatches(c,d=>t(d,...l));let n,o;return[this.produce(t,r,(c,l)=>{n=c,o=l}),n,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Es(e)||Mn(8),Wo(e)&&(e=L5(e));const t=P_(this),r=pg(e,void 0);return r[Vr].isManual_=!0,dg(t),r}finishDraft(e,t){const r=e&&e[Vr];(!r||!r.isManual_)&&Mn(9);const{scope_:n}=r;return k_(n,t),D_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));const n=qo("Patches").applyPatches_;return Wo(e)?n(e,t):this.produce(e,o=>n(o,t))}};function pg(e,t){const r=Nf(e)?qo("MapSet").proxyMap_(e,t):Lf(e)?qo("MapSet").proxySet_(e,t):I5(e,t);return(t?t.scope_:FR()).drafts_.push(r),r}function L5(e){return Wo(e)||Mn(10,e),BR(e)}function BR(e){if(!Es(e)||Of(e))return e;const t=e[Vr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=lg(e,t.scope_.immer_.useStrictShallowCopy_)}else r=lg(e,!0);return kd(r,(n,o)=>{$R(r,n,BR(o))}),t&&(t.finalized_=!1),r}var Hr=new N5,UR=Hr.produce;Hr.produceWithPatches.bind(Hr);Hr.setAutoFreeze.bind(Hr);Hr.setUseStrictShallowCopy.bind(Hr);Hr.applyPatches.bind(Hr);Hr.createDraft.bind(Hr);Hr.finishDraft.bind(Hr);function VR(e){return({dispatch:r,getState:n})=>o=>a=>typeof a=="function"?a(r,n,e):o(a)}var O5=VR(),A5=VR,$5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Td:Td.apply(null,arguments)},F5=e=>e&&typeof e.match=="function";function bc(e,t){function r(...n){if(t){let o=t(...n);if(!o)throw new Error(bs(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>R5(n)&&n.type===e,r}var HR=class yc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,yc.prototype)}static get[Symbol.species](){return yc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new yc(...t[0].concat(this)):new yc(...t.concat(this))}};function I_(e){return Es(e)?UR(e,()=>{}):e}function M_(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function z5(e){return typeof e=="boolean"}var B5=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:o=!0,actionCreatorCheck:a=!0}=t??{};let c=new HR;return r&&(z5(r)?c.push(O5):c.push(A5(r.extraArgument))),c},U5="RTK_autoBatch",N_=e=>t=>{setTimeout(t,e)},V5=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let o=!0,a=!1,c=!1;const l=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:N_(10):e.type==="callback"?e.queueNotification:N_(e.timeout),f=()=>{c=!1,a&&(a=!1,l.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const v=()=>o&&m(),g=n.subscribe(v);return l.add(m),()=>{g(),l.delete(m)}},dispatch(m){var v;try{return o=!((v=m==null?void 0:m.meta)!=null&&v[U5]),a=!o,a&&(c||(c=!0,d(f))),n.dispatch(m)}finally{o=!0}}})},H5=e=>function(r){const{autoBatch:n=!0}=r??{};let o=new HR(e);return n&&o.push(V5(typeof n=="object"?n:void 0)),o};function W5(e){const t=B5(),{reducer:r=void 0,middleware:n,devTools:o=!0,preloadedState:a=void 0,enhancers:c=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(ry(r))l=x5(r);else throw new Error(bs(1));let d;typeof n=="function"?d=n(t):d=t();let f=Td;o&&(f=$5({trace:!1,...typeof o=="object"&&o}));const m=C5(...d),v=H5(m);let g=typeof c=="function"?c(v):v();const w=f(...g);return LR(l,a,w)}function WR(e){const t={},r=[];let n;const o={addCase(a,c){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(bs(28));if(l in t)throw new Error(bs(29));return t[l]=c,o},addMatcher(a,c){return r.push({matcher:a,reducer:c}),o},addDefaultCase(a){return n=a,o}};return e(o),[t,r,n]}function q5(e){return typeof e=="function"}function G5(e,t){let[r,n,o]=WR(t),a;if(q5(e))a=()=>I_(e());else{const l=I_(e);a=()=>l}function c(l=a(),d){let f=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[o]),f.reduce((m,v)=>{if(v)if(Wo(m)){const w=v(m,d);return w===void 0?m:w}else{if(Es(m))return UR(m,g=>v(g,d));{const g=v(m,d);if(g===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return m},l)}return c.getInitialState=a,c}var K5=(e,t)=>F5(e)?e.match(t):e(t);function zr(...e){return t=>e.some(r=>K5(r,t))}var X5="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Y5=(e=21)=>{let t="",r=e;for(;r--;)t+=X5[Math.random()*64|0];return t},Q5=["name","message","stack","code"],Sm=class{constructor(e,t){Ch(this,"_type");this.payload=e,this.meta=t}},L_=class{constructor(e,t){Ch(this,"_type");this.payload=e,this.meta=t}},J5=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of Q5)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},O_="External signal was aborted",$e=(()=>{function e(t,r,n){const o=bc(t+"/fulfilled",(d,f,m,v)=>({payload:d,meta:{...v||{},arg:m,requestId:f,requestStatus:"fulfilled"}})),a=bc(t+"/pending",(d,f,m)=>({payload:void 0,meta:{...m||{},arg:f,requestId:d,requestStatus:"pending"}})),c=bc(t+"/rejected",(d,f,m,v,g)=>({payload:v,error:(n&&n.serializeError||J5)(d||"Rejected"),meta:{...g||{},arg:m,requestId:f,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function l(d,{signal:f}={}){return(m,v,g)=>{const w=n!=null&&n.idGenerator?n.idGenerator(d):Y5(),b=new AbortController;let E,R;function T(p){R=p,b.abort()}f&&(f.aborted?T(O_):f.addEventListener("abort",()=>T(O_),{once:!0}));const x=async function(){var S,C;let p;try{let D=(S=n==null?void 0:n.condition)==null?void 0:S.call(n,d,{getState:v,extra:g});if(e6(D)&&(D=await D),D===!1||b.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const j=new Promise((L,N)=>{E=()=>{N({name:"AbortError",message:R||"Aborted"})},b.signal.addEventListener("abort",E)});m(a(w,d,(C=n==null?void 0:n.getPendingMeta)==null?void 0:C.call(n,{requestId:w,arg:d},{getState:v,extra:g}))),p=await Promise.race([j,Promise.resolve(r(d,{dispatch:m,getState:v,extra:g,requestId:w,signal:b.signal,abort:T,rejectWithValue:(L,N)=>new Sm(L,N),fulfillWithValue:(L,N)=>new L_(L,N)})).then(L=>{if(L instanceof Sm)throw L;return L instanceof L_?o(L.payload,w,d,L.meta):o(L,w,d)})])}catch(D){p=D instanceof Sm?c(null,w,d,D.payload,D.meta):c(D,w,d)}finally{E&&b.signal.removeEventListener("abort",E)}return n&&!n.dispatchConditionRejection&&c.match(p)&&p.meta.condition||m(p),p}();return Object.assign(x,{abort:T,requestId:w,arg:d,unwrap(){return x.then(Z5)}})}}return Object.assign(l,{pending:a,rejected:c,fulfilled:o,settled:zr(c,o),typePrefix:t})}return e.withTypes=()=>e,e})();function Z5(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function e6(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var t6=Symbol.for("rtk-slice-createasyncthunk");function r6(e,t){return`${e}/${t}`}function n6({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[t6];return function(o){const{name:a,reducerPath:c=a}=o;if(!a)throw new Error(bs(11));const l=(typeof o.reducers=="function"?o.reducers(o6()):o.reducers)||{},d=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(p,h){const S=typeof p=="string"?p:p.type;if(!S)throw new Error(bs(12));if(S in f.sliceCaseReducersByType)throw new Error(bs(13));return f.sliceCaseReducersByType[S]=h,m},addMatcher(p,h){return f.sliceMatchers.push({matcher:p,reducer:h}),m},exposeAction(p,h){return f.actionCreators[p]=h,m},exposeCaseReducer(p,h){return f.sliceCaseReducersByName[p]=h,m}};d.forEach(p=>{const h=l[p],S={reducerName:p,type:r6(a,p),createNotation:typeof o.reducers=="function"};a6(h)?l6(S,h,m,t):i6(S,h,m)});function v(){const[p={},h=[],S=void 0]=typeof o.extraReducers=="function"?WR(o.extraReducers):[o.extraReducers],C={...p,...f.sliceCaseReducersByType};return G5(o.initialState,D=>{for(let j in C)D.addCase(j,C[j]);for(let j of f.sliceMatchers)D.addMatcher(j.matcher,j.reducer);for(let j of h)D.addMatcher(j.matcher,j.reducer);S&&D.addDefaultCase(S)})}const g=p=>p,w=new Map;let b;function E(p,h){return b||(b=v()),b(p,h)}function R(){return b||(b=v()),b.getInitialState()}function T(p,h=!1){function S(D){let j=D[p];return typeof j>"u"&&h&&(j=R()),j}function C(D=g){const j=M_(w,h,()=>new WeakMap);return M_(j,D,()=>{const L={};for(const[N,A]of Object.entries(o.selectors??{}))L[N]=s6(A,D,R,h);return L})}return{reducerPath:p,getSelectors:C,get selectors(){return C(S)},selectSlice:S}}const x={name:a,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:R,...T(c),injectInto(p,{reducerPath:h,...S}={}){const C=h??c;return p.inject({reducerPath:C,reducer:E},S),{...x,...T(C,!0)}}};return x}}function s6(e,t,r,n){function o(a,...c){let l=t(a);return typeof l>"u"&&n&&(l=r()),e(l,...c)}return o.unwrapped=e,o}var Hc=n6();function o6(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function i6({type:e,reducerName:t,createNotation:r},n,o){let a,c;if("reducer"in n){if(r&&!c6(n))throw new Error(bs(17));a=n.reducer,c=n.prepare}else a=n;o.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,c?bc(e,c):bc(e))}function a6(e){return e._reducerDefinitionType==="asyncThunk"}function c6(e){return e._reducerDefinitionType==="reducerWithPrepare"}function l6({type:e,reducerName:t},r,n,o){if(!o)throw new Error(bs(18));const{payloadCreator:a,fulfilled:c,pending:l,rejected:d,settled:f,options:m}=r,v=o(e,a,m);n.exposeAction(t,v),c&&n.addCase(v.fulfilled,c),l&&n.addCase(v.pending,l),d&&n.addCase(v.rejected,d),f&&n.addMatcher(v.settled,f),n.exposeCaseReducer(t,{fulfilled:c||pu,pending:l||pu,rejected:d||pu,settled:f||pu})}function pu(){}function bs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const qR=async(e,t,r,n=0)=>{try{const o=await fetch(`${Ve}/api/channel/messages?channelId=${t}&number=${r}&fromStart=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),a=await o.json();if(!o.ok)throw new Error(a.message||`Error: ${o.status}`);return a}catch(o){throw console.error("Error get messages:",o),o}},u6=async(e,t,r,n,o)=>{try{const a=await fetch(`${Ve}/api/channel/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,name:r,channelType:n,maxCount:o})});if(!a.ok){const c=await a.json();throw new Error(c.message||`Error: ${a.status}`)}}catch(a){throw console.error("Error create channel:",a),a}},d6=async(e,t)=>{try{const r=await fetch(`${Ve}/api/channel/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete channel:",r),r}},f6=async(e,t,r)=>{try{const n=await fetch(`${Ve}/api/channel/name/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change channel name:",n),n}},p6=async e=>{try{const t=await fetch(`${Ve}/api/channel/voice/mute/self`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error self mute:",t),t}},h6=async(e,t)=>{try{const r=await fetch(`${Ve}/api/channel/settings/change/text`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error change text channel settings:",r),r}},m6=async(e,t)=>{try{const r=await fetch(`${Ve}/api/channel/settings/change/voice`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error change voice channel settings:",r),r}},g6=async(e,t)=>{try{const r=await fetch(`${Ve}/api/channel/settings?channelId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error get channel settings:",r),r}},v6=async(e,t,r)=>{try{const n=await fetch(`${Ve}/api/channel/settings/maxcount`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({voiceChannelId:t,maxCount:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change voice channel max count:",n),n}},y6=async(e,t,r,n)=>{try{const o=await fetch(`${Ve}/message/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({channelId:t,text:r,nestedChannel:n})});if(!o.ok){const a=await o.json();throw new Error(a.message||`Error: ${o.status}`)}}catch(o){throw console.error("Error create message:",o),o}},w6=async(e,t)=>{try{const r=await fetch(`${Ve}/message/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete message:",r),r}},S6=async(e,t,r)=>{try{const n=await fetch(`${Ve}/message/update`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({messageId:t,text:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error edit message:",n),n}},b6=async e=>{try{const t=await fetch(`${Ve}/api/server/get/List`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get servers:",t),t}},_6=async(e,t)=>{try{const r=await fetch(`${Ve}/api/server/getserverdata?serverId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n}catch(r){throw console.error("Error get server data:",r),r}},x6=async(e,t)=>{try{const r=await fetch(`${Ve}/api/server/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({name:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error create server:",r),r}},C6=async(e,t)=>{try{const r=await fetch(`${Ve}/api/server/delete`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete server:",r),r}},R6=async(e,t,r,n)=>{try{const o=await fetch(`${Ve}/api/server/changerole`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r,role:n})});if(!o.ok){const a=await o.json();throw new Error(a.message||`Error: ${o.status}`)}}catch(o){throw console.error("Error create server:",o),o}},E6=async(e,t,r)=>{try{const n=await fetch(`${Ve}/api/server/subscribe`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userName:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error subscribe to server:",n),n}},T6=async(e,t)=>{try{const r=await fetch(`${Ve}/api/server/unsubscribe`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error unsubscribe from server:",r),r}},k6=async(e,t,r)=>{try{const n=await fetch(`${Ve}/api/server/name/server/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change server name:",n),n}},P6=async(e,t,r)=>{try{const n=await fetch(`${Ve}/api/server/name/user/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t,name:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change user name on server:",n),n}},D6=async(e,t,r)=>{try{const n=await fetch(`${Ve}/api/server/deleteuser`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,userId:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error delete user from server:",n),n}},j6=async(e,t,r)=>{try{const n=await fetch(`${Ve}/api/server/unsubscribe/creator`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,newCreatorId:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error unsubscribe creator from server:",n),n}},I6=async(e,t)=>{try{const r=await fetch(`${Ve}/api/server/banned/list?serverId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw new Error(n.message||`Error: ${r.status}`);return n.bannedList}catch(r){throw console.error("Error get banned users:",r),r}},M6=async(e,t,r)=>{try{const n=await fetch(`${Ve}/api/server/banned/unban`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({userId:t,serverId:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error unban user:",n),n}},_s=$e("testServerSlice/getUserServers",async({accessToken:e},{rejectWithValue:t})=>{try{return(await b6(e)).serversList}catch(r){return t(r instanceof Error?r.message:" ")}}),An=$e("testServerSlice/getServerData",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{return await _6(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Eu=$e("testServerSlice/createServer",async({accessToken:e,name:t},{rejectWithValue:r})=>{try{await x6(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),bm=$e("testServerSlice/deleteServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await C6(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Tu=$e("testServerSlice/changeRole",async({accessToken:e,serverId:t,userId:r,role:n},{rejectWithValue:o})=>{try{await R6(e,t,r,n)}catch(a){return o(a instanceof Error?a.message:" ")}}),ku=$e("testServerSlice/subscribeToServer",async({accessToken:e,serverId:t,userName:r},{rejectWithValue:n})=>{try{await E6(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),_c=$e("testServerSlice/unsubscribeFromServer",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{await T6(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Pu=$e("testServerSlice/getChannelMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:n},{rejectWithValue:o})=>{try{return await qR(e,t,r,n)}catch(a){return o(a instanceof Error?a.message:" ")}}),Du=$e("testServerSlice/getMoreMessages",async({accessToken:e,channelId:t,numberOfMessages:r,fromStart:n},{rejectWithValue:o})=>{try{return await qR(e,t,r,n)}catch(a){return o(a instanceof Error?a.message:" ")}}),_m=$e("testServerSlice/createMessage",async({accessToken:e,channelId:t,text:r,nestedChannel:n},{rejectWithValue:o})=>{try{await y6(e,t,r,n)}catch(a){return o(a instanceof Error?a.message:" ")}}),xm=$e("testServerSlice/deleteMessage",async({accessToken:e,messageId:t},{rejectWithValue:r})=>{try{await w6(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Cm=$e("testServerSlice/editMessage",async({accessToken:e,messageId:t,text:r},{rejectWithValue:n})=>{try{await S6(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),ju=$e("testServerSlice/createChannel",async({accessToken:e,serverId:t,name:r,channelType:n,maxCount:o},{rejectWithValue:a})=>{try{await u6(e,t,r,n,o)}catch(c){return a(c instanceof Error?c.message:" ")}}),xc=$e("testServerSlice/deleteChannel",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{await d6(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Iu=$e("testServerSlice/changeServerName",async({accessToken:e,serverId:t,name:r},{rejectWithValue:n})=>{try{await k6(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),Mu=$e("testServerSlice/changeNameOnServer",async({accessToken:e,serverId:t,name:r},{rejectWithValue:n})=>{try{await P6(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),Nu=$e("testServerSlice/deleteUserFromServer",async({accessToken:e,serverId:t,userId:r},{rejectWithValue:n})=>{try{await D6(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),Lu=$e("testServerSlice/changeChannelName",async({accessToken:e,id:t,name:r},{rejectWithValue:n})=>{try{await f6(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),N6=$e("testServerSlice/creatorUnsubscribeFromServer",async({accessToken:e,serverId:t,newCreatorId:r},{rejectWithValue:n})=>{try{await j6(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),Ou=$e("testServerSlice/selfMute",async({accessToken:e},{rejectWithValue:t})=>{try{await p6(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Au=$e("testServerSlice/changeTextChannelSettings",async({accessToken:e,settings:t},{rejectWithValue:r})=>{try{await h6(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),$u=$e("testServerSlice/getChannelSettings",async({accessToken:e,channelId:t},{rejectWithValue:r})=>{try{return await g6(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Fu=$e("testServerSlice/changeVoiceChannelSettings",async({accessToken:e,settings:t},{rejectWithValue:r})=>{try{await m6(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),zu=$e("testServerSlice/getBannedUsers",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{return await I6(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Rm=$e("testServerSlice/unbanUser",async({accessToken:e,userId:t,serverId:r},{rejectWithValue:n})=>{try{await M6(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),Bu=$e("testServerSlice/changeVoiceChannelMaxCount",async({accessToken:e,voiceChannelId:t,maxCount:r},{rejectWithValue:n})=>{try{await v6(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}});var tt=(e=>(e.IDLE="IDLE",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED",e))(tt||{});const L6={serversList:[],serverData:{serverId:"",serverName:"",icon:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[],notificationChannels:[]},isCreator:!1,permissions:{canChangeRole:!1,canWorkChannels:!1,canDeleteUsers:!1,canMuteOther:!1,canDeleteOthersMessages:!1,canIgnoreMaxCount:!1,canCreateRoles:!1},isNotifiable:!1},currentServerId:null,currentChannelId:null,currentVoiceChannelId:null,messages:[],hasNewMessage:!1,messagesStatus:tt.IDLE,roleSettings:{canSee:null,canJoin:null,canWrite:null,canWriteSub:null,canUse:null,notificated:null},bannedUsers:[],isLoading:!1,numberOfStarterMessage:0,remainingMessagesCount:tn,messageIsLoading:tt.IDLE,error:""},GR=Hc({name:"testServer",initialState:L6,reducers:{setCurrentServerId:(e,t)=>{e.currentServerId=t.payload,e.error=""},setCurrentChannelId:(e,t)=>{e.currentChannelId=t.payload},setCurrentVoiceChannelId:(e,t)=>{e.currentVoiceChannelId=t.payload},addMessage:(e,t)=>{const{channelId:r}=t.payload;r===e.currentChannelId&&(e.messages.push(t.payload),e.hasNewMessage=!0)},deleteMessageWs:(e,t)=>{e.messages=e.messages.filter(r=>r.id!==t.payload.messageId)},editMessageWs:(e,t)=>{const r=e.messages.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.messages[r]=t.payload)},addUserWs:(e,t)=>{console.log(e.currentServerId),console.log(e.serverData.users),e.serverData.users.push(t.payload)},deleteUserWs:(e,t)=>{t.payload.ServerId===e.currentServerId&&(e.serverData.users=e.serverData.users.filter(r=>r.userId!==t.payload.UserId))},clearServerData:e=>{e.messages=[],e.currentServerId=null,e.currentChannelId=null,e.serverData={serverId:"",serverName:"",icon:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[],notificationChannels:[]},isCreator:!1,permissions:{canChangeRole:!1,canWorkChannels:!1,canDeleteUsers:!1,canMuteOther:!1,canDeleteOthersMessages:!1,canIgnoreMaxCount:!1,canCreateRoles:!1},isNotifiable:!1},e.roleSettings={canSee:null,canJoin:null,canWrite:null,canWriteSub:null,canUse:null,notificated:null}},clearHasNewMessage:e=>{e.hasNewMessage=!1},setNewServerName:(e,t)=>{e.serverData.serverName=t.payload.name},setNewUserName:(e,t)=>{const r=e.serverData.users.findIndex(n=>n.userId===t.payload.userId);r!==-1&&(e.serverData.users[r].userName=t.payload.name)},removeUser:(e,t)=>{const r=e.serverData.users.findIndex(n=>n.userId===t.payload.userId);r!==-1&&e.serverData.users.splice(r,1)},removeServer:(e,t)=>{const r=e.serversList.findIndex(n=>n.serverId===t.payload.serverId);r!==-1&&e.serversList.splice(r,1)},editChannelName:(e,t)=>{const{channelId:r,newName:n}=t.payload,o=e.serverData.channels.textChannels.find(c=>c.channelId===r);if(o){o.channelName=n;return}const a=e.serverData.channels.voiceChannels.find(c=>c.channelId===r);if(a){a.channelName=n;return}},addUserOnVoiceChannel:(e,t)=>{const{channelId:r,userId:n}=t.payload,o=e.serverData.channels.voiceChannels.find(a=>a.channelId===r);o&&(o.users.some(a=>a.userId===n)||o.users.push({userId:n,isMuted:!1}))},removeUserFromVoiceChannel:(e,t)=>{const{channelId:r,userId:n}=t.payload,o=e.serverData.channels.voiceChannels.find(a=>a.channelId===r);o&&(o.users=o.users.filter(a=>a.userId!==n))},toggleUserMuteStatus:(e,t)=>{const{channelId:r,userId:n,isMuted:o}=t.payload,a=e.serverData.channels.voiceChannels.find(c=>c.channelId===r);a&&(a.users=a.users.map(c=>c.userId===n?{...c,isMuted:o}:c))}},extraReducers:e=>{e.addCase(_s.pending,t=>{t.isLoading=!0,t.error=""}).addCase(_s.fulfilled,(t,r)=>{console.log(r.payload),t.serversList=r.payload,t.isLoading=!1,t.error=""}).addCase(_s.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(An.pending,t=>{t.isLoading=!0,t.serverData={serverId:"",serverName:"",icon:"",roles:[],userRoleId:"",userRole:"",users:[],channels:{textChannels:[],voiceChannels:[],notificationChannels:[]},isCreator:!1,permissions:{canChangeRole:!1,canWorkChannels:!1,canDeleteUsers:!1,canMuteOther:!1,canDeleteOthersMessages:!1,canIgnoreMaxCount:!1,canCreateRoles:!1},isNotifiable:!1},t.error=""}).addCase(An.fulfilled,(t,r)=>{t.serverData=r.payload;const n=r.payload.channels.textChannels;let o=t.currentChannelId;n.find(c=>c.channelId===o)||(o=n.length>0?n[0].channelId:null,t.currentChannelId=o,t.messages=[]),t.isLoading=!1,t.error=""}).addCase(An.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Eu.pending,t=>{t.error=""}).addCase(Eu.fulfilled,t=>{t.error=""}).addCase(Eu.rejected,(t,r)=>{t.error=r.payload}).addCase(bm.pending,t=>{t.error=""}).addCase(bm.fulfilled,t=>{t.error=""}).addCase(bm.rejected,(t,r)=>{t.error=r.payload}).addCase(Tu.pending,t=>{t.error=""}).addCase(Tu.fulfilled,t=>{t.error=""}).addCase(Tu.rejected,(t,r)=>{t.error=r.payload}).addCase(ku.pending,t=>{t.error=""}).addCase(ku.fulfilled,t=>{t.error=""}).addCase(ku.rejected,(t,r)=>{t.error=r.payload}).addCase(Pu.pending,t=>{t.messagesStatus=tt.PENDING,t.isLoading=!0,t.error=""}).addCase(Pu.fulfilled,(t,r)=>{t.messages=r.payload.messages,t.hasNewMessage=!1,t.messagesStatus=tt.FULFILLED,t.isLoading=!1,t.remainingMessagesCount=r.payload.remainingMessagesCount,r.payload.remainingMessagesCount>0&&(t.numberOfStarterMessage=tn),t.error=""}).addCase(Pu.rejected,(t,r)=>{t.isLoading=!1,t.messagesStatus=tt.REJECTED,t.error=r.payload}).addCase(Du.pending,t=>{t.messageIsLoading=tt.PENDING,t.error=""}).addCase(Du.fulfilled,(t,r)=>{t.messages=[...r.payload.messages,...t.messages],t.messageIsLoading=tt.FULFILLED,t.remainingMessagesCount=r.payload.remainingMessagesCount,r.payload.remainingMessagesCount>0&&(t.numberOfStarterMessage=t.numberOfStarterMessage+tn),t.error=""}).addCase(Du.rejected,(t,r)=>{t.messageIsLoading=tt.REJECTED,t.error=r.payload}).addCase(_m.pending,t=>{t.error=""}).addCase(_m.fulfilled,t=>{t.error=""}).addCase(_m.rejected,(t,r)=>{t.error=r.payload}).addCase(xm.pending,t=>{t.error=""}).addCase(xm.fulfilled,t=>{t.error=""}).addCase(xm.rejected,(t,r)=>{t.error=r.payload}).addCase(Cm.pending,t=>{t.error=""}).addCase(Cm.fulfilled,t=>{t.error=""}).addCase(Cm.rejected,(t,r)=>{t.error=r.payload}).addCase(ju.pending,t=>{t.error=""}).addCase(ju.fulfilled,t=>{t.error=""}).addCase(ju.rejected,(t,r)=>{t.error=r.payload}).addCase(xc.pending,t=>{t.error=""}).addCase(xc.fulfilled,t=>{t.error=""}).addCase(xc.rejected,(t,r)=>{t.error=r.payload}).addCase(_c.pending,t=>{t.error=""}).addCase(_c.fulfilled,t=>{t.error=""}).addCase(_c.rejected,(t,r)=>{t.error=r.payload}).addCase(Iu.pending,t=>{t.error=""}).addCase(Iu.fulfilled,t=>{t.error=""}).addCase(Iu.rejected,(t,r)=>{t.error=r.payload}).addCase(Mu.pending,t=>{t.error=""}).addCase(Mu.fulfilled,t=>{t.error=""}).addCase(Mu.rejected,(t,r)=>{t.error=r.payload}).addCase(Nu.pending,t=>{t.error=""}).addCase(Nu.fulfilled,t=>{t.error=""}).addCase(Nu.rejected,(t,r)=>{t.error=r.payload}).addCase(Lu.pending,t=>{t.error=""}).addCase(Lu.fulfilled,t=>{t.error=""}).addCase(Lu.rejected,(t,r)=>{t.error=r.payload}).addCase(Ou.pending,t=>{t.error=""}).addCase(Ou.fulfilled,t=>{t.error=""}).addCase(Ou.rejected,(t,r)=>{t.error=r.payload}).addCase(Rm.fulfilled,(t,{meta:r})=>{const{userId:n}=r.arg;t.bannedUsers.length>0&&(t.bannedUsers=t.bannedUsers.filter(o=>o.userId!==n))}).addCase(zu.fulfilled,(t,r)=>{t.bannedUsers=r.payload,t.error=""}).addCase(Bu.fulfilled,(t,{meta:r})=>{const{voiceChannelId:n,maxCount:o}=r.arg,a=t.serverData.channels.voiceChannels.findIndex(c=>c.channelId===n);a!==-1&&(t.serverData.channels.voiceChannels[a]={...t.serverData.channels.voiceChannels[a],maxCount:o}),t.error=""}).addMatcher(zr($u.fulfilled),(t,r)=>{t.roleSettings=r.payload,t.error=""}).addMatcher(zr($u.pending,Au.pending,Fu.pending,zu.pending,Rm.pending,Bu.pending),t=>{t.error=""}).addMatcher(zr(Au.fulfilled,Fu.fulfilled),t=>{t.error=""}).addMatcher(zr($u.rejected,Au.rejected,Fu.rejected,zu.rejected,Rm.rejected,Bu.rejected),(t,r)=>{t.error=r.payload})}}),{setCurrentServerId:O6,setCurrentChannelId:A6,setCurrentVoiceChannelId:Hi,addMessage:$6,deleteMessageWs:F6,editMessageWs:z6,addUserWs:B6,deleteUserWs:U6,clearServerData:oy,clearHasNewMessage:A_,setNewServerName:V6,setNewUserName:H6,removeUser:W6,removeServer:q6,editChannelName:G6,addUserOnVoiceChannel:K6,removeUserFromVoiceChannel:X6,toggleUserMuteStatus:Y6}=GR.actions,Q6=GR.reducer,J6=e=>{const[t,r]=P.useState(!1),[n,o]=P.useState(!1),[a,c]=P.useState(!1),[l,d]=P.useState([]),[f,m]=P.useState([]),[v,g]=P.useState(null),[w,b]=P.useState(null),[E,R]=P.useState(null),[T,x]=P.useState(null),[p,h]=P.useState(null),[S,C]=P.useState(null),D=st(),{currentVoiceChannelId:j}=ve(O=>O.testServerStore),{accessToken:L}=ve(O=>O.userStore),N=O=>{d(V=>[...V,O])},A=()=>{w&&(n?w.resume():w.pause(),D(Ou({accessToken:L})),o(!n))};return P.useEffect(()=>{if(!Je)return;Je.on("producerClosed",({producerId:V})=>{d(W=>W.filter(X=>X.producerId!==V))}),Je.on("producer-closed",({remoteProducerId:V})=>{d(W=>W.filter(X=>X.producerId!==V))}),Je.on("new-producer",({producerId:V})=>{v&&ER(V,v,N)}),Je.on("updateUsersList",({rooms:V})=>{console.log(V),m(V)});const O=()=>{Je.emit("leaveRoom",{accessToken:L,voiceChannelId:j})};return window.addEventListener("beforeunload",O),()=>{window.removeEventListener("beforeunload",O),Je.off("producerClosed"),Je.off("producer-closed"),Je.off("new-producer"),Je.off("updateUsersList")}},[v]),y.jsx(qC.Provider,{value:{isConnected:t,isMuted:n,isStreaming:a,setIsConnected:r,setIsMuted:o,setIsStreaming:c,audioProducer:w,setAudioProducer:b,videoProducer:E,setVideoProducer:R,device:v,setDevice:g,producerTransport:p,setProducerTransport:h,consumers:l,users:f,addConsumer:N,setConsumers:d,toggleMute:A,selectedUserId:S,setSelectedUserId:C,videoAudioProducer:T,setVideoAudioProducer:x},children:e.children})},Z6=e=>{const{consumers:t}=ti(),r=P.useRef(new Map),[n,o]=P.useState({});P.useEffect(()=>{t.forEach(({producerId:l,track:d,kind:f,appData:m})=>{const v=m==null?void 0:m.source;if(console.log(f,v,m.source,r.current.has(l)),f==="audio"&&v!=="screen-audio"&&!r.current.has(l)){const g=document.createElement("audio");g.srcObject=new MediaStream([d]),g.autoplay=!0,g.volume=n[l]??1,r.current.set(l,g),document.body.appendChild(g)}});const c=t.map(l=>l.producerId);return r.current.forEach((l,d)=>{c.includes(d)||(l.pause(),l.remove(),r.current.delete(d))}),()=>{r.current.forEach(l=>{l.pause(),l.remove()}),r.current.clear()}},[t,n]);const a=(c,l)=>{o(d=>({...d,[c]:l/100}))};return y.jsx(WC.Provider,{value:{setVolume:a,userVolumes:n},children:e.children})},e9=()=>{const e=P.useContext(WC);if(!e)throw new Error("useAudioContext  must be used within a AudioProvider");return e};function t9(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const r9=typeof window<"u"?P.useLayoutEffect:P.useEffect;function Xt(e,t){r9(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function n9(e,t){e&&t9(e),Xt(`mantine-form:${e}:set-field-value`,r=>t.setFieldValue(r.detail.path,r.detail.value)),Xt(`mantine-form:${e}:set-values`,r=>t.setValues(r.detail)),Xt(`mantine-form:${e}:set-initial-values`,r=>t.setInitialValues(r.detail)),Xt(`mantine-form:${e}:set-errors`,r=>t.setErrors(r.detail)),Xt(`mantine-form:${e}:set-field-error`,r=>t.setFieldError(r.detail.path,r.detail.error)),Xt(`mantine-form:${e}:clear-field-error`,r=>t.clearFieldError(r.detail)),Xt(`mantine-form:${e}:clear-errors`,t.clearErrors),Xt(`mantine-form:${e}:reset`,t.reset),Xt(`mantine-form:${e}:validate`,t.validate),Xt(`mantine-form:${e}:validate-field`,r=>t.validateField(r.detail)),Xt(`mantine-form:${e}:reorder-list-item`,r=>t.reorderListItem(r.detail.path,r.detail.payload)),Xt(`mantine-form:${e}:remove-list-item`,r=>t.removeListItem(r.detail.path,r.detail.index)),Xt(`mantine-form:${e}:insert-list-item`,r=>t.insertListItem(r.detail.path,r.detail.item,r.detail.index)),Xt(`mantine-form:${e}:set-dirty`,r=>t.setDirty(r.detail)),Xt(`mantine-form:${e}:set-touched`,r=>t.setTouched(r.detail)),Xt(`mantine-form:${e}:reset-dirty`,r=>t.resetDirty(r.detail)),Xt(`mantine-form:${e}:reset-touched`,t.resetTouched)}function s9(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:r}=t;r instanceof HTMLInputElement?r.type==="checkbox"?e(r.checked):e(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&e(r.value)}else e(t)}}function hg(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,r)=>{const n=e[r];return n!=null&&n!==!1&&(t[r]=n),t},{})}function o9(e){const[t,r]=P.useState(hg(e)),n=P.useRef(t),o=P.useCallback(d=>{r(f=>{const m=hg(typeof d=="function"?d(f):d);return n.current=m,m})},[]),a=P.useCallback(()=>o({}),[]),c=P.useCallback(d=>{n.current[d]!==void 0&&o(f=>{const m={...f};return delete m[d],m})},[t]),l=P.useCallback((d,f)=>{f==null||f===!1?c(d):n.current[d]!==f&&o(m=>({...m,[d]:f}))},[t]);return{errorsState:t,setErrors:o,clearErrors:a,setFieldError:l,clearFieldError:c}}function mg(e,t){if(t===null||typeof t!="object")return{};const r={...t};return Object.keys(t).forEach(n=>{n.includes(`${String(e)}.`)&&delete r[n]}),r}function $_(e,t){const r=e.substring(t.length+1).split(".")[0];return parseInt(r,10)}function F_(e,t,r,n){if(t===void 0)return r;const o=`${String(e)}`;let a=r;n===-1&&(a=mg(`${o}.${t}`,a));const c={...a},l=new Set;return Object.entries(a).filter(([d])=>{if(!d.startsWith(`${o}.`))return!1;const f=$_(d,o);return Number.isNaN(f)?!1:f>=t}).forEach(([d,f])=>{const m=$_(d,o),v=d.replace(`${o}.${m}`,`${o}.${m+n}`);c[v]=f,l.add(v),l.has(d)||delete c[d]}),c}function i9(e,{from:t,to:r},n){const o=`${e}.${t}`,a=`${e}.${r}`,c={...n};return Object.keys(n).every(l=>{let d,f;if(l.startsWith(o)&&(d=l,f=l.replace(o,a)),l.startsWith(a)&&(d=l.replace(a,o),f=l),d&&f){const m=c[d],v=c[f];return v===void 0?delete c[d]:c[d]=v,m===void 0?delete c[f]:c[f]=m,!1}return!0}),c}function z_(e,t,r){typeof r.value=="object"&&(r.value=$i(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function $i(e){if(typeof e!="object")return e;var t=0,r,n,o,a=Object.prototype.toString.call(e);if(a==="[object Object]"?o=Object.create(e.__proto__||null):a==="[object Array]"?o=Array(e.length):a==="[object Set]"?(o=new Set,e.forEach(function(c){o.add($i(c))})):a==="[object Map]"?(o=new Map,e.forEach(function(c,l){o.set($i(l),$i(c))})):a==="[object Date]"?o=new Date(+e):a==="[object RegExp]"?o=new RegExp(e.source,e.flags):a==="[object DataView]"?o=new e.constructor($i(e.buffer)):a==="[object ArrayBuffer]"?o=e.slice(0):a.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)z_(o,n[t],Object.getOwnPropertyDescriptor(e,n[t]));for(t=0,n=Object.getOwnPropertyNames(e);t<n.length;t++)Object.hasOwnProperty.call(o,r=n[t])&&o[r]===e[r]||z_(o,r,Object.getOwnPropertyDescriptor(e,r))}return o||e}function KR(e){return typeof e!="string"?[]:e.split(".")}function Qt(e,t){const r=KR(e);if(r.length===0||typeof t!="object"||t===null)return;let n=t[r[0]];for(let o=1;o<r.length&&n!=null;o+=1)n=n[r[o]];return n}function Wc(e,t,r){const n=KR(e);if(n.length===0)return r;const o=$i(r);if(n.length===1)return o[n[0]]=t,o;let a=o[n[0]];for(let c=1;c<n.length-1;c+=1){if(a===void 0)return o;a=a[n[c]]}return a[n[n.length-1]]=t,o}function a9(e,{from:t,to:r},n){const o=Qt(e,n);if(!Array.isArray(o))return n;const a=[...o],c=o[t];return a.splice(t,1),a.splice(r,0,c),Wc(e,a,n)}function c9(e,t,r,n){const o=Qt(e,n);if(!Array.isArray(o))return n;const a=[...o];return a.splice(typeof r=="number"?r:a.length,0,t),Wc(e,a,n)}function l9(e,t,r){const n=Qt(e,r);return Array.isArray(n)?Wc(e,n.filter((o,a)=>a!==t),r):r}function u9(e,t,r,n){const o=Qt(e,n);if(!Array.isArray(o)||o.length<=r)return n;const a=[...o];return a[r]=t,Wc(e,a,n)}function d9({$values:e,$errors:t,$status:r}){const n=P.useCallback((l,d)=>{r.clearFieldDirty(l),t.setErrors(f=>i9(l,d,f)),e.setValues({values:a9(l,d,e.refValues.current),updateState:!0})},[]),o=P.useCallback((l,d)=>{r.clearFieldDirty(l),t.setErrors(f=>F_(l,d,f,-1)),e.setValues({values:l9(l,d,e.refValues.current),updateState:!0})},[]),a=P.useCallback((l,d,f)=>{r.clearFieldDirty(l),t.setErrors(m=>F_(l,f,m,1)),e.setValues({values:c9(l,d,f,e.refValues.current),updateState:!0})},[]),c=P.useCallback((l,d,f)=>{r.clearFieldDirty(l),e.setValues({values:u9(l,f,d,e.refValues.current),updateState:!0})},[]);return{reorderListItem:n,removeListItem:o,insertListItem:a,replaceListItem:c}}var Em,B_;function f9(){return B_||(B_=1,Em=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[o]))return!1;for(o=n;o--!==0;){var c=a[o];if(!e(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}),Em}var p9=f9();const hu=yg(p9);function dc(e,t){const r=Object.keys(e);if(typeof t=="string"){const n=r.filter(o=>o.startsWith(`${t}.`));return e[t]||n.some(o=>e[o])||!1}return r.some(n=>e[n])}function h9({initialDirty:e,initialTouched:t,mode:r,$values:n}){const[o,a]=P.useState(t),[c,l]=P.useState(e),d=P.useRef(t),f=P.useRef(e),m=P.useCallback(C=>{const D=typeof C=="function"?C(d.current):C;d.current=D,r==="controlled"&&a(D)},[]),v=P.useCallback((C,D=!1)=>{const j=typeof C=="function"?C(f.current):C;f.current=j,(r==="controlled"||D)&&l(j)},[]),g=P.useCallback(()=>m({}),[]),w=P.useCallback(C=>{const D=C?{...n.refValues.current,...C}:n.refValues.current;n.setValuesSnapshot(D),v({})},[]),b=P.useCallback((C,D)=>{m(j=>dc(j,C)===D?j:{...j,[C]:D})},[]),E=P.useCallback((C,D,j)=>{v(L=>dc(L,C)===D?L:{...L,[C]:D},j)},[]),R=P.useCallback((C,D)=>{const j=dc(f.current,C),L=!hu(Qt(C,n.getValuesSnapshot()),D),N=mg(C,f.current);N[C]=L,v(N,j!==L)},[]),T=P.useCallback(C=>dc(d.current,C),[]),x=P.useCallback(C=>v(D=>{if(typeof C!="string")return D;const j=mg(C,D);return delete j[C],hu(j,D)?D:j}),[]),p=P.useCallback(C=>{if(C){const j=Qt(C,f.current);if(typeof j=="boolean")return j;const L=Qt(C,n.refValues.current),N=Qt(C,n.valuesSnapshot.current);return!hu(L,N)}return Object.keys(f.current).length>0?dc(f.current):!hu(n.refValues.current,n.valuesSnapshot.current)},[]),h=P.useCallback(()=>f.current,[]),S=P.useCallback(()=>d.current,[]);return{touchedState:o,dirtyState:c,touchedRef:d,dirtyRef:f,setTouched:m,setDirty:v,resetDirty:w,resetTouched:g,isTouched:T,setFieldTouched:b,setFieldDirty:E,setTouchedState:a,setDirtyState:l,clearFieldDirty:x,isDirty:p,getDirty:h,getTouched:S,setCalculatedFieldDirty:R}}function m9({initialValues:e,onValuesChange:t,mode:r}){const n=P.useRef(!1),[o,a]=P.useState(e||{}),c=P.useRef(o),l=P.useRef(o),d=P.useCallback(({values:E,subscribers:R,updateState:T=!0,mergeWithPreviousValues:x=!0})=>{const p=c.current,h=E instanceof Function?E(c.current):E,S=x?{...p,...h}:h;c.current=S,T&&a(S),t==null||t(S,p),R==null||R.filter(Boolean).forEach(C=>C({updatedValues:S,previousValues:p}))},[t]),f=P.useCallback(E=>{var x;const R=Qt(E.path,c.current),T=E.value instanceof Function?E.value(R):E.value;if(R!==T){const p=c.current,h=Wc(E.path,T,c.current);d({values:h,updateState:E.updateState}),(x=E.subscribers)==null||x.filter(Boolean).forEach(S=>S({path:E.path,updatedValues:h,previousValues:p}))}},[d]),m=P.useCallback(E=>{l.current=E},[]),v=P.useCallback((E,R)=>{n.current||(n.current=!0,d({values:E,updateState:r==="controlled"}),m(E),R())},[d]),g=P.useCallback(()=>{d({values:l.current,updateState:!0,mergeWithPreviousValues:!1})},[d]),w=P.useCallback(()=>c.current,[]),b=P.useCallback(()=>l.current,[]);return{initialized:n,stateValues:o,refValues:c,valuesSnapshot:l,setValues:d,setFieldValue:f,resetValues:g,setValuesSnapshot:m,initialize:v,getValues:w,getValuesSnapshot:b}}function g9({$status:e}){const t=P.useRef({}),r=P.useCallback((o,a)=>{P.useEffect(()=>(t.current[o]=t.current[o]||[],t.current[o].push(a),()=>{t.current[o]=t.current[o].filter(c=>c!==a)}),[a])},[]),n=P.useCallback(o=>t.current[o]?t.current[o].map(a=>c=>a({previousValue:Qt(o,c.previousValues),value:Qt(o,c.updatedValues),touched:e.isTouched(o),dirty:e.isDirty(o)})):[],[]);return{subscribers:t,watch:r,getFieldSubscribers:n}}function U_(e,t){return e?`${e}-${t.toString()}`:t.toString()}const mu=Symbol("root-rule");function V_(e){const t=hg(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function gg(e,t,r="",n={}){return typeof e!="object"||e===null?n:Object.keys(e).reduce((o,a)=>{const c=e[a],l=`${r===""?"":`${r}.`}${a}`,d=Qt(l,t);let f=!1;return typeof c=="function"&&(o[l]=c(d,t,l)),typeof c=="object"&&Array.isArray(d)&&(f=!0,d.forEach((m,v)=>gg(c,t,`${l}.${v}`,o)),mu in c&&(o[l]=c[mu](d,t,l))),typeof c=="object"&&typeof d=="object"&&d!==null&&(f||gg(c,t,l,o),mu in c&&(o[l]=c[mu](d,t,l))),o},n)}function vg(e,t){return V_(typeof e=="function"?e(t):gg(e,t))}function gu(e,t,r){if(typeof e!="string")return{hasError:!1,error:null};const n=vg(t,r),o=Object.keys(n.errors).find(a=>e.split(".").every((c,l)=>c===a.split(".")[l]));return{hasError:!!o,error:o?n.errors[o]:null}}const v9="__MANTINE_FORM_INDEX__";function H_(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${v9}`)):!1:!1}function Go({name:e,mode:t="controlled",initialValues:r,initialErrors:n={},initialDirty:o={},initialTouched:a={},clearInputErrorOnChange:c=!0,validateInputOnChange:l=!1,validateInputOnBlur:d=!1,onValuesChange:f,transformValues:m=E=>E,enhanceGetInputProps:v,validate:g,onSubmitPreventDefault:w="always",touchTrigger:b="change"}={}){const E=o9(n),R=m9({initialValues:r,onValuesChange:f,mode:t}),T=h9({initialDirty:o,initialTouched:a,$values:R,mode:t}),x=d9({$values:R,$errors:E,$status:T}),p=g9({$status:T}),[h,S]=P.useState(0),[C,D]=P.useState({}),[j,L]=P.useState(!1),N=P.useCallback(()=>{R.resetValues(),E.clearErrors(),T.resetDirty(),T.resetTouched(),t==="uncontrolled"&&S(Q=>Q+1)},[]),A=P.useCallback(Q=>{c&&E.clearErrors(),t==="uncontrolled"&&S(se=>se+1),Object.keys(p.subscribers.current).forEach(se=>{const le=Qt(se,R.refValues.current),ge=Qt(se,Q);le!==ge&&p.getFieldSubscribers(se).forEach(te=>te({previousValues:Q,updatedValues:R.refValues.current}))})},[c]),O=P.useCallback(Q=>{const se=R.refValues.current;R.initialize(Q,()=>t==="uncontrolled"&&S(le=>le+1)),A(se)},[A]),V=P.useCallback((Q,se,le)=>{const ge=H_(Q,l),te=se instanceof Function?se(Qt(Q,R.refValues.current)):se;T.setCalculatedFieldDirty(Q,te),b==="change"&&T.setFieldTouched(Q,!0),!ge&&c&&E.clearFieldError(Q),R.setFieldValue({path:Q,value:se,updateState:t==="controlled",subscribers:[...p.getFieldSubscribers(Q),ge?he=>{const _e=gu(Q,g,he.updatedValues);_e.hasError?E.setFieldError(Q,_e.error):E.clearFieldError(Q)}:null,(le==null?void 0:le.forceUpdate)!==!1&&t!=="controlled"?()=>D(he=>({...he,[Q]:(he[Q]||0)+1})):null]})},[f,g]),W=P.useCallback(Q=>{const se=R.refValues.current;R.setValues({values:Q,updateState:t==="controlled"}),A(se)},[f,A]),X=P.useCallback(()=>{const Q=vg(g,R.refValues.current);return E.setErrors(Q.errors),Q},[g]),M=P.useCallback(Q=>{const se=gu(Q,g,R.refValues.current);return se.hasError?E.setFieldError(Q,se.error):E.clearFieldError(Q),se},[g]),B=(Q,{type:se="input",withError:le=!0,withFocus:ge=!0,...te}={})=>{const _e={onChange:s9(He=>V(Q,He,{forceUpdate:!1})),"data-path":U_(e,Q)};return le&&(_e.error=E.errorsState[Q]),se==="checkbox"?_e[t==="controlled"?"checked":"defaultChecked"]=Qt(Q,R.refValues.current):_e[t==="controlled"?"value":"defaultValue"]=Qt(Q,R.refValues.current),ge&&(_e.onFocus=()=>T.setFieldTouched(Q,!0),_e.onBlur=()=>{if(H_(Q,d)){const He=gu(Q,g,R.refValues.current);He.hasError?E.setFieldError(Q,He.error):E.clearFieldError(Q)}}),Object.assign(_e,v==null?void 0:v({inputProps:_e,field:Q,options:{type:se,withError:le,withFocus:ge,...te},form:ue}))},$=(Q,se)=>le=>{w==="always"&&(le==null||le.preventDefault());const ge=X();if(ge.hasErrors)w==="validation-failed"&&(le==null||le.preventDefault()),se==null||se(ge.errors,R.refValues.current,le);else{const te=Q==null?void 0:Q(m(R.refValues.current),le);te instanceof Promise&&(L(!0),te.finally(()=>L(!1)))}},F=Q=>m(Q||R.refValues.current),H=P.useCallback(Q=>{Q.preventDefault(),N()},[]),U=P.useCallback(Q=>Q?!gu(Q,g,R.refValues.current).hasError:!vg(g,R.refValues.current).hasErrors,[g]),G=Q=>`${h}-${Q}-${C[Q]||0}`,ne=P.useCallback(Q=>document.querySelector(`[data-path="${U_(e,Q)}"]`),[]),ue={watch:p.watch,initialized:R.initialized.current,values:R.stateValues,getValues:R.getValues,setInitialValues:R.setValuesSnapshot,initialize:O,setValues:W,setFieldValue:V,submitting:j,setSubmitting:L,errors:E.errorsState,setErrors:E.setErrors,setFieldError:E.setFieldError,clearFieldError:E.clearFieldError,clearErrors:E.clearErrors,resetDirty:T.resetDirty,setTouched:T.setTouched,setDirty:T.setDirty,isTouched:T.isTouched,resetTouched:T.resetTouched,isDirty:T.isDirty,getTouched:T.getTouched,getDirty:T.getDirty,reorderListItem:x.reorderListItem,insertListItem:x.insertListItem,removeListItem:x.removeListItem,replaceListItem:x.replaceListItem,reset:N,validate:X,validateField:M,getInputProps:B,onSubmit:$,onReset:H,isValid:U,getTransformedValues:F,key:G,getInputNode:ne};return n9(e,ue),ue}function y9(e,t){const r=t||!0;return n=>typeof n!="string"?r:e.test(n)?null:r}function w9(e){return y9(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,e)}function W_(e,t){if(typeof e=="number")return t.length===e;const{max:r,min:n}=e;let o=!0;return typeof r=="number"&&t.length>r&&(o=!1),t.length<n&&(o=!1),o}function S9(e,t){const r=t||!0;return n=>typeof n=="string"?W_(e,n.trim())?null:r:typeof n=="object"&&n!==null&&"length"in n&&W_(e,n)?null:r}var Uo=(e=>(e.NOTIFIABLE="notifiable",e.FRIENDSHIP="friendship",e.NONFRIEND="nonfriend",e))(Uo||{});const b9=async e=>{try{const t=await fetch(`${Ve}/api/auth/registration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error registering user:",t),t}},_9=async e=>{try{const t=await fetch(`${Ve}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error login user:",t),t}},x9=async e=>{try{const t=await fetch(`${Ve}/api/auth/profile/get`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw{message:r.message||"Unknown error",status:t.status};return r}catch(t){throw console.error("Error get profile user:",t),t}},C9=async e=>{try{const t=await fetch(`${Ve}/api/auth/logout`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.message||`Error: ${t.status}`)}}catch(t){throw console.error("Error logout user:",t),t}},R9=async e=>{try{const t=await fetch(`${Ve}/api/auth/refresh`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error refresh tokens:",t),t}},E9=async(e,t)=>{try{const r=await fetch(`${Ve}/api/auth/settings/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error change settings:",r),r}},T9=async(e,t)=>{try{const r=await fetch(`${Ve}/api/auth/profile/change`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw{message:n.message||"Unknown error",status:r.status};return n}catch(r){throw console.error("Error change user profile:",r),r}},k9=async(e,t)=>{try{const r=await fetch(`${Ve}/api/friendship/application/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({userTag:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error create application:",r),r}},P9=async e=>{try{const t=await fetch(`${Ve}/api/friendship/application/list/from`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get applications from:",t),t}},D9=async e=>{try{const t=await fetch(`${Ve}/api/friendship/application/list/to`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get applications from:",t),t}},j9=async(e,t)=>{try{const r=await fetch(`${Ve}/api/friendship/application/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({applicationId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete application:",r),r}},I9=async(e,t)=>{try{const r=await fetch(`${Ve}/api/friendship/application/decline`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({applicationId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error decline application:",r),r}},M9=async(e,t)=>{try{const r=await fetch(`${Ve}/api/friendship/application/approve`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({applicationId:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error approve application:",r),r}},N9=async(e,t)=>{try{const r=await fetch(`${Ve}/api/friendship/delete?UserId=${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error delete friendship:",r),r}},L9=async e=>{try{const t=await fetch(`${Ve}/api/friendship/list`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||`Error: ${t.status}`);return r}catch(t){throw console.error("Error get friendship list:",t),t}},O9=e=>e instanceof Error?e.message:String(e),Uu=$e("userSlice/registerUser",async(e,{rejectWithValue:t})=>{try{return await b9(e)}catch(r){return t(O9(r))}}),Vu=$e("userSlice/loginUser",async(e,{rejectWithValue:t})=>{try{return await _9(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Hu=$e("userSlice/getUserProfile",async({accessToken:e},{rejectWithValue:t,dispatch:r,getState:n})=>{try{const o=await x9(e);return console.log(o),o}catch(o){if(console.log(o),o.status===401){const a=n(),{refreshToken:c}=a.userStore;c&&await r(qu({refreshToken:c})).unwrap()}return t(o instanceof Error?o.message:" ")}}),Wu=$e("userSlice/logoutUser",async({accessToken:e},{rejectWithValue:t})=>{try{await C9(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),qu=$e("userSlice/refreshTokens",async({refreshToken:e},{rejectWithValue:t})=>{try{return await R9(e)}catch(r){return t(r instanceof Error?r.message:"   ")}}),Gu=$e("userSlice/createApplication",async({accessToken:e,userTag:t},{rejectWithValue:r})=>{try{await k9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Ku=$e("userSlice/getApplicationsFrom",async({accessToken:e},{rejectWithValue:t})=>{try{return await P9(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Xu=$e("userSlice/getApplicationsTo",async({accessToken:e},{rejectWithValue:t})=>{try{return await D9(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),Yu=$e("userSlice/approveApplication",async({accessToken:e,applicationId:t},{rejectWithValue:r})=>{try{await M9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Qu=$e("userSlice/declineApplication",async({accessToken:e,applicationId:t},{rejectWithValue:r})=>{try{await I9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Ju=$e("userSlice/deleteApplication",async({accessToken:e,applicationId:t},{rejectWithValue:r})=>{try{await j9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Zu=$e("userSlice/getFriendshipList",async({accessToken:e},{rejectWithValue:t})=>{try{return await L9(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),ed=$e("userSlice/deleteFriendship",async({accessToken:e,userId:t},{rejectWithValue:r})=>{try{await N9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Wi=$e("userSlice/changeSettings",async({accessToken:e,type:t},{rejectWithValue:r})=>{try{await E9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),td=$e("userSlice/changeUserProfile",async({accessToken:e,newProfile:t},{rejectWithValue:r})=>{try{return await T9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),Tm=e=>{try{return localStorage.getItem(e)||""}catch(t){return console.error("Could not load token",t),""}},A9={user:{id:"",name:"",tag:"",mail:"",accontCreateDate:"",notifiable:!1,friendshipApplication:!1,nonFriendMessage:!1,icon:null},roomName:"11",accessToken:Tm("accessToken"),refreshToken:Tm("refreshToken"),isLoggedIn:!!Tm("accessToken"),applicationFrom:[],applicationTo:[],friendshipList:[],error:"",isLoading:!1},$9=Hc({name:"user",initialState:A9,reducers:{},extraReducers:e=>{e.addCase(Uu.pending,t=>{t.error=""}).addCase(Uu.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(Uu.rejected,(t,r)=>{t.error=r.payload}).addCase(Vu.pending,t=>{t.error=""}).addCase(Vu.fulfilled,(t,r)=>{t.error="",t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken),t.isLoggedIn=!0}).addCase(Vu.rejected,(t,r)=>{t.error=r.payload}).addCase(Hu.pending,t=>{t.error=""}).addCase(Hu.fulfilled,(t,r)=>{t.error="",t.user=r.payload}).addCase(Hu.rejected,(t,r)=>{t.error=r.payload}).addCase(Wu.pending,t=>{t.error=""}).addCase(Wu.fulfilled,t=>{t.error="",t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(Wu.rejected,(t,r)=>{t.error=r.payload,t.accessToken="",t.refreshToken="",localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),t.isLoggedIn=!1}).addCase(qu.pending,t=>{t.error="",t.accessToken="",t.refreshToken="",t.isLoading=!0}).addCase(qu.fulfilled,(t,r)=>{t.error="",t.isLoading=!1,t.accessToken=r.payload.accessToken,t.refreshToken=r.payload.refreshToken,localStorage.setItem("accessToken",r.payload.accessToken),localStorage.setItem("refreshToken",r.payload.refreshToken)}).addCase(qu.rejected,(t,r)=>{t.error=r.payload,t.isLoading=!1}).addCase(Gu.pending,t=>{t.error=""}).addCase(Gu.fulfilled,t=>{t.error=""}).addCase(Gu.rejected,(t,r)=>{t.error=r.payload}).addCase(Ku.fulfilled,(t,r)=>{t.applicationFrom=r.payload.applications,t.error=""}).addCase(Xu.fulfilled,(t,r)=>{t.applicationTo=r.payload.applications,t.error=""}).addCase(Ju.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationFrom=t.applicationFrom.filter(o=>o.id!==n),t.error=""}).addCase(Qu.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationTo=t.applicationTo.filter(o=>o.id!==n),t.error=""}).addCase(Yu.fulfilled,(t,{meta:r})=>{const n=r.arg.applicationId;t.applicationTo=t.applicationTo.filter(o=>o.id!==n),t.error=""}).addCase(Zu.fulfilled,(t,r)=>{t.friendshipList=r.payload.users,t.error=""}).addCase(ed.fulfilled,(t,{meta:r})=>{const n=r.arg.userId;t.friendshipList=t.friendshipList.filter(o=>o.userId!==n),t.error=""}).addCase(Wi.fulfilled,(t,{meta:r})=>{const{type:n}=r.arg;switch(n){case Uo.FRIENDSHIP:t.user.friendshipApplication=!t.user.friendshipApplication;break;case Uo.NONFRIEND:t.user.nonFriendMessage=!t.user.nonFriendMessage;break;case Uo.NOTIFIABLE:t.user.notifiable=!t.user.notifiable;break}}).addCase(td.fulfilled,(t,r)=>{t.error="",t.user=r.payload}).addMatcher(zr(Ku.pending,Xu.pending,Yu.pending,Qu.pending,Ju.pending,Zu.pending,ed.pending,Wi.pending,td.pending),t=>{t.error=""}).addMatcher(zr(Ku.rejected,Xu.rejected,Yu.rejected,Qu.rejected,Ju.rejected,Zu.rejected,ed.rejected,Wi.rejected,td.rejected),(t,r)=>{t.error=r.payload})}}),F9=$9.reducer,z9=()=>{const{accessToken:e}=ve(a=>a.userStore),t=st(),r=fo(),n=Go({initialValues:{mail:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"  email",password:a=>a.trim().length>5?null:"  (    6 "}}),o=async a=>{(await t(Vu(a))).meta.requestStatus==="fulfilled"&&r("/main")};return P.useEffect(()=>{e&&r("/main")},[e,r]),y.jsx(zn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:y.jsxs(ss,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[y.jsx(Oe,{fw:500,mb:"md",children:"   "}),y.jsx("form",{onSubmit:n.onSubmit(o),children:y.jsxs(Re,{gap:"md",children:[y.jsx(Lt,{label:"Email",placeholder:" email",...n.getInputProps("mail"),required:!0}),y.jsx(Sf,{label:"",placeholder:" ",...n.getInputProps("password"),required:!0}),y.jsx(Le,{justify:"center",mt:"md",children:y.jsx(Ie,{type:"submit",children:""})})]})})]})})},B9=()=>y.jsxs(zn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:[y.jsx(Br,{order:3,children:"   Hitscord!"}),y.jsxs(Le,{gap:"20px",children:[y.jsx(_0,{to:"/login",children:y.jsx(Ie,{variant:"filled",radius:"md",children:""})}),y.jsx(_0,{to:"/register",children:y.jsx(Ie,{variant:"filled",radius:"md",children:""})})]})]});function U9(e){const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear(),a=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${r}.${n}.${o} ${a}:${c}`}const q_=e=>({serverId:e.ServerId,channelId:e.ChannelId,id:e.Id,text:e.Text,authorId:e.AuthorId,createdAt:e.CreatedAt,modifiedAt:e.ModifiedAt||null,nestedChannelId:e.NestedChannelId||null,replyToMessage:e.ReplyToMessage||null}),G_=e=>({chatId:e.ChatId,id:e.Id,text:e.Text,authorId:e.AuthorId,createdAt:e.CreatedAt,modifiedAt:e.ModifiedAt||null,replyToMessage:e.ReplyToMessage||null,files:e.Files||null}),V9=e=>({userId:e.UserId,userName:e.UserName,userTag:e.UserId,roleName:e.RoleName,icon:e.Icon,mail:e.Mail,notifiable:e.Notifiable,friendshipApplication:e.FriendshipApplication,nonFriendMessage:e.NonFriendMessage}),iy=e=>e.map(t=>{const r=t.users.reduce((n,o)=>(n[o.socketId]||(n[o.socketId]={userName:o.userName,userId:o.userId,producerIds:[]}),n[o.socketId].producerIds.push(o.producerId),n),{});return{roomName:t.roomName,users:r}}),H9={isUserStreamView:!1,isOpenHome:!0},XR=Hc({name:"app",initialState:H9,reducers:{toggleUserStreamView(e){e.isUserStreamView=!e.isUserStreamView},setUserStreamView(e,t){e.isUserStreamView=t.payload},setOpenHome(e,t){e.isOpenHome=t.payload}}}),{toggleUserStreamView:YR,setUserStreamView:oo,setOpenHome:pa}=XR.actions,W9=XR.reducer,q9=async(e,t)=>{try{const r=await fetch(`${Ve}/api/chat/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({userTag:t})}),n=await r.json();if(!r.ok)throw{message:n.message||"Unknown error",status:r.status};return n}catch(r){throw console.error("Error create chat:",r),r}},G9=async(e,t,r)=>{try{const n=await fetch(`${Ve}/api/chat/name`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({chatId:t,name:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error change chat name:",n),n}},K9=async e=>{try{const t=await fetch(`${Ve}/api/chat/list`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw{message:r.message||"Unknown error",status:t.status};return r}catch(t){throw console.error("Error get chats:",t),t}},X9=async(e,t)=>{try{const r=await fetch(`${Ve}/api/chat/info?id=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw{message:n.message||"Unknown error",status:r.status};return n}catch(r){throw console.error("Error get chat info:",r),r}},QR=async(e,t,r,n)=>{try{const o=await fetch(`${Ve}/api/chat/messages?chatId=${t}&number=${r}&fromStart=${n}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),a=await o.json();if(!o.ok)throw{message:a.message||"Unknown error",status:o.status};return a}catch(o){throw console.error("Error get chat messages:",o),o}},Y9=async(e,t,r)=>{try{const n=await fetch(`${Ve}/api/chat/add`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({chatId:t,userTag:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error add user in chat:",n),n}},Q9=async(e,t)=>{try{const r=await fetch(`${Ve}/api/chat/goout`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error goout from chat:",r),r}},rd=$e("chatsSlice/createChat",async({accessToken:e,userTag:t},{rejectWithValue:r})=>{try{return await q9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),nd=$e("chatsSlice/changeChatName",async({accessToken:e,chatId:t,name:r},{rejectWithValue:n})=>{try{await G9(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),sd=$e("chatsSlice/getChats",async({accessToken:e},{rejectWithValue:t})=>{try{return await K9(e)}catch(r){return t(r instanceof Error?r.message:" ")}}),od=$e("chatsSlice/getChatInfo",async({accessToken:e,chatId:t},{rejectWithValue:r})=>{try{return await X9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),id=$e("chatsSlice/getChatMessages",async({accessToken:e,chatId:t,number:r,fromStart:n},{rejectWithValue:o})=>{try{return await QR(e,t,r,n)}catch(a){return o(a instanceof Error?a.message:" ")}}),ad=$e("chatsSlice/getMoreChatMessages",async({accessToken:e,chatId:t,number:r,fromStart:n},{rejectWithValue:o})=>{try{return await QR(e,t,r,n)}catch(a){return o(a instanceof Error?a.message:" ")}}),cd=$e("chatsSlice/addUserInChat",async({accessToken:e,chatId:t,userTag:r},{rejectWithValue:n})=>{try{await Y9(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),ld=$e("chatsSlice/goOutFromChat",async({accessToken:e,id:t},{rejectWithValue:r})=>{try{await Q9(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),J9={chatsList:[],chatsLoading:tt.IDLE,error:"",chat:{chatId:"",chatName:"",users:[]},activeChat:null,chatLoading:tt.IDLE,messages:[],messagesStatus:tt.IDLE,messageIsLoading:tt.IDLE,numberOfStarterMessage:0,remainingMessagesCount:tn},JR=Hc({name:"chats",initialState:J9,reducers:{setActiveChat:(e,t)=>{e.activeChat=t.payload,e.error=""},addChatMessage:(e,t)=>{const{chatId:r}=t.payload;r===e.activeChat&&e.messages.push(t.payload)},deleteChatMessageWS:(e,t)=>{e.activeChat===t.payload.chatId&&(e.messages=e.messages.filter(r=>r.id!==t.payload.messageId))},editChatMessageWS:(e,t)=>{if(e.activeChat===t.payload.chatId){const r=e.messages.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.messages[r]=t.payload)}}},extraReducers:e=>{e.addCase(rd.pending,t=>{t.error=""}).addCase(rd.fulfilled,(t,r)=>{t.chatsList=[...t.chatsList,r.payload],t.error=""}).addCase(rd.rejected,(t,r)=>{t.error=r.payload}).addCase(nd.pending,t=>{t.error=""}).addCase(nd.fulfilled,(t,{meta:r})=>{const{chatId:n,name:o}=r.arg;t.chatsList=t.chatsList.map(a=>a.chatId===n?{...a,name:o}:a),t.chat.chatId===n&&(t.chat.chatName=o),t.error=""}).addCase(nd.rejected,(t,r)=>{t.error=r.payload}).addCase(sd.pending,t=>{t.error="",t.chatsList=[],t.chatsLoading=tt.PENDING}).addCase(sd.fulfilled,(t,r)=>{t.chatsList=r.payload.chatsList,t.chatsLoading=tt.FULFILLED,t.error=""}).addCase(sd.rejected,(t,r)=>{t.chatsLoading=tt.REJECTED,t.error=r.payload}).addCase(od.pending,t=>{t.error="",t.chatLoading=tt.PENDING}).addCase(od.fulfilled,(t,r)=>{t.chat=r.payload,t.chatLoading=tt.FULFILLED,t.error=""}).addCase(od.rejected,(t,r)=>{t.chatLoading=tt.REJECTED,t.error=r.payload}).addCase(id.pending,t=>{t.messagesStatus=tt.PENDING,t.error=""}).addCase(id.fulfilled,(t,r)=>{t.messages=r.payload.messages,t.messagesStatus=tt.FULFILLED,t.remainingMessagesCount=r.payload.remainingMessagesCount,r.payload.remainingMessagesCount>0&&(t.numberOfStarterMessage=tn),t.error=""}).addCase(id.rejected,(t,r)=>{t.messagesStatus=tt.REJECTED,t.error=r.payload}).addCase(ad.pending,t=>{t.messageIsLoading=tt.PENDING,t.error=""}).addCase(ad.fulfilled,(t,r)=>{t.messages=[...r.payload.messages,...t.messages],t.messageIsLoading=tt.FULFILLED,t.remainingMessagesCount=r.payload.remainingMessagesCount,r.payload.remainingMessagesCount>0&&(t.numberOfStarterMessage=t.numberOfStarterMessage+tn),t.error=""}).addCase(ad.rejected,(t,r)=>{t.messageIsLoading=tt.REJECTED,t.error=r.payload}).addCase(ld.fulfilled,(t,{meta:r})=>{const n=r.arg.id;t.chatsList=t.chatsList.filter(o=>o.chatId!==n),t.error=""}).addMatcher(zr(cd.pending,ld.pending),t=>{t.error=""}).addMatcher(zr(cd.fulfilled),t=>{t.error=""}).addMatcher(zr(cd.rejected,ld.rejected),(t,r)=>{t.error=r.payload})}}),{setActiveChat:qi,addChatMessage:Z9,deleteChatMessageWS:e8,editChatMessageWS:t8}=JR.actions,r8=JR.reducer,n8=({accessToken:e,dispatch:t,serverId:r,showMessage:n})=>{const o=P.useRef(null);P.useEffect(()=>{if(e){const v=new WebSocket(`wss://hitscord-backend.online/message/ws?accessToken=${e}`);return v.onmessage=g=>{const w=JSON.parse(g.data);if(console.log(w),w.MessageType==="New message"){const b=q_(w.Payload);b.id&&b.text&&t($6(b))}if(w.MessageType==="New message in chat"){const b=G_(w.Payload);b.id&&b.text&&t(Z9(b))}if(w.MessageType==="Deleted message"&&t(F6({channelId:w.Payload.ChannelId,messageId:w.Payload.MessageId})),w.MessageType==="Deleted message in chat"&&t(e8({chatId:w.Payload.ChatId,messageId:w.Payload.MessageId})),w.MessageType==="Updated message"){const b=q_(w.Payload);t(z6(b))}if(w.MessageType==="Updated message in chat"){const b=G_(w.Payload);t(t8(b))}w.MessageType==="User notified"&&n&&n(w.Payload.Text)},v.onerror=g=>{console.error("WebSocket error:",g)},o.current=v,()=>{console.log("Closing WebSocket connection"),v.close()}}},[e,r,t]);const a=P.useCallback(v=>{var g;if(o.current&&o.current.readyState===WebSocket.OPEN){const w={Type:"New message",Content:v};o.current.send(JSON.stringify(w))}else console.error("WebSocket is not open. Ready state:",(g=o.current)==null?void 0:g.readyState)},[]),c=P.useCallback(v=>{var g;if(o.current&&o.current.readyState===WebSocket.OPEN){const w={Type:"New message chat",Content:v};o.current.send(JSON.stringify(w))}else console.error("WebSocket is not open. Ready state:",(g=o.current)==null?void 0:g.readyState)},[o]),l=P.useCallback(v=>{var g;if(o.current&&o.current.readyState===WebSocket.OPEN){const w={Type:"Update message",Content:v};o.current.send(JSON.stringify(w))}else console.error("WebSocket is not open. Ready state:",(g=o.current)==null?void 0:g.readyState)},[]),d=P.useCallback(v=>{var g;if(o.current&&o.current.readyState===WebSocket.OPEN){const w={Type:"Update message chat",Content:v};o.current.send(JSON.stringify(w))}else console.error("WebSocket is not open. Ready state:",(g=o.current)==null?void 0:g.readyState)},[o]),f=P.useCallback(v=>{var g;if(o.current&&o.current.readyState===WebSocket.OPEN){const w={Type:"Delete message",Content:v};o.current.send(JSON.stringify(w))}else console.error("WebSocket is not open. Ready state:",(g=o.current)==null?void 0:g.readyState)},[]),m=P.useCallback(v=>{var g;if(o.current&&o.current.readyState===WebSocket.OPEN){const w={Type:"Delete message chat",Content:v};o.current.send(JSON.stringify(w))}else console.error("WebSocket is not open. Ready state:",(g=o.current)==null?void 0:g.readyState)},[o]);return{sendMessage:a,editMessage:l,deleteMessage:f,sendChatMessage:c,editChatMessage:d,deleteChatMessage:m}},s8=({accessToken:e,dispatch:t,serverId:r})=>{const n=Uc(),o=P.useRef(null),{currentServerId:a,currentVoiceChannelId:c,serverData:l}=ve(d=>d.testServerStore);P.useEffect(()=>{if(e){const d=new WebSocket(`wss://hitscord-backend.online/api/ws?accessToken=${e}`);return d.onmessage=f=>{const m=JSON.parse(f.data);if(console.log(m),m.MessageType==="New user on server"){const v=V9(m.Payload),{ServerId:g}=m.Payload;r===g&&t(B6(v))}if(m.MessageType==="User unsubscribe"){const{UserId:v,ServerId:g}=m.Payload;r===g&&t(U6({UserId:v,ServerId:g}))}if(m.MessageType==="Role changed"){const{ServerId:v}=m.Payload;e&&r&&r===v&&t(An({accessToken:e,serverId:r}))}if((m.MessageType==="New channel"||m.MessageType==="Channel deleted")&&e&&r&&(m.Payload.ChannelType===1&&m.Payload.ChannelId===c&&n(e,c),r===m.Payload.ServerId&&t(An({accessToken:e,serverId:r}))),m.MessageType==="New server name"&&a===m.Payload.ServerId&&t(V6({name:m.Payload.Name})),m.MessageType==="New users name on server"&&a===m.Payload.ServerId&&t(H6({userId:m.Payload.UserId,name:m.Payload.Name})),m.MessageType==="User unsubscribe"&&a===m.Payload.ServerId&&t(W6({userId:m.Payload.UserId})),m.MessageType==="You removed from server"&&(m.Payload.IsNeedRemoveFromVC&&n(e,c),t(pa(!0)),t(q6({serverId:m.Payload.ServerId}))),m.MessageType==="Change channel name"&&m.Payload.ServerId===a&&t(G6({channelId:m.Payload.ChannelId,newName:m.Payload.Name})),m.MessageType==="New user in voice channel"&&m.Payload.ServerId===a&&t(K6({channelId:m.Payload.ChannelId,userId:m.Payload.UserId})),m.MessageType==="User remove from voice channel"&&m.Payload.ServerId===a&&t(X6({channelId:m.Payload.ChannelId,userId:m.Payload.UserId})),m.MessageType==="User change his mute status"&&m.Payload.ServerId===a&&t(Y6({channelId:m.Payload.ChannelId,userId:m.Payload.UserId,isMuted:m.Payload.MuteStatus===1})),m.MessageType==="Text channel settings edited"){const{ServerId:v,RoleId:g}=m.Payload;l.userRoleId&&l.userRoleId===g&&r&&r===v&&t(An({accessToken:e,serverId:r}))}if(m.MessageType==="Voice channel settings edited"){const{ServerId:v,RoleId:g}=m.Payload;l.userRoleId&&l.userRoleId===g&&r&&r===v&&t(An({accessToken:e,serverId:r}))}},d.onerror=f=>{console.error("WebSocket error:",f)},o.current=d,()=>{console.log("Closing WebSocket connection"),d.close()}}},[e,r,t])},K_=e=>(e=e.replace(/@([a-zA-Z]+#\d+)/g,"//{usertag:$1}//"),e=e.replace(/@([a-zA-Z0-9_-]+)/g,(t,r)=>/\d/.test(r)?t:`//{roletag:${r}}//`),e),ZR=({isOwnMessage:e,content:t,time:r,messageId:n,modifiedAt:o,authorId:a,editMessage:c,deleteMessage:l})=>{var h;const{accessToken:d}=ve(S=>S.userStore),m=(h=ve(S=>S.testServerStore.serverData.users).find(S=>S.userId===a))==null?void 0:h.userName,[v,g]=P.useState(!1),[w,b]=P.useState(!1),[E,R]=P.useState(t),T=()=>{E.trim()&&(c({Token:d,MessageId:n,Text:E.trim()}),b(!1))},x=()=>{l({Token:d,MessageId:n})},p=S=>(S=S.replace(/\/\/\{usertag:([a-zA-Z--0-9_#]+)\}\/\//g,'<span style="background-color: rgba(74, 144, 226, 0.3); color: #ffffff; font-weight: 500;">@$1</span>'),S=S.replace(/\/\/\{roletag:([a-zA-Z--0-9_-]+)\}\/\//g,'<span style="background-color:  rgba(74, 144, 226, 0.3); color: #ffffff; font-weight: 500;">@$1</span>'),S);return y.jsxs(zn,{direction:"column",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[y.jsxs(Le,{align:"flex-start",style:{flexDirection:e?"row-reverse":"row"},gap:"xs",children:[y.jsx(Dr,{size:"md",color:"blue",children:m?m[0]:"?"}),y.jsxs(oe,{style:{position:"relative",backgroundColor:e?"#4A90E2":"#36393F",color:e?"white":"gray",padding:"8px 12px",borderRadius:"10px",maxWidth:"75%",display:"flex",flexDirection:"column",width:w?"100%":"auto"},children:[y.jsx(Oe,{fw:500,style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:m}),w?y.jsx($c,{value:E,onChange:S=>R(S.currentTarget.value),autosize:!0,minRows:1,style:{marginBottom:"4px",width:"100%",flexGrow:1,boxSizing:"border-box"}}):y.jsx(Oe,{style:{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:p(t)}}),y.jsx(Le,{justify:"space-between",children:y.jsxs(Oe,{style:{marginTop:"4px",fontSize:"12px",color:e?"#D1D5DB":"#9CA3AF",alignSelf:"flex-start"},children:[U9(r),o&&y.jsx("span",{style:{marginLeft:"8px",fontStyle:"italic"},children:""})]})})]})]}),e&&y.jsx(Le,{justify:"flex-end",gap:"xs",p:4,style:{opacity:v||w?1:0,transition:"opacity 0.3s ease"},mr:44,children:w?y.jsxs(y.Fragment,{children:[y.jsx(ut,{variant:"subtle",onClick:T,children:y.jsx(Zv,{size:12})}),y.jsx(ut,{variant:"subtle",onClick:()=>b(!1),children:y.jsx(Sc,{size:12})})]}):y.jsxs(y.Fragment,{children:[y.jsx(ut,{variant:"subtle",onClick:()=>b(!0),children:y.jsx(z$,{size:12})}),y.jsx(ut,{variant:"subtle",onClick:x,children:y.jsx(ty,{size:12})})]})})]})},o8=({openSidebar:e,openDetailsPanel:t,sendMessage:r,editMessage:n,deleteMessage:o})=>{const a=st(),c=P.useRef(null),{user:l,accessToken:d}=ve(te=>te.userStore),{currentServerId:f,currentChannelId:m,messages:v,hasNewMessage:g,isLoading:w,messagesStatus:b,serverData:E,remainingMessagesCount:R,numberOfStarterMessage:T,messageIsLoading:x}=ve(te=>te.testServerStore),p=E.users,h=E.roles,[S,C]=P.useState(""),[D,j]=P.useState(!0),[L,N]=P.useState(!1),[A,O]=P.useState(!1),[V,W]=P.useState([]),[X,M]=P.useState(0),[B,$]=P.useState(null),F=P.useRef(null),H=P.useRef(null),U=P.useRef(null),G=(te,he)=>{const _e=te.slice(0,he),He=_e.match(/@([\w#-]*)$/);if(He){const qe=He[1];return{type:"user",id:"",display:"",tag:"",startIndex:_e.lastIndexOf("@"),searchText:qe}}return null},ne=te=>{const he=te.searchText.toLowerCase(),_e=p.filter(qe=>`${qe.userName}#${qe.userTag}`.toLowerCase().includes(he)).slice(0,5).map(qe=>({type:"user",id:qe.userId,display:qe.userName,tag:`${qe.userTag}`,startIndex:te.startIndex,searchText:te.searchText})),He=h.filter(qe=>qe.name.toLowerCase().includes(he)||qe.tag.toLowerCase().includes(he)).slice(0,5).map(qe=>({type:"role",id:qe.id,display:qe.name,tag:qe.tag,startIndex:te.startIndex,searchText:te.searchText}));return[..._e,...He]},ue=()=>{S.trim()&&f&&m&&(console.log(K_(S.trim())),r({Token:d,ChannelId:m,Text:K_(S.trim()),NestedChannel:!1}),C(""),O(!1),$(null))},Q=te=>{const he=te.target.value,_e=te.target.selectionStart||0;C(he);const He=G(he,_e);if(He){const qe=ne(He);W(qe),$(He),O(qe.length>0),M(0)}else O(!1),$(null)},se=te=>{if(!B||!F.current)return;console.log("insertMention",te);const he=S.slice(0,B.startIndex),_e=S.slice(F.current.selectionStart||0),He=te.type==="user"?`@${te.tag} `:`@${te.tag} `,qe=he+He+_e;C(qe),O(!1),$(null),setTimeout(()=>{const Qe=he.length+He.length;F.current.setSelectionRange(Qe,Qe),F.current.focus()},0)},le=te=>{if(!A){te.key==="Enter"&&!te.shiftKey&&(te.preventDefault(),ue());return}switch(te.key){case"ArrowDown":te.preventDefault(),M(he=>he<V.length-1?he+1:0);break;case"ArrowUp":te.preventDefault(),M(he=>he>0?he-1:V.length-1);break;case"Tab":case"Enter":te.preventDefault(),V[X]&&se(V[X]);break;case"Escape":te.preventDefault(),O(!1),$(null);break}},ge=()=>{if(c.current){const{scrollTop:te,scrollHeight:he,clientHeight:_e}=c.current,He=te+_e>=he-1;j(He),He&&N(!1)}};return P.useEffect(()=>{D?c.current&&(c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),a(A_())):N(!0)},[v,D]),P.useEffect(()=>{b===tt.FULFILLED&&c.current&&c.current.scrollTo({top:c.current.scrollHeight,behavior:"instant"})},[b]),P.useEffect(()=>{if(H.current&&A){const te=H.current.children[X];te&&te.scrollIntoView({block:"nearest"})}},[X,A]),P.useEffect(()=>{if(!U.current)return;const te=new IntersectionObserver(([he])=>{he.isIntersecting&&(console.log("moreMessages"),R>0&&a(Du({accessToken:d,channelId:m,numberOfMessages:R>tn?tn:R,fromStart:T})))},{root:c.current,threshold:.1});return te.observe(U.current),()=>{te.disconnect()}},[v]),y.jsxs(oe,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[y.jsxs(Le,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[y.jsx(ut,{variant:"transparent",onClick:e,hiddenFrom:"sm",children:y.jsx(x$,{size:20})}),y.jsx(Lt,{leftSection:y.jsx(G$,{size:16}),placeholder:"..."}),y.jsx(ut,{variant:"transparent",onClick:t,hiddenFrom:"sm",children:y.jsx(MR,{size:20})})]}),y.jsx(mr,{my:"md"}),y.jsx(er,{viewportRef:c,style:{flex:1,padding:10},onScrollPositionChange:ge,children:y.jsxs(Re,{gap:"sm",children:[w&&v.length<1&&Array.from({length:5}).map((te,he)=>y.jsxs(Le,{align:"flex-start",gap:"xs",children:[y.jsx(zo,{height:40,width:40,circle:!0}),y.jsxs(oe,{style:{flex:1},children:[y.jsx(zo,{height:12,width:"60%",radius:"md"}),y.jsx(zo,{height:10,width:"40%",mt:8,radius:"md"})]})]},he)),x===tt.PENDING&&y.jsx(Ps,{}),v.map((te,he)=>y.jsx("div",{ref:he===0?U:null,children:y.jsx(ZR,{messageId:te.id,content:te.text,isOwnMessage:l.id===te.authorId,time:te.createdAt,modifiedAt:te.modifiedAt,authorId:te.authorId,editMessage:n,deleteMessage:o})},te.id))]})}),!D&&L&&y.jsx(oe,{style:{position:"absolute",bottom:60,right:320,zIndex:10},children:y.jsx(Ev,{size:14,disabled:!g,withBorder:!0,children:y.jsx(ut,{size:"lg",variant:"filled",onClick:()=>{c.current&&(c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),N(!1),a(A_()))},children:y.jsx(kR,{size:20})})})}),y.jsxs(oe,{pos:"relative",children:[A&&V.length>0&&y.jsx(Oc,{ref:H,shadow:"md",p:"xs",pos:"absolute",bottom:"100%",left:0,right:0,mb:"xs",mah:200,bg:"#43474f",style:{overflow:"auto",zIndex:1e3},children:y.jsx(Re,{gap:"xs",children:V.map((te,he)=>y.jsxs(Le,{p:"xs",style:{cursor:"pointer",borderRadius:"4px",backgroundColor:he===X?"var(--mantine-color-blue-light)":"transparent"},onClick:()=>se(te),onMouseEnter:()=>M(he),children:[y.jsx(Dr,{size:"sm",color:"blue",children:te.display.charAt(0).toUpperCase()}),y.jsxs(oe,{children:[y.jsx(Oe,{size:"sm",fw:500,children:te.display}),y.jsxs(Oe,{size:"xs",c:"dimmed",children:["@",te.tag,"  ",te.type]})]})]},te.id))})}),y.jsxs(Le,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[y.jsx(ut,{size:"xl",variant:"transparent",children:y.jsx($$,{size:20})}),y.jsx($c,{ref:F,w:"100%",placeholder:"...",value:S,onChange:Q,onKeyDown:le,autosize:!0,minRows:1,maxRows:3}),y.jsx(ut,{size:"xl",variant:"transparent",onClick:ue,children:y.jsx(DR,{size:20})})]})]})]})},i8=({socketId:e,userName:t,isStreaming:r,handleUserClick:n})=>y.jsxs(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"8px",padding:"8px",borderRadius:"8px",backgroundColor:"#1A1B1E",textAlign:"center",height:"auto",width:"100px"},children:[y.jsx(Dr,{radius:"xl",size:"sm",style:{flexShrink:0},children:t[0]}),y.jsx(Oe,{c:"white",size:"xs",children:t}),r&&y.jsx(Ie,{size:"xs",variant:"outline",onClick:()=>n(e),style:{flexShrink:0},children:y.jsx(ag,{})})]},e),a8=({socketId:e,userName:t,isStreaming:r,onOpenStream:n})=>y.jsxs(oe,{style:{padding:"16px",borderRadius:"12px",backgroundColor:"#1A1B1E",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[y.jsx(Dr,{radius:"xl",size:"lg",color:"blue",children:t[0]}),y.jsx(Oe,{c:"white",children:t}),r&&y.jsx(Ie,{size:"xs",variant:"outline",onClick:()=>n(e),children:" "})]},e),c8=({users:e,onOpenStream:t})=>{const r=st(),{currentVoiceChannelId:n}=ve(c=>c.testServerStore),a=iy(e).find(c=>c.roomName===n);return y.jsxs(er,{style:{flex:1,maxHeight:"100%"},children:[y.jsx(Le,{justify:"flex-end",children:y.jsx(ut,{variant:"transparent",onClick:()=>r(YR()),children:y.jsx(G4,{})})}),y.jsx(Av,{cols:{base:2,lg:3},spacing:"sm",children:a&&Object.entries(a.users).map(([c,{userName:l,producerIds:d}])=>{const f=d.length>1;return y.jsx(a8,{socketId:c,userName:l,isStreaming:f,onOpenStream:t},c)})})]})},l8=()=>{const{consumers:e,users:t,selectedUserId:r,setSelectedUserId:n}=ti(),o=P.useRef(null),a=P.useRef(null),{currentVoiceChannelId:c}=ve(b=>b.testServerStore),d=iy(t).find(b=>b.roomName===c),f=P.useRef(null),m=()=>{f.current&&f.current.scrollBy({left:-100,behavior:"smooth"})},v=()=>{f.current&&f.current.scrollBy({left:100,behavior:"smooth"})},g=b=>{n(b)},w=()=>{n(null),o.current&&(a.current=null,o.current.srcObject=null)};return P.useEffect(()=>{if(!Je||!d)return;const b=({producerId:E})=>{e.some(T=>{var x;return T.kind==="video"&&T.producerId===E&&((x=d.users[r])==null?void 0:x.producerIds.includes(E))})&&w()};return Je.on("producerClosed",b),()=>{Je.off("producerClosed",b)}},[Je,e,d,r]),P.useEffect(()=>{var x;if(!r||!d)return;const b=((x=d.users[r])==null?void 0:x.producerIds)??[],E=e.find(p=>p.kind==="video"&&b.includes(p.producerId)),R=e.find(p=>{var h;return p.kind==="audio"&&((h=p.appData)==null?void 0:h.source)==="screen-audio"&&b.includes(p.producerId)}),T=[];if(E!=null&&E.track&&T.push(E.track),R!=null&&R.track&&T.push(R.track),T.length>0){const p=new MediaStream(T);a.current=p,o.current&&(o.current.srcObject=p,o.current.play().catch(h=>console.error("  /:",h)))}},[r,e,d]),y.jsx(oe,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:r?y.jsxs(oe,{style:{position:"relative",flex:1},children:[y.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"calc(100% - 80px)",borderRadius:"8px"}}),y.jsxs(Ie,{variant:"filled",color:"red",onClick:w,style:{position:"absolute",top:"10px",right:"10px",zIndex:1},children:[y.jsx(Sc,{size:20})," "]}),y.jsxs(oe,{style:{position:"absolute",bottom:0,width:"100%",display:"flex",alignItems:"center"},children:[y.jsx(Ie,{variant:"subtle",color:"gray",onClick:m,style:{zIndex:1},children:y.jsx(o$,{size:20})}),y.jsx(er,{viewportRef:f,style:{width:"100%"},children:y.jsx(zn,{style:{minWidth:"100%",gap:"8px",padding:"8px"},children:d&&Object.entries(d.users).map(([b,{userName:E,producerIds:R}])=>{const T=R.length>1;return y.jsx(i8,{socketId:b,userName:E,isStreaming:T,handleUserClick:g},b)})})}),y.jsx(Ie,{variant:"subtle",color:"gray",onClick:v,style:{zIndex:1},children:y.jsx(Vi,{size:20})})]})]}):y.jsx(c8,{users:t,onOpenStream:g})})},u8=({userName:e,userTag:t,roleName:r,userId:n})=>{var w;const o=st(),{showSuccess:a}=ur(),{roles:c}=ve(b=>b.testServerStore.serverData),{applicationFrom:l}=ve(b=>b.userStore),{accessToken:d,user:f}=ve(b=>b.userStore),m=l.find(b=>b.user.userId===n),v=((w=c.find(b=>b.name===r))==null?void 0:w.color)??"green",g=async()=>{(await o(Gu({accessToken:d,userTag:t}))).meta.requestStatus==="fulfilled"&&a("   ")};return y.jsxs(Re,{gap:"xs",justify:"center",align:"center",w:"100%",children:[y.jsx(Dr,{size:"md",color:"blue",children:e[0]}),y.jsx(Oe,{c:"white",style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word",cursor:"default"},children:e}),y.jsx(On,{color:v,radius:"sm",style:{maxWidth:100,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer"},children:r}),y.jsxs(Le,{children:[y.jsx(Oe,{c:"dimmed",style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word",cursor:"default"},children:t}),y.jsx(Zx,{value:t,timeout:2e3,children:({copied:b,copy:E})=>y.jsx(ts,{label:b?"":"",withArrow:!0,position:"right",children:y.jsx(ut,{color:b?"teal":"gray",variant:"subtle",onClick:E,children:b?y.jsx(Zv,{size:16}):y.jsx(ey,{size:16})})})})]}),f.id!==n&&y.jsx(Ie,{variant:"light",radius:"md",onClick:g,disabled:!!m,children:m?" ":"  "})]})},d8=({userId:e,userName:t,userTag:r,roleName:n})=>{var d;const[o,a]=P.useState(!1),{roles:c}=ve(f=>f.testServerStore.serverData),l=((d=c.find(f=>f.name===n))==null?void 0:d.color)??"green";return y.jsxs(Jt,{opened:o,onChange:a,position:"left",radius:"md",children:[y.jsx(Jt.Target,{children:y.jsxs(zn,{align:"center",gap:"sm",style:{width:"100%",overflow:"hidden",cursor:"pointer"},onClick:()=>a(f=>!f),children:[y.jsx(Dr,{size:"md",color:"blue",children:t}),y.jsx(ts,{label:t,position:"top-start",withArrow:!0,children:y.jsx(Oe,{c:"white",style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word"},children:t})}),y.jsx(ts,{label:n,position:"top-end",withArrow:!0,children:y.jsx(On,{variant:"light",color:l,radius:"sm",style:{maxWidth:100,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer"},children:n})})]})}),y.jsx(Jt.Dropdown,{bg:"#43474f",children:y.jsx(u8,{userId:e,userName:t,userTag:r,roleName:n})})]})},f8=()=>{const{serverData:e}=ve(t=>t.testServerStore);return y.jsx(oe,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:300,h:"100%",visibleFrom:"sm",children:y.jsxs(Re,{gap:"md",h:"100%",children:[y.jsx(Oe,{c:"white",children:""}),y.jsx(mr,{color:"gray"}),y.jsx(er.Autosize,{mah:"100%",maw:"100%",children:y.jsx(Re,{gap:"xs",children:e.users.map(t=>y.jsx(d8,{userId:t.userId,userName:t.userName,userTag:t.userTag,roleName:t.roleName},t.userId))})})]})})},p8=({onClose:e,opened:t})=>{const{serverData:r}=ve(n=>n.testServerStore);return y.jsx(cn,{opened:t,onClose:e,size:"xs",position:"right",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:y.jsx(oe,{style:{padding:"10px",backgroundColor:"#1A1B1E"},h:"100%",children:y.jsxs(Re,{gap:"md",h:"100%",children:[y.jsx(Oe,{c:"white",children:""}),y.jsx(mr,{color:"gray"}),y.jsx(er.Autosize,{mah:"100%",maw:"100%",children:y.jsx(Re,{gap:"xs",children:r.users.map(n=>y.jsxs(Le,{wrap:"nowrap",children:[y.jsx(Dr,{size:"md",color:"blue",children:n.userName}),y.jsx(Oe,{c:"white",children:n.userName}),y.jsx(On,{fullWidth:!0,color:"green",radius:"sm",style:{marginLeft:"auto",maxWidth:100},children:n.roleName})]},n.userId))})})]})})})},h8=()=>{const{chat:e}=ve(t=>t.chatsStore);return y.jsx(oe,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:300,h:"100%",visibleFrom:"sm",children:y.jsxs(Re,{gap:"md",h:"100%",children:[y.jsx(Oe,{c:"white",children:""}),y.jsx(mr,{color:"gray"}),y.jsx(er.Autosize,{mah:"100%",maw:"100%",children:y.jsx(Re,{gap:"xs",children:e.users.map(t=>t.mail)})})]})})};var Vo=(e=>(e.APPLICATION_FROM="APPLICATION_FROM",e.APPLICATION_TO="APPLICATION_TO",e.FRIEND="FRIEND",e))(Vo||{});const km=({applicationId:e,type:t,userName:r,userTag:n,userId:o})=>{const a=st(),{accessToken:c}=ve(v=>v.userStore),l=()=>{e&&a(Ju({accessToken:c,applicationId:e}))},d=()=>{e&&a(Yu({accessToken:c,applicationId:e}))},f=()=>{e&&a(Qu({accessToken:c,applicationId:e}))},m=()=>{a(ed({accessToken:c,userId:o}))};return y.jsx(ss,{bg:"#2c2e33",padding:"xs",radius:"md",withBorder:!0,children:y.jsxs(Le,{justify:"space-between",children:[y.jsxs(Le,{children:[y.jsx(Dr,{size:"md",color:"blue",children:r[0]}),y.jsxs(Re,{gap:"xs",children:[y.jsx(Oe,{c:"white",children:r}),y.jsx(Oe,{c:"dimmed",children:n})]})]}),y.jsxs(Le,{children:[t===Vo.APPLICATION_TO&&y.jsxs(y.Fragment,{children:[y.jsx(Ie,{leftSection:y.jsx(Zv,{}),variant:"light",color:"green",radius:"md",onClick:d,children:""}),y.jsx(Ie,{leftSection:y.jsx(Sc,{}),variant:"light",color:"red",radius:"md",onClick:f,children:""})]}),t===Vo.APPLICATION_FROM&&y.jsx(Ie,{leftSection:y.jsx(Sc,{}),variant:"light",color:"red",radius:"md",onClick:l,children:""}),t===Vo.FRIEND&&y.jsx(Ie,{leftSection:y.jsx(Sc,{}),variant:"light",color:"red",radius:"md",onClick:m,children:"  "})]})]})})},m8=({opened:e,close:t})=>{const r=st(),{showSuccess:n}=ur(),{accessToken:o}=ve(f=>f.userStore),{activeChat:a}=ve(f=>f.chatsStore),[c,l]=P.useState(""),d=async()=>{a&&(await r(cd({accessToken:o,chatId:a,userTag:c.trim()}))).meta.requestStatus==="fulfilled"&&(n("  "),t())};return y.jsx(Rt,{opened:e,onClose:t,centered:!0,title:" ",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:y.jsxs(Re,{gap:"md",children:[y.jsx(Lt,{label:" usertag",placeholder:"usertag#000000",value:c,onChange:f=>l(f.currentTarget.value)}),y.jsx(Le,{justify:"flex-end",children:y.jsx(Ie,{onClick:d,children:""})})]})})},g8=({opened:e,close:t,currentChat:r,setCurrentChat:n})=>{const o=st(),{showSuccess:a}=ur(),{accessToken:c}=ve(m=>m.userStore),[l,d]=P.useState(""),f=async()=>{r&&(await o(nd({accessToken:c,chatId:r.chatId,name:l.trim()}))).meta.requestStatus==="fulfilled"&&(a("  "),t(),n(null))};return P.useEffect(()=>{r&&d(r.chatName)},[r]),y.jsx(Rt,{opened:e,onClose:t,centered:!0,title:" ",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:y.jsxs(Re,{gap:"md",children:[y.jsx(Lt,{label:"  ",placeholder:"",value:l,onChange:m=>d(m.currentTarget.value)}),y.jsx(Le,{justify:"flex-end",children:y.jsx(Ie,{onClick:f,children:""})})]})})},v8=({chatId:e,sendChatMessage:t,editChatMessage:r,deleteChatMessage:n})=>{const o=st(),{accessToken:a,user:c}=ve(F=>F.userStore),{messages:l,chat:d,messagesStatus:f,remainingMessagesCount:m,numberOfStarterMessage:v,messageIsLoading:g}=ve(F=>F.chatsStore),w=P.useRef(null),[b,{open:E,close:R}]=Mt(!1),[T,{open:x,close:p}]=Mt(!1),[h,S]=P.useState(null),[C,D]=P.useState(""),[j,L]=P.useState(!0),[N,A]=P.useState(!1),O=P.useRef(null),V=()=>{C.trim()&&e&&(console.log(C),t({Token:a,ChannelId:d.chatId,Text:C.trim(),NestedChannel:!1}),D(""))},W=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),V())},X=()=>{if(w.current){const{scrollTop:F,scrollHeight:H,clientHeight:U}=w.current,G=F+U>=H-1;L(G),G&&A(!1)}},M=()=>{S(d),E()},B=()=>{o(qi(null))},$=async()=>{e&&(await o(ld({accessToken:a,id:e}))).meta.requestStatus==="fulfilled"&&o(qi(null))};return P.useEffect(()=>{j?w.current&&w.current.scrollTo({top:w.current.scrollHeight,behavior:"smooth"}):A(!0)},[l,j]),P.useEffect(()=>{f===tt.FULFILLED&&w.current&&w.current.scrollTo({top:w.current.scrollHeight,behavior:"instant"})},[f]),P.useEffect(()=>{e&&o(od({accessToken:a,chatId:e}))},[e]),P.useEffect(()=>{if(!O.current)return;const F=new IntersectionObserver(([H])=>{H.isIntersecting&&m>0&&o(ad({accessToken:a,chatId:e,number:m>tn?tn:m,fromStart:v}))},{root:w.current,threshold:.1});return F.observe(O.current),()=>{F.disconnect()}},[l]),P.useEffect(()=>{e&&a&&o(id({accessToken:a,chatId:e,number:tn,fromStart:v}))},[a,e]),y.jsxs(y.Fragment,{children:[y.jsxs(oe,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:[y.jsxs(Le,{align:"center",gap:"xs",wrap:"nowrap",justify:"space-between",children:[y.jsxs(Le,{align:"center",children:[y.jsx(ut,{variant:"subtle","aria-label":"Back",onClick:B,children:y.jsx(X4,{size:20})}),y.jsxs(Re,{gap:0,children:[y.jsxs(Le,{children:[y.jsx(Br,{order:4,children:d.chatName}),y.jsx(ut,{variant:"subtle","aria-label":"Edit",onClick:M,children:y.jsx(jf,{size:20})})]}),y.jsxs(Oe,{size:"xs",c:"dimmed",children:[d.users.length," "]})]})]}),y.jsxs(Le,{children:[y.jsx(Ie,{leftSection:y.jsx(c5,{}),variant:"subtle",onClick:x,children:" "}),y.jsx(Ie,{leftSection:y.jsx(PR,{}),variant:"subtle",color:"red",onClick:$,children:" "})]})]}),y.jsx(mr,{my:"md"}),y.jsx(er,{viewportRef:w,style:{flex:1,padding:10},onScrollPositionChange:X,children:y.jsxs(Re,{gap:"sm",children:[g===tt.PENDING&&y.jsx(Ps,{}),l.map((F,H)=>y.jsx("div",{ref:H===0?O:null,children:y.jsx(ZR,{messageId:F.id,content:F.text,isOwnMessage:c.id===F.authorId,time:F.createdAt,modifiedAt:F.modifiedAt,authorId:F.authorId,editMessage:r,deleteMessage:n})},F.id))]})}),!j&&N&&y.jsx(oe,{style:{position:"absolute",bottom:60,right:320,zIndex:10},children:y.jsx(ut,{size:"lg",variant:"filled",onClick:()=>{w.current&&(w.current.scrollTo({top:w.current.scrollHeight,behavior:"smooth"}),A(!1))},children:y.jsx(kR,{size:20})})}),y.jsx(oe,{pos:"relative",children:y.jsxs(Le,{mt:"auto",align:"center",wrap:"nowrap",gap:0,children:[y.jsx($c,{w:"100%",placeholder:"...",value:C,onChange:F=>D(F.currentTarget.value),onKeyDown:W,autosize:!0,minRows:1,maxRows:3}),y.jsx(ut,{size:"xl",variant:"transparent",onClick:V,children:y.jsx(DR,{size:20})})]})})]}),y.jsx(g8,{opened:b,close:R,currentChat:h,setCurrentChat:S}),y.jsx(m8,{opened:T,close:p})]})},y8=({opened:e,close:t})=>{const r=st(),{showSuccess:n}=ur(),{accessToken:o}=ve(d=>d.userStore),[a,c]=P.useState(""),l=async()=>{(await r(rd({accessToken:o,userTag:a}))).meta.requestStatus==="fulfilled"&&(n("  "),t())};return y.jsx(Rt,{opened:e,onClose:t,centered:!0,title:" ",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:y.jsxs(Re,{gap:"md",children:[y.jsx(Lt,{label:" usertag",placeholder:"usertag#000000",value:a,onChange:d=>c(d.currentTarget.value)}),y.jsx(Le,{justify:"flex-end",children:y.jsx(Ie,{onClick:l,children:""})})]})})},w8=()=>{const e=st(),{accessToken:t}=ve(d=>d.userStore),{chatsList:r,chatsLoading:n}=ve(d=>d.chatsStore),[o,{open:a,close:c}]=Mt(!1),l=d=>{e(qi(d))};return P.useEffect(()=>{e(sd({accessToken:t}))},[t]),y.jsxs(y.Fragment,{children:[y.jsxs(Re,{w:"100%",gap:"md",p:"md",children:[y.jsxs(Le,{justify:"space-between",children:[y.jsx(Br,{order:1,children:""}),y.jsx(Ie,{leftSection:y.jsx(Qi,{}),onClick:a,children:" "})]}),y.jsxs(Re,{gap:"xs",children:[n===tt.PENDING&&y.jsx(Ps,{}),r.map(d=>y.jsx(ss,{bg:"#1a1b1e",padding:"xs",radius:"md",c:"#fff",p:"md",children:y.jsxs(Re,{children:[y.jsxs(Le,{wrap:"nowrap",children:[y.jsx(R$,{size:24,style:{flexShrink:0}}),y.jsx(Br,{order:3,children:d.chatName})]}),y.jsx(Ie,{variant:"light",radius:"md",onClick:()=>l(d.chatId),children:" "})]})},d.chatId))]})]}),y.jsx(y8,{opened:o,close:c})]})},S8=({sendChatMessage:e,editChatMessage:t,deleteChatMessage:r})=>{const{activeChat:n}=ve(o=>o.chatsStore);return y.jsx(y.Fragment,{children:n?y.jsx(v8,{chatId:n,sendChatMessage:e,editChatMessage:t,deleteChatMessage:r}):y.jsx(w8,{})})},b8=()=>{const e=st(),[t,r]=P.useState(!1),{user:n,accessToken:o}=ve(m=>m.userStore),{showSuccess:a}=ur(),[c,l]=P.useState(!1),d=Go({mode:"uncontrolled",initialValues:{email:n.mail,name:n.name,notifiable:n.notifiable,friendshipApplication:n.friendshipApplication,nonFriendMessage:n.nonFriendMessage},validate:{email:w9(" Email"),name:S9({min:2},"    2 ")}}),f=async()=>{if(d.validate(),d.isValid()){const m=d.getValues();let v=!1;l(!0),m.friendshipApplication!==n.friendshipApplication&&(v=(await e(Wi({accessToken:o,type:Uo.FRIENDSHIP}))).meta.requestStatus==="fulfilled"),m.nonFriendMessage!==n.nonFriendMessage&&(v=(await e(Wi({accessToken:o,type:Uo.NONFRIEND}))).meta.requestStatus==="fulfilled"),m.notifiable!==n.notifiable&&(v=(await e(Wi({accessToken:o,type:Uo.NOTIFIABLE}))).meta.requestStatus==="fulfilled"),v&&a("  "),(m.email!==n.mail||m.name!==n.name)&&(await e(td({accessToken:o,newProfile:{name:m.name,mail:m.email}}))).meta.requestStatus==="fulfilled"&&a("  "),l(!1),r(!1)}};return y.jsxs(Re,{p:"xl",gap:"md",w:"100%",children:[y.jsxs(ss,{withBorder:!0,radius:"md",w:"100%",styles:{root:{backgroundColor:"#1a1b1e"}},children:[y.jsx(Br,{order:2,children:"  "}),y.jsx(Oe,{c:"dimmed",children:"    "}),y.jsxs(Le,{mt:"md",children:[!n.icon&&y.jsx(Dr,{src:null,alt:"no image here",size:"xl"}),y.jsxs(Re,{children:[y.jsxs(Le,{children:[y.jsx(Br,{order:4,children:n.name}),y.jsx(On,{variant:"default",children:n.tag})]}),y.jsxs(Le,{children:[y.jsx(t$,{}),y.jsxs(Oe,{c:"dimmed",children:[" : ",n.accontCreateDate]})]}),y.jsx(Ie,{variant:"light",radius:"md",leftSection:y.jsx(r5,{}),children:" "})]})]}),y.jsx(mr,{mt:"md"}),y.jsxs(Re,{mt:"md",children:[y.jsx(Lt,{leftSection:y.jsx(IR,{}),radius:"md",label:"",placeholder:" ",...d.getInputProps("name"),disabled:!t},d.key("name")),y.jsx(Lt,{leftSection:y.jsx(b$,{}),radius:"md",label:" ",placeholder:"  ",...d.getInputProps("email"),disabled:!t},d.key("email")),y.jsx(Lt,{leftSection:y.jsx(Q$,{}),radius:"md",label:" ",placeholder:"  ",value:n.tag,disabled:!0})]})]}),y.jsxs(ss,{withBorder:!0,radius:"md",w:"100%",styles:{root:{backgroundColor:"#1a1b1e"}},children:[y.jsx(Br,{order:2,children:" "}),y.jsx(Oe,{c:"dimmed",children:" ,       "}),y.jsxs(Le,{justify:"space-between",mt:"lg",children:[y.jsxs(Re,{gap:0,children:[y.jsx(Oe,{children:""}),y.jsx(Oe,{c:"dimmed",children:"    "})]}),y.jsx(Bo,{disabled:!t,defaultChecked:!0,size:"lg",...d.getInputProps("notifiable",{type:"checkbox"})},d.key("notifiable"))]}),y.jsx(mr,{mt:"lg"}),y.jsxs(Le,{justify:"space-between",mt:"lg",children:[y.jsxs(Re,{gap:0,children:[y.jsx(Oe,{children:"  "}),y.jsx(Oe,{c:"dimmed",children:"      "})]}),y.jsx(Bo,{disabled:!t,defaultChecked:!0,size:"lg",...d.getInputProps("friendshipApplication",{type:"checkbox"})},d.key("friendshipApplication"))]}),y.jsx(mr,{mt:"lg"}),y.jsxs(Le,{justify:"space-between",mt:"lg",children:[y.jsxs(Re,{gap:0,children:[y.jsx(Oe,{children:"  "}),y.jsx(Oe,{c:"dimmed",children:"    ,     "})]}),y.jsx(Bo,{disabled:!t,defaultChecked:!0,size:"lg",...d.getInputProps("nonFriendMessage",{type:"checkbox"})},d.key("nonFriendMessage"))]})]}),y.jsx(Le,{justify:"flex-end",children:t?y.jsxs(y.Fragment,{children:[y.jsx(Ie,{variant:"outline",leftSection:y.jsx(Q4,{}),radius:"md",size:"md",onClick:()=>{r(!1),d.setValues({email:n.mail,name:n.name,notifiable:n.notifiable,friendshipApplication:n.friendshipApplication,nonFriendMessage:n.nonFriendMessage})},disabled:c,loading:c,children:""}),y.jsx(Ie,{leftSection:y.jsx(If,{}),radius:"md",size:"md",onClick:f,disabled:c,loading:c,children:" "})]}):y.jsx(Ie,{leftSection:y.jsx(jf,{}),radius:"md",size:"md",onClick:()=>r(!0),children:" "})})]})},_8=({activeLink:e,sendChatMessage:t,editChatMessage:r,deleteChatMessage:n})=>{const[o,a]=P.useState("friends"),{applicationFrom:c,applicationTo:l,friendshipList:d}=ve(f=>f.userStore);return y.jsx(oe,{style:{flex:1,padding:"10px",display:"flex",flexDirection:"column",backgroundColor:"#2C2E33"},children:y.jsxs(zn,{w:"100%",h:"100%",justify:"center",children:[e==="chats"&&y.jsx(S8,{sendChatMessage:t,editChatMessage:r,deleteChatMessage:n}),e==="settings"&&y.jsx(b8,{}),e==="friends"&&y.jsxs(Bt,{value:o,onChange:a,styles:{tab:{"--tab-hover-color":"#4f4f4f"}},w:"100%",children:[y.jsxs(Bt.List,{children:[y.jsx(Bt.Tab,{value:"friends",children:" "}),y.jsx(Bt.Tab,{value:"applicationFrom",children:" "}),y.jsx(Bt.Tab,{value:"applicationTo",children:" "})]}),y.jsx(Bt.Panel,{value:"friends",children:y.jsxs(Re,{p:"xs",gap:"xs",children:[d.length<1&&y.jsx(Oe,{children:"    "}),d.map(f=>y.jsx(km,{type:Vo.FRIEND,userName:f.userName,userTag:f.userTag,userId:f.userId},f.userId))]})}),y.jsx(Bt.Panel,{value:"applicationFrom",children:y.jsxs(Re,{p:"xs",gap:"xs",children:[c.length<1&&y.jsx(Oe,{children:" "}),c.map(f=>y.jsx(km,{applicationId:f.id,type:Vo.APPLICATION_FROM,userName:f.user.userName,userTag:f.user.userTag,createdAt:f.createdAt,userId:f.user.userId},f.id))]})}),y.jsx(Bt.Panel,{value:"applicationTo",children:y.jsxs(Re,{p:"xs",gap:"xs",children:[l.length<1&&y.jsx(Oe,{children:" "}),l.map(f=>y.jsx(km,{applicationId:f.id,type:Vo.APPLICATION_TO,userName:f.user.userName,userTag:f.user.userTag,createdAt:f.createdAt,userId:f.user.userId},f.id))]})})]})]})})},x8=()=>{const{user:e}=ve(t=>t.userStore);return y.jsx(oe,{style:{padding:"10px",backgroundColor:"#1A1B1E"},w:{base:300},visibleFrom:"sm",children:y.jsxs(Re,{gap:"md",align:"center",children:[y.jsx(Dr,{size:80,radius:"xl",src:void 0,alt:e.name}),y.jsx(ts,{label:e.name,withArrow:!0,children:y.jsx(Br,{order:3,style:{textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},children:e.name})}),y.jsx(ts,{label:e.tag,withArrow:!0,children:y.jsxs(Oe,{c:"gray",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"},children:["ID: ",e.tag]})}),y.jsx(ts,{label:e.mail,withArrow:!0,children:y.jsxs(Oe,{c:"gray",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"},children:["E-mail: ",e.mail]})}),y.jsxs(Oe,{c:"gray",children:[" : ",e.accontCreateDate]})]})})},C8=({activeLink:e,setActiveLink:t})=>{const r=st();return y.jsxs(Re,{gap:"xs",bg:"#1A1B1E",w:{base:150,lg:250},h:"100%",visibleFrom:"sm",p:10,children:[y.jsx(Fr,{label:"",leftSection:y.jsx(P$,{size:16}),rightSection:y.jsx(Vi,{size:12}),active:e==="chats",onClick:()=>{t("chats"),r(qi(null))}}),y.jsx(Fr,{label:"",leftSection:y.jsx(Z4,{size:16}),rightSection:y.jsx(Vi,{size:12}),active:e==="friends",onClick:()=>{t("friends"),r(qi(null))}}),y.jsx(Fr,{label:"",leftSection:y.jsx(Vc,{size:16}),rightSection:y.jsx(Vi,{size:12}),active:e==="settings",onClick:()=>{t("settings"),r(qi(null))}})]})},R8=({sendChatMessage:e,editChatMessage:t,deleteChatMessage:r})=>{const n=st(),{accessToken:o}=ve(d=>d.userStore),{activeChat:a}=ve(d=>d.chatsStore),[c,l]=P.useState("chats");return P.useEffect(()=>{n(Ku({accessToken:o})),n(Xu({accessToken:o})),n(Zu({accessToken:o}))},[]),y.jsxs(y.Fragment,{children:[y.jsx(C8,{activeLink:c,setActiveLink:l}),y.jsx(_8,{activeLink:c,sendChatMessage:e,editChatMessage:t,deleteChatMessage:r}),a&&y.jsx(h8,{}),!a&&c!=="settings"&&y.jsx(x8,{})]})},E8=({opened:e,onClose:t})=>{const[r,n]=P.useState("create"),{user:o,accessToken:a}=ve(v=>v.userStore),c=st(),l=Go({initialValues:{name:""},validate:{name:v=>v.trim().length<3?"     3 ":null}}),d=Go({initialValues:{serverId:""},validate:{serverId:v=>v.trim().length===0?" ID ":null}}),f=async v=>{(await c(Eu({accessToken:a,name:v.name}))).meta.requestStatus==="fulfilled"&&(c(_s({accessToken:a})),l.reset(),t())},m=async v=>{(await c(ku({accessToken:a,serverId:v.serverId,userName:o.name}))).meta.requestStatus==="fulfilled"&&(c(_s({accessToken:a})),l.reset(),t())};return y.jsx(Rt,{opened:e,onClose:t,title:r==="create"?"  ":"  ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:y.jsxs(Bt,{value:r,onChange:n,styles:{tab:{"--tab-hover-color":"#4f4f4f"}},children:[y.jsxs(Bt.List,{children:[y.jsx(Bt.Tab,{value:"create",children:" "}),y.jsx(Bt.Tab,{value:"connect",children:"  "})]}),y.jsx(Bt.Panel,{value:"create",children:y.jsxs("form",{onSubmit:l.onSubmit(f),children:[y.jsx(Lt,{label:" ",placeholder:"  ",...l.getInputProps("name")}),y.jsxs(Le,{justify:"flex-end",mt:"md",children:[y.jsx(Ie,{variant:"outline",onClick:t,children:""}),y.jsx(Ie,{type:"submit",children:""})]})]})}),y.jsx(Bt.Panel,{value:"connect",children:y.jsxs("form",{onSubmit:d.onSubmit(m),children:[y.jsx(Lt,{label:"ID ",placeholder:" ID ",...d.getInputProps("serverId")}),y.jsxs(Le,{justify:"flex-end",mt:"md",children:[y.jsx(Ie,{variant:"outline",onClick:t,children:""}),y.jsx(Ie,{type:"submit",children:""})]})]})})]})})},T8=({serverId:e,serverName:t})=>{const r=st(),{user:n}=ve(a=>a.userStore),o=()=>{r(O6(e)),r(oo(!1)),r(pa(!1)),Je.emit("setServer",{serverId:e,userName:n.name,userId:n.id})};return y.jsx(ut,{size:"xl",radius:"xl",variant:"transparent",onClick:o,children:y.jsx(Dr,{size:"md",color:"blue",children:t})})},k8=()=>{const[e,{open:t,close:r}]=Mt(!1),n=st(),o=fo(),{serversList:a}=ve(d=>d.testServerStore),{accessToken:c}=ve(d=>d.userStore),l=async()=>{(await n(Wu({accessToken:c}))).meta.requestStatus==="fulfilled"&&o("/")};return P.useEffect(()=>{c&&n(_s({accessToken:c}))},[c,n]),y.jsxs(zn,{w:"100%",maw:50,bg:"#0E0E10",align:"center",direction:"column",justify:"space-between",p:"10px 0",children:[y.jsxs(zn,{direction:"column",align:"center",children:[y.jsx(ut,{size:"lg",variant:"transparent",onClick:()=>n(pa(!0)),children:y.jsx(y$,{size:24,color:"#fff"})}),y.jsx(mr,{my:"sm"}),y.jsx(Re,{gap:"sm",align:"center",children:a.map(d=>y.jsx(T8,{serverId:d.serverId,serverName:d.serverName},d.serverId))}),y.jsx(mr,{my:"sm"}),y.jsx(ut,{size:"lg",variant:"transparent",onClick:t,children:y.jsx(u$,{size:24,color:"#fff"})})]}),y.jsx(ut,{size:"lg",variant:"transparent",onClick:l,children:y.jsx(PR,{size:24,color:"#fff"})}),y.jsx(E8,{opened:e,onClose:r})]})},P8=({opened:e,onClose:t})=>{const r=st(),{accessToken:n}=ve(f=>f.userStore),{currentServerId:o}=ve(f=>f.testServerStore),[a,c]=P.useState(""),{showSuccess:l}=ur(),d=async()=>{o&&(await r(Mu({accessToken:n,serverId:o,name:a}))).meta.requestStatus==="fulfilled"&&(l("  "),c(""),t())};return y.jsx(Rt,{opened:e,onClose:t,title:"   ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:y.jsxs(Re,{gap:"xs",children:[y.jsx(Lt,{label:" ",placeholder:"  ",value:a,onChange:f=>c(f.currentTarget.value)}),y.jsx(Le,{justify:"flex-end",mt:"md",children:y.jsx(Ie,{variant:"filled",onClick:d,children:""})})]})})},eE=()=>{const{isConnected:e,toggleMute:t,isMuted:r,isStreaming:n}=ti(),o=Uc(),{startScreenSharing:a,stopScreenSharing:c}=w5(),l=st(),{user:d,accessToken:f}=ve(w=>w.userStore),{currentVoiceChannelId:m}=ve(w=>w.testServerStore),v=()=>{n?c():a()},g=()=>{o(f,m),l(oo(!1)),l(Hi(null))};return y.jsxs(Re,{mt:"auto",children:[e&&y.jsxs(Le,{gap:"xs",justify:"space-between",children:[y.jsx(ut,{variant:"transparent",onClick:v,c:"#ffffff",children:n?y.jsx(O$,{}):y.jsx(N$,{})}),y.jsx(ut,{variant:"transparent",onClick:t,c:"#ffffff",children:r?y.jsx(ig,{}):y.jsx(I$,{})}),y.jsx(ut,{variant:"transparent",onClick:g,c:"#ffffff",children:y.jsx(V$,{})})]}),y.jsx(mr,{}),y.jsx(Oe,{truncate:!0,children:d.name})]})},D8=async(e,t)=>{try{const r=await fetch(`${Ve}/api/roles/list?serverId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),n=await r.json();if(!r.ok)throw{message:n.message||"Unknown error",status:r.status};return n}catch(r){throw console.error("Error get roles:",r),r}},j8=async(e,t)=>{try{const r=await fetch(`${Ve}/api/roles/create`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({...t})}),n=await r.json();if(!r.ok)throw{message:n.message||"Unknown error",status:r.status};return n}catch(r){throw console.error("Error create role:",r),r}},I8=async(e,t,r)=>{try{const n=await fetch(`${Ve}/api/roles/delete`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({serverId:t,roleId:r})});if(!n.ok){const o=await n.json();throw new Error(o.message||`Error: ${n.status}`)}}catch(n){throw console.error("Error delete role:",n),n}},M8=async(e,t)=>{try{const r=await fetch(`${Ve}/api/roles/update`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({...t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error update role:",r),r}},N8=async(e,t)=>{try{const r=await fetch(`${Ve}/api/roles/settings`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({...t})});if(!r.ok){const n=await r.json();throw new Error(n.message||`Error: ${r.status}`)}}catch(r){throw console.error("Error update role settings:",r),r}},Gi=$e("rolesSlice/getRoles",async({accessToken:e,serverId:t},{rejectWithValue:r})=>{try{return await D8(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),ud=$e("rolesSlice/createRole",async({accessToken:e,role:t},{rejectWithValue:r,dispatch:n})=>{try{const o=await j8(e,t);return n(Gi({accessToken:e,serverId:t.serverId})),o}catch(o){return r(o instanceof Error?o.message:" ")}}),dd=$e("rolesSlice/deleteRole",async({accessToken:e,serverId:t,roleId:r},{rejectWithValue:n})=>{try{await I8(e,t,r)}catch(o){return n(o instanceof Error?o.message:" ")}}),fd=$e("rolesSlice/updateRole",async({accessToken:e,updatedRole:t},{rejectWithValue:r})=>{try{await M8(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}}),pd=$e("rolesSlice/updateRoleSettings",async({accessToken:e,updatedRoleSettings:t},{rejectWithValue:r})=>{try{await N8(e,t)}catch(n){return r(n instanceof Error?n.message:" ")}});var pt=(e=>(e[e.CanChangeRole=0]="CanChangeRole",e[e.CanWorkChannels=1]="CanWorkChannels",e[e.CanDeleteUsers=2]="CanDeleteUsers",e[e.CanMuteOther=3]="CanMuteOther",e[e.CanDeleteOthersMessages=4]="CanDeleteOthersMessages",e[e.CanIgnoreMaxCount=5]="CanIgnoreMaxCount",e[e.CanCreateRole=6]="CanCreateRole",e[e.CanCreateLessons=7]="CanCreateLessons",e[e.CanCheckAttendance=8]="CanCheckAttendance",e))(pt||{});const L8={rolesList:[],rolesLoading:tt.IDLE,role:null,error:""},tE=Hc({name:"roles",initialState:L8,reducers:{setEditedRole:(e,t)=>{e.role=t.payload}},extraReducers:e=>{e.addCase(Gi.pending,t=>{t.rolesLoading=tt.PENDING,t.error=""}).addCase(Gi.fulfilled,(t,r)=>{t.rolesList=r.payload.roles,t.rolesLoading=tt.FULFILLED,t.error=""}).addCase(Gi.rejected,(t,r)=>{t.rolesLoading=tt.REJECTED,t.error=r.payload}).addCase(dd.fulfilled,(t,{meta:r})=>{const{roleId:n}=r.arg;t.rolesList=t.rolesList.filter(o=>o.role.id!==n),t.error=""}).addCase(pd.fulfilled,(t,{meta:r})=>{const{updatedRoleSettings:n}=r.arg,{roleId:o,setting:a,add:c}=n,l=t.rolesList.findIndex(d=>d.role.id===o);if(l!==-1){const d={...t.rolesList[l].settings};switch(a){case pt.CanChangeRole:d.canChangeRole=c;break;case pt.CanWorkChannels:d.canWorkChannels=c;break;case pt.CanDeleteUsers:d.canDeleteUsers=c;break;case pt.CanMuteOther:d.canMuteOther=c;break;case pt.CanDeleteOthersMessages:d.canDeleteOthersMessages=c;break;case pt.CanIgnoreMaxCount:d.canIgnoreMaxCount=c;break;case pt.CanCreateRole:d.canCreateRoles=c;break;case pt.CanCreateLessons:d.canCreateLessons=c;break;case pt.CanCheckAttendance:d.canCheckAttendance=c;break;default:console.warn("Unknown setting:",a);break}t.rolesList[l].settings=d}if(t.role&&t.role.role.id===o){const d={...t.role.settings};switch(a){case pt.CanChangeRole:d.canChangeRole=c;break;case pt.CanWorkChannels:d.canWorkChannels=c;break;case pt.CanDeleteUsers:d.canDeleteUsers=c;break;case pt.CanMuteOther:d.canMuteOther=c;break;case pt.CanDeleteOthersMessages:d.canDeleteOthersMessages=c;break;case pt.CanIgnoreMaxCount:d.canIgnoreMaxCount=c;break;case pt.CanCreateRole:d.canCreateRoles=c;break;case pt.CanCreateLessons:d.canCreateLessons=c;break;case pt.CanCheckAttendance:d.canCheckAttendance=c;break;default:console.warn("Unknown setting:",a);break}t.role.settings=d}t.error=""}).addCase(fd.fulfilled,(t,{meta:r})=>{const{updatedRole:n}=r.arg,o=t.rolesList.findIndex(a=>a.role.id===n.roleId);o!==-1&&(t.rolesList[o]={...t.rolesList[o],role:{...t.rolesList[o].role,name:n.name,color:n.color}}),t.role&&t.role.role.id===n.roleId&&(t.role={...t.role,role:{...t.role.role,name:n.name,color:n.color}}),t.error=""}).addMatcher(zr(ud.pending,dd.pending,fd.pending,pd.pending),t=>{t.error=""}).addMatcher(zr(ud.fulfilled),t=>{t.error=""}).addMatcher(zr(ud.rejected,dd.rejected,fd.rejected,pd.rejected),(t,r)=>{t.error=r.payload})}}),{setEditedRole:jd}=tE.actions,O8=tE.reducer,A8=({opened:e,onClose:t})=>{const r=st(),{showSuccess:n}=ur(),{accessToken:o}=ve(g=>g.userStore),{currentServerId:a}=ve(g=>g.testServerStore),{role:c}=ve(g=>g.rolesStore),[l,d]=P.useState(""),[f,m]=P.useState(""),v=async()=>{l.trim().length>1&&f.trim().length>1&&o&&a&&c&&(await r(fd({accessToken:o,updatedRole:{serverId:a,roleId:c.role.id,name:l.trim(),color:f.trim()}}))).meta.requestStatus==="fulfilled"&&(n("  "),r(jd(null)),t())};return P.useEffect(()=>{c&&(d(c.role.name),m(c.role.color))},[c]),y.jsx(Rt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:y.jsxs(Re,{children:[y.jsx(Lt,{label:" ",placeholder:"  ",value:l,onChange:g=>d(g.currentTarget.value)}),y.jsx(ef,{withEyeDropper:!1,label:" ",placeholder:"#000000",value:f,onChange:m}),y.jsx(Ie,{leftSection:y.jsx(If,{}),variant:"light",radius:"md",onClick:v,children:""})]})})},$8=({opened:e,onClose:t})=>{const r=st(),{showSuccess:n}=ur(),{currentServerId:o}=ve(g=>g.testServerStore),{accessToken:a}=ve(g=>g.userStore),{role:c}=ve(g=>g.rolesStore),[l,d]=P.useState(!1),f=Go({mode:"uncontrolled"}),m=async()=>{if(a&&o&&c){const g=f.getValues(),w=[];let b=!1;d(!0);const E={[pt.CanChangeRole]:"canChangeRole",[pt.CanWorkChannels]:"canWorkChannels",[pt.CanDeleteUsers]:"canDeleteUsers",[pt.CanMuteOther]:"canMuteOther",[pt.CanDeleteOthersMessages]:"canDeleteOthersMessages",[pt.CanIgnoreMaxCount]:"canIgnoreMaxCount",[pt.CanCreateRole]:"canCreateRoles",[pt.CanCreateLessons]:"canCreateLessons",[pt.CanCheckAttendance]:"canCheckAttendance"};for(const[T,x]of Object.entries(E)){const p=g[x],h=c.settings[x];p!==h&&w.push(r(pd({accessToken:a,updatedRoleSettings:{serverId:o,roleId:c.role.id,setting:Number(T),add:p}})))}b=(await Promise.allSettled(w)).some(T=>{var x,p;return T.status==="fulfilled"&&((p=(x=T.value)==null?void 0:x.meta)==null?void 0:p.requestStatus)==="fulfilled"}),b&&n("  "),d(!1)}},v=()=>{r(jd(null)),t()};return P.useEffect(()=>{c&&f.setValues({...c.settings})},[c]),y.jsx(Rt,{opened:e,onClose:v,centered:!0,size:"auto",children:y.jsxs(Re,{children:[y.jsx(Br,{order:5,children:" "}),y.jsx(er.Autosize,{maw:"100%",mah:500,children:y.jsx(Re,{children:c&&Object.entries(c.settings).map(([g])=>y.jsxs(St.Fragment,{children:[y.jsx(Oe,{children:iR[g]||g}),y.jsx(Bo,{size:"lg",...f.getInputProps(g,{type:"checkbox"})},f.key(g))]},g))})}),y.jsx(Ie,{disabled:l,loading:l,leftSection:y.jsx(If,{}),variant:"light",radius:"md",onClick:m,children:""})]})})},F8=({opened:e,onClose:t})=>{const r=st(),{showSuccess:n}=ur(),{accessToken:o}=ve(v=>v.userStore),{currentServerId:a}=ve(v=>v.testServerStore),[c,l]=P.useState(""),[d,f]=P.useState(""),m=async()=>{c.trim().length>1&&d.trim().length>1&&o&&a&&(await r(ud({accessToken:o,role:{serverId:a,name:c.trim(),color:d}}))).meta.requestStatus==="fulfilled"&&(n("  "),t())};return y.jsx(Rt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:y.jsxs(Re,{children:[y.jsx(Lt,{label:" ",placeholder:"  ",value:c,onChange:v=>l(v.currentTarget.value)}),y.jsx(ef,{withEyeDropper:!1,label:" ",placeholder:"#000000",value:d,onChange:f}),y.jsx(Ie,{leftSection:y.jsx(If,{}),variant:"light",radius:"md",onClick:m,children:""})]})})},z8=({role:e,editRole:t,editSettings:r})=>{const n=st(),{showSuccess:o}=ur(),{accessToken:a}=ve(d=>d.userStore),{currentServerId:c}=ve(d=>d.testServerStore),l=async()=>{a&&c&&(await n(dd({accessToken:a,serverId:c,roleId:e.role.id}))).meta.requestStatus==="fulfilled"&&o("  ")};return y.jsx(ss,{p:"md",radius:"md",children:y.jsxs(Re,{children:[y.jsxs(Le,{justify:"space-between",children:[y.jsxs(Le,{children:[y.jsx(aa,{color:e.role.color}),y.jsxs(Re,{gap:"0",children:[y.jsx(Br,{order:3,children:e.role.name}),y.jsxs(Oe,{c:"dimmed",children:["#",e.role.tag]})]})]}),y.jsxs(Le,{children:[y.jsx(Ie,{variant:"light",radius:"md",leftSection:y.jsx(jR,{}),onClick:()=>r(e),children:""}),y.jsx(Ie,{variant:"light",radius:"md",leftSection:y.jsx(jf,{}),onClick:()=>t(e),children:""}),y.jsx(Ie,{variant:"light",radius:"md",leftSection:y.jsx(ty,{}),onClick:l,children:""})]})]}),y.jsx(Le,{children:Object.entries(e.settings).filter(([d,f])=>f===!0).map(([d])=>y.jsx(vf,{radius:"sm",children:iR[d]||d},d))})]})})},B8=({opened:e,onClose:t})=>{const r=st(),[n,{open:o,close:a}]=Mt(!1),[c,{open:l,close:d}]=Mt(!1),[f,{open:m,close:v}]=Mt(!1),{accessToken:g}=ve(R=>R.userStore),{currentServerId:w}=ve(R=>R.testServerStore),{rolesList:b,rolesLoading:E}=ve(R=>R.rolesStore);return P.useEffect(()=>{g&&w&&E===tt.IDLE&&r(Gi({accessToken:g,serverId:w}))},[r,E,g,w]),y.jsxs(y.Fragment,{children:[y.jsx(Rt,{opened:e,onClose:t,centered:!0,size:"auto",children:y.jsxs(Re,{children:[y.jsxs(Le,{justify:"space-between",children:[y.jsx(Br,{order:3,children:" "}),y.jsx(Ie,{leftSection:y.jsx(Qi,{}),variant:"light",radius:"md",onClick:()=>o(),children:" "})]}),y.jsx(er.Autosize,{mah:"800px",maw:"100%",children:y.jsx(Re,{children:b.map(R=>y.jsx(z8,{role:R,editRole:T=>{r(jd(T)),m()},editSettings:T=>{r(jd(T)),l()}},R.role.id))})})]})}),y.jsx(F8,{opened:n,onClose:a}),y.jsx($8,{opened:c,onClose:d}),y.jsx(A8,{opened:f,onClose:v})]})},rE=({opened:e,onClose:t})=>{const r=st(),{serverData:n,currentServerId:o,error:a}=ve(O=>O.testServerStore),{rolesList:c,rolesLoading:l}=ve(O=>O.rolesStore),{accessToken:d,user:f}=ve(O=>O.userStore),[m,v]=P.useState("roles"),[g,w]=P.useState(""),[b,E]=P.useState(""),[R,T]=P.useState(!1),[x,p]=P.useState(n.serverName),{showSuccess:h}=ur(),[S,C]=P.useState(""),D=n.isCreator,j=n.permissions.canDeleteUsers,L=async()=>{if(!g||!b)return;T(!0),(await r(Tu({accessToken:d,serverId:n.serverId,userId:g,role:b}))).meta.requestStatus==="fulfilled"&&(T(!1),h("  "),r(An({accessToken:d,serverId:n.serverId})),t())},N=async()=>{o&&(T(!0),(await r(Iu({accessToken:d,serverId:o,name:x}))).meta.requestStatus==="fulfilled"&&(T(!1),h("  "),t()))},A=async()=>{o&&S&&(T(!0),(await r(Nu({accessToken:d,serverId:o,userId:S}))).meta.requestStatus==="fulfilled"&&(T(!1),h("  "),C(null),t()))};return P.useEffect(()=>{j&&d&&o&&r(zu({accessToken:d,serverId:o}))},[j,o]),P.useEffect(()=>{l===tt.IDLE&&o&&r(Gi({accessToken:d,serverId:o}))},[l,o]),P.useEffect(()=>{a&&T(!1)},[a]),y.jsx(Rt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",children:y.jsxs(Le,{align:"flex-start",gap:"md",children:[y.jsxs(Re,{gap:"xs",style:{width:200},children:[y.jsx(Fr,{label:"",leftSection:y.jsx(Qi,{size:16}),active:m==="roles",onClick:()=>v("roles")}),D&&y.jsx(Fr,{label:" ",leftSection:y.jsx(Qi,{size:16}),active:m==="name",onClick:()=>v("name")}),(D||j)&&y.jsx(Fr,{label:" ",leftSection:y.jsx(i5,{size:16}),active:m==="deleteUser",onClick:()=>v("deleteUser")})]}),y.jsxs(er,{children:[m==="roles"&&y.jsxs(Re,{gap:"md",children:[y.jsx(Oe,{size:"lg",w:500,children:"  "}),y.jsx(ws,{label:" ",placeholder:" ",data:n.users.filter(O=>O.userId!==f.id).map(O=>({value:O.userId,label:O.userName})),value:g,onChange:w}),y.jsx(ws,{label:" ",placeholder:" ",data:c.map(O=>({value:O.role.id,label:O.role.name})),value:b,onChange:E}),y.jsx(Ie,{onClick:L,loading:R,children:" "})]}),m==="name"&&D&&y.jsxs(Re,{gap:"md",children:[y.jsx(Oe,{size:"lg",w:500,children:"  "}),y.jsx(Lt,{label:"  ",value:x,onChange:O=>p(O.target.value),placeholder:n.serverName}),y.jsx(Ie,{onClick:N,loading:R,children:" "})]}),m==="deleteUser"&&(D||j)&&y.jsxs(Re,{gap:"md",children:[y.jsx(Oe,{size:"lg",w:500,children:"   "}),y.jsx(ws,{label:" ",placeholder:" ",data:n.users.filter(O=>O.userId!==f.id).map(O=>({value:O.userId,label:O.userName})),value:S,onChange:C}),y.jsx(Ie,{onClick:A,loading:R,children:""})]})]})]})})},U8=({opened:e,onClose:t})=>{const r=fo(),n=st(),o=Uc(),{showSuccess:a,showError:c}=ur(),{serverData:l,currentVoiceChannelId:d}=ve(b=>b.testServerStore),{accessToken:f,user:m}=ve(b=>b.userStore),[v,g]=P.useState(""),w=async()=>{if(!v){c("  ");return}o(f,d),n(oo(!1)),n(Hi(null)),(await n(N6({accessToken:f,serverId:l.serverId,newCreatorId:v}))).meta.requestStatus==="fulfilled"&&(a("  "),n(_s({accessToken:f})),n(pa(!0)),n(oy()),g(""),r("/main"))};return y.jsx(Rt,{opened:e,onClose:t,title:"  ",centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:y.jsxs(Re,{gap:"xs",children:[y.jsx(ws,{label:"  ",placeholder:" ",data:l.users.filter(b=>b.userId!==m.id).map(b=>({value:b.userId,label:b.userName})),value:v,onChange:g}),y.jsx(Le,{justify:"flex-end",mt:"md",children:y.jsx(Ie,{variant:"filled",onClick:w,children:""})})]})})},X_=e=>e.toLowerCase()==="true",V8=e=>{switch(e){case zt.TEXT_CHANNEL:return[{value:"0",label:""},{value:"2",label:""},{value:"3",label:" "}];case zt.VOICE_CHANNEL:return[{value:"0",label:""},{value:"1",label:" "}];default:return[]}},nE=({opened:e,onClose:t,channelId:r,channelName:n,channelType:o})=>{const a=st(),{accessToken:c}=ve(M=>M.userStore),{serverData:l,roleSettings:d}=ve(M=>M.testServerStore),[f,m]=P.useState("name"),[v,g]=P.useState(n),[w,b]=P.useState(!1),{showSuccess:E}=ur(),[R,T]=P.useState(null),[x,p]=P.useState(null),[h,S]=P.useState(1),[C,D]=P.useState(""),j=d.canSee,L=d.canJoin,N=d.canWrite,A=d.canWriteSub,O=async()=>{b(!0),(await a(Lu({accessToken:c,id:r,name:v}))).meta.requestStatus==="fulfilled"&&(b(!1),E("   "),t())},V=async()=>{b(!0),(await a(xc({accessToken:c,channelId:r}))).meta.requestStatus==="fulfilled"&&(b(!1),E("  "),t())},W=async()=>{b(!0),o===zt.TEXT_CHANNEL&&R&&x&&C&&(await a(Au({accessToken:c,settings:{channelId:r,add:X_(R),type:Number(x),roleId:C}}))).meta.requestStatus==="fulfilled"&&(b(!1),E("  "),t()),o===zt.VOICE_CHANNEL&&R&&x&&C&&(await a(Fu({accessToken:c,settings:{channelId:r,add:X_(R),type:Number(x),roleId:C}}))).meta.requestStatus==="fulfilled"&&(b(!1),E("  "),t())},X=async()=>{b(!0),(await a(Bu({accessToken:c,voiceChannelId:r,maxCount:Number(h)}))).meta.requestStatus==="fulfilled"&&(b(!1),E("  "),t())};return P.useEffect(()=>{const M=l.channels.voiceChannels.find(B=>B.channelId===r);M&&S(M==null?void 0:M.maxCount)},[l]),P.useEffect(()=>{c&&e&&a($u({accessToken:c,channelId:r}))},[c,e]),y.jsx(Rt,{opened:e,onClose:t,centered:!0,title:" ",size:"auto",styles:{content:{backgroundColor:"#2c2e33",color:"#ffffff"},header:{backgroundColor:"#2c2e33"}},children:y.jsxs(Le,{align:"flex-start",gap:"md",children:[y.jsxs(Re,{gap:"xs",style:{width:200},children:[y.jsx(Fr,{label:"",leftSection:y.jsx(jf,{size:16}),active:f==="name",onClick:()=>m("name")}),y.jsx(Fr,{label:"",leftSection:y.jsx(ty,{size:16}),active:f==="delete",onClick:()=>m("delete")}),y.jsx(Fr,{label:"",leftSection:y.jsx(jR,{size:16}),active:f==="watchSettings",onClick:()=>m("watchSettings")}),y.jsx(Fr,{label:"",leftSection:y.jsx(d5,{size:16}),active:f==="settings",onClick:()=>m("settings")}),o===zt.VOICE_CHANNEL&&y.jsx(Fr,{label:"  ",leftSection:y.jsx(h5,{size:16}),active:f==="count",onClick:()=>m("count")})]}),y.jsxs(er,{children:[f==="name"&&y.jsxs(Re,{gap:"md",children:[y.jsx(Oe,{size:"lg",w:500,children:"  "}),y.jsx(Lt,{label:"  ",value:v,onChange:M=>g(M.target.value),placeholder:n}),y.jsx(Ie,{onClick:O,loading:w,children:" "})]}),f==="delete"&&y.jsxs(Re,{gap:"md",children:[y.jsx(Oe,{size:"lg",w:500,children:" "}),y.jsx(Ie,{color:"red",onClick:V,loading:w,children:" "})]}),f==="watchSettings"&&y.jsxs(Re,{gap:"md",children:[y.jsx(Oe,{size:"lg",w:500,children:" "}),j&&y.jsxs(y.Fragment,{children:[y.jsx(Oe,{children:" :"}),y.jsx(Re,{gap:"xs",children:j.map(M=>y.jsx(On,{color:M.color,size:"lg",variant:"light",radius:"md",children:M.name},M.id))})]}),L&&y.jsxs(y.Fragment,{children:[y.jsx(Oe,{children:" :"}),y.jsx(Re,{gap:"xs",children:L.map(M=>y.jsx(On,{color:M.color,size:"lg",variant:"light",radius:"md",children:M.name},M.id))})]}),N&&y.jsxs(y.Fragment,{children:[y.jsx(Oe,{children:" :"}),y.jsx(Re,{gap:"xs",children:N.map(M=>y.jsx(On,{color:M.color,size:"lg",variant:"light",radius:"md",children:M.name},M.id))})]}),A&&y.jsxs(y.Fragment,{children:[y.jsx(Oe,{children:"  :"}),y.jsx(Re,{gap:"xs",children:A.map(M=>y.jsx(On,{color:M.color,size:"lg",variant:"light",radius:"md",children:M.name},M.id))})]})]}),f==="settings"&&y.jsxs(Re,{gap:"md",children:[y.jsx(Oe,{size:"lg",w:500,children:"   "}),y.jsxs(Le,{align:"center",children:[y.jsx(ws,{label:"",placeholder:" ",data:[{value:"true",label:""},{value:"false",label:""}],value:R,onChange:T}),y.jsx(ws,{label:"",placeholder:" ",data:V8(o),value:x,onChange:p}),y.jsx(ws,{label:" ",placeholder:" ",data:l.roles.map(M=>({value:M.id,label:M.name})),value:C,onChange:D})]}),y.jsx(Ie,{onClick:W,loading:w,children:" "})]}),f==="count"&&y.jsxs(Re,{gap:"md",children:[y.jsx(Oe,{size:"lg",w:500,children:" -  "}),y.jsx(Le,{align:"center",children:y.jsx(wf,{label:" ",placeholder:"  1  999",value:h,onChange:S,min:1,max:999})}),y.jsx(Ie,{onClick:X,loading:w,children:" "})]})]})]})})},H8=({channelId:e,currentChannelId:t,channelName:r,isAdmin:n,handleOpenChannel:o})=>{const{hasNewMessage:a}=ve(g=>g.testServerStore),[c,l]=P.useState(""),[d,{open:f,close:m}]=Mt(!1),v=()=>{f()};return y.jsxs(y.Fragment,{children:[y.jsxs(oe,{style:{display:"flex",alignItems:"center"},onMouseEnter:()=>l(e),onMouseLeave:()=>l(""),children:[y.jsx(Ie,{leftSection:a&&e===t?y.jsx(On,{circle:!0,children:"1"}):y.jsx(g$,{}),variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",styles:{root:Y_.buttonRoot(c===e,t===e)},fullWidth:!0,onClick:o,children:r}),n&&c===e&&y.jsx(Ie,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:Y_.buttonSettings(t===e)},onClick:v,children:y.jsx(Vc,{size:16})})]},e),y.jsx(nE,{opened:d,onClose:m,channelId:e,channelName:r,channelType:zt.TEXT_CHANNEL})]})},sE=({opened:e,onClose:t,isEdit:r,serverId:n,channelType:o})=>{const a=st(),{accessToken:c}=ve(g=>g.userStore),{error:l}=ve(g=>g.testServerStore),{showError:d}=ur(),f=Go({initialValues:{name:r.initialData,maxCount:r.initialData},validate:{name:g=>g.trim().length<3?"     3 ":null,maxCount:g=>Number(g)<1&&o===zt.VOICE_CHANNEL?"-     1":Number(g)>999&&o===zt.VOICE_CHANNEL?"-     999":null}});P.useEffect(()=>{r.isEdit?f.setValues({name:r.initialData}):f.reset()},[r]);const m=async g=>{(await a(ju({accessToken:c,serverId:n,name:g.name,channelType:o===zt.TEXT_CHANNEL?zt.TEXT_CHANNEL:zt.VOICE_CHANNEL,maxCount:o===zt.VOICE_CHANNEL?Number(g.maxCount):void 0}))).meta.requestStatus==="fulfilled"&&a(An({accessToken:c,serverId:n})),t()},v=async()=>{(await a(xc({accessToken:c,channelId:r.channelId}))).meta.requestStatus==="fulfilled"&&a(An({accessToken:c,serverId:n})),t()};return P.useEffect(()=>{l&&d(l)},[l]),y.jsx(Rt,{opened:e,onClose:t,title:r.isEdit?` ${o===zt.TEXT_CHANNEL?"":""} `:` ${o===zt.TEXT_CHANNEL?"":""} `,centered:!0,c:"#ffffff",styles:{header:{backgroundColor:"#1a1b1e"},content:{backgroundColor:"#1a1b1e"}},children:r.isEdit?y.jsxs(y.Fragment,{children:[y.jsxs(Oe,{fz:"md",fw:"bold",children:[" : ",r.initialData]}),y.jsxs(Le,{justify:"flex-end",mt:"md",children:[y.jsx(Ie,{variant:"filled",color:"red",onClick:v,children:""}),y.jsx(Ie,{variant:"outline",onClick:t,children:""})]})]}):y.jsxs("form",{onSubmit:f.onSubmit(m),children:[y.jsx(Lt,{label:" ",placeholder:"  ",...f.getInputProps("name")}),o===zt.VOICE_CHANNEL&&y.jsx(wf,{label:" ",placeholder:"  1  999",...f.getInputProps("maxCount"),min:1,max:999}),y.jsxs(Le,{justify:"flex-end",mt:"md",children:[y.jsx(Ie,{variant:"outline",onClick:t,children:""}),y.jsx(Ie,{type:"submit",children:""})]})]})})},oE=({onClose:e})=>{const t=st(),[r,{toggle:n}]=Mt(!0),[o,{open:a,close:c}]=Mt(!1),[l,d]=P.useState({isEdit:!1,initialData:"",channelId:""}),{serverData:f,currentServerId:m,currentChannelId:v}=ve(E=>E.testServerStore),g=f.isCreator||f.permissions.canWorkChannels,w=E=>{t(A6(E)),t(oo(!1)),e()},b=(E,R)=>{d({isEdit:!0,initialData:E,channelId:R}),a()};return P.useEffect(()=>{console.log(v)},[v]),y.jsxs(y.Fragment,{children:[y.jsxs(Re,{align:"flex-start",gap:"xs",children:[y.jsxs(Le,{justify:"space-between",w:"100%",wrap:"nowrap",children:[y.jsx(Ie,{leftSection:r?y.jsx(Df,{}):y.jsx(Vi,{}),variant:"transparent",onClick:n,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),g&&y.jsx(ut,{variant:"transparent",onClick:()=>{d({isEdit:!1,initialData:"",channelId:""}),a()},children:y.jsx(Qi,{color:"#ffffff"})})]}),y.jsx(zd,{in:r,w:"100%",children:y.jsx(Re,{gap:"xs",children:f.channels.textChannels.map(({channelId:E,channelName:R})=>y.jsx(H8,{channelId:E,currentChannelId:v,channelName:R,isAdmin:g,handleOpenChannel:()=>w(E),handleEditChannel:()=>b(R,E)},E))})})]}),m&&y.jsx(sE,{opened:o,onClose:c,isEdit:l,serverId:m,channelType:zt.TEXT_CHANNEL})]})},Y_={buttonRoot:(e,t)=>({backgroundColor:t?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopRightRadius:e?0:"var(--mantine-radius-default)",borderBottomRightRadius:e?0:"var(--mantine-radius-default)"}),buttonSettings:e=>({backgroundColor:e?"#999999":"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0})},W8=({channelId:e,channelName:t,currentCount:r,maxCount:n,isAdmin:o,handleConnect:a})=>{const[c,{open:l,close:d}]=Mt(!1),[f,m]=P.useState(""),v=()=>{l()};return y.jsxs(y.Fragment,{children:[y.jsxs(oe,{style:{display:"flex",alignItems:"center",maxWidth:230},onMouseEnter:()=>m(e),onMouseLeave:()=>m(""),children:[y.jsx(Ie,{leftSection:y.jsx(NR,{}),rightSection:`${r}/${n}`,variant:"transparent",p:0,color:"#ffffff",justify:"flex-start",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"},label:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},fullWidth:!0,onClick:a,children:t}),o&&f===e&&y.jsx(Ie,{variant:"subtle",p:0,color:"#ffffff",justify:"flex-start",w:"20px",styles:{root:X8.buttonSettings},onClick:v,children:y.jsx(Vc,{size:16})})]}),y.jsx(nE,{opened:c,onClose:d,channelId:e,channelName:t,channelType:zt.VOICE_CHANNEL})]})},q8=({opened:e,toggle:t,isAdmin:r,handleAddChannel:n})=>y.jsxs(Le,{justify:"space-between",w:"100%",wrap:"nowrap",children:[y.jsx(Ie,{leftSection:e?y.jsx(Df,{}):y.jsx(Vi,{}),variant:"transparent",onClick:t,p:0,color:"#fffff",styles:{root:{"--button-hover-color":"#4f4f4f",transition:"color 0.3s ease"}},children:" "}),r&&y.jsx(ut,{variant:"transparent",onClick:n,children:y.jsx(Qi,{color:"#ffffff"})})]}),G8=({socketId:e,isSpeaking:t,userName:r,producerIds:n,isAdmin:o,userVolume:a,handleVolumeChange:c,handleOpenStream:l,handleKickUser:d,channelId:f,userId:m,handleMuteUser:v})=>{var R,T;const{voiceChannels:g}=ve(x=>x.testServerStore.serverData.channels),w=(R=g.find(x=>x.channelId===f))==null?void 0:R.users,{user:b}=ve(x=>x.userStore),E=(T=w==null?void 0:w.find(x=>x.userId===m))==null?void 0:T.isMuted;return y.jsxs(lt,{shadow:"md",width:200,closeOnItemClick:!0,children:[y.jsx(lt.Target,{children:y.jsxs(Le,{style:{cursor:"pointer",overflow:"hidden",width:"100%"},wrap:"nowrap",children:[y.jsx(IR,{color:t?"#43b581":void 0,style:{flexShrink:0}}),E&&y.jsx(ig,{size:20,style:{flexShrink:0}}),y.jsx(Oe,{style:{flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:"1.2em",maxHeight:"2.4em",wordBreak:"break-word"},children:r}),n.length>1&&y.jsx(ag,{color:"#43b581",style:{marginLeft:"auto",flexShrink:0}})]})}),y.jsxs(lt.Dropdown,{children:[m!==b.id&&y.jsx(lt.Item,{leftSection:y.jsx(NR,{}),children:y.jsx($v,{label:"",value:a,onChange:x=>c(e,x),min:1,max:100})}),n.length>1&&y.jsx(lt.Item,{leftSection:y.jsx(ag,{}),onClick:()=>l(e),children:" "}),o&&m!==b.id&&y.jsx(lt.Item,{leftSection:y.jsx(e5,{}),onClick:()=>d(e),children:" "}),o&&m!==b.id&&y.jsx(lt.Item,{leftSection:y.jsx(ig,{}),onClick:()=>v(m,E),children:"  "})]})]},e)},K8=()=>{const[e,t]=P.useState([]);return P.useEffect(()=>{if(Je)return Je.on("active-speakers",({activeSpeakers:r})=>{t(r)}),()=>{Je.off("active-speakers")}},[]),e},iE=()=>{const e=B4(),t=Uc(),{isConnected:r,consumers:n,users:o,setSelectedUserId:a}=ti(),{user:c,accessToken:l}=ve(M=>M.userStore),{serverData:d,currentVoiceChannelId:f,currentServerId:m}=ve(M=>M.testServerStore),v=st(),[g,{toggle:w}]=Mt(!0),[b,{open:E,close:R}]=Mt(!1),T=K8(),{setVolume:x,userVolumes:p}=e9(),h=iy(o),S=d.isCreator,[C,D]=P.useState({isEdit:!1,initialData:"",channelId:""}),j=async(M,B)=>{if(h.filter(F=>F.roomName===M).flatMap(F=>Object.values(F.users)).length>=B){console.warn("     ");return}r?M===f?v(YR()):(f&&await t(l,f),v(oo(!1)),v(Hi(M)),e(M,c.name,c.id,d.serverId,l)):(v(Hi(M)),e(M,c.name,c.id,d.serverId,l))},L=(M,B)=>{if(!f)return;const $=h.find(U=>U.roomName===f);if(!$)return;const F=$.users[M];if(!F)return;const H=F.producerIds.find(U=>!!n.find(ne=>ne.producerId===U&&ne.kind==="audio"));H&&x(H,B)},N=()=>{D({isEdit:!1,initialData:"",channelId:""}),E()},A=M=>{console.log(M),Je.emit("kickUser",{targetSocketId:M},B=>{B.success?console.log("  :",B.message):console.error("  :",B.message)})},O=M=>{const B=M.find($=>n.some(F=>F.producerId===$&&F.kind==="audio"));return(p[B||""]||1)*100},V=(M,B)=>M.some(F=>T.some(H=>H.producerId===F))&&B===f,W=M=>{a(M),v(oo(!0))},X=(M,B)=>{!B||B===void 0?(console.log(M,B,Je),Je.emit("muteUserById",{userId:M})):Je.emit("unmuteUserById",{userId:M})};return P.useEffect(()=>{if(Je)return Je.on("kickedUser",()=>{t(l,f),v(oo(!1)),v(Hi(null))}),()=>{Je.off("producerClosed")}},[t,v]),y.jsxs(y.Fragment,{children:[y.jsxs(Re,{align:"flex-start",gap:"xs",children:[y.jsx(q8,{opened:g,toggle:w,isAdmin:S,handleAddChannel:N}),y.jsx(zd,{in:g,w:"100%",children:y.jsx(Re,{gap:"xs",children:d.channels.voiceChannels.map(({channelId:M,channelName:B,maxCount:$})=>y.jsxs(St.Fragment,{children:[y.jsx(W8,{channelId:M,channelName:B,maxCount:$,currentCount:h.filter(F=>F.roomName===M).flatMap(F=>Object.values(F.users)).length,isAdmin:S,handleConnect:()=>j(M,$)}),y.jsx(Re,{gap:"xs",children:h.filter(F=>F.roomName===M).flatMap(F=>Object.entries(F.users).map(([H,{producerIds:U,userName:G,userId:ne}])=>{const ue=V(U,M),Q=O(U);return y.jsx(G8,{socketId:H,isSpeaking:ue,userName:G,producerIds:U,isAdmin:S,userVolume:Q,handleOpenStream:W,handleVolumeChange:L,handleKickUser:A,channelId:M,userId:ne,handleMuteUser:X},H)}))})]},M))})})]}),m&&y.jsx(sE,{opened:b,onClose:R,isEdit:C,serverId:m,channelType:zt.VOICE_CHANNEL})]})},X8={buttonSettings:{backgroundColor:"transparent","--button-hover-color":"#4f4f4f",transition:"color 0.3s ease",borderTopLeftRadius:0,borderBottomLeftRadius:0}},Y8=({onClose:e})=>{const t=fo(),r=st(),n=Uc(),[o,{open:a,close:c}]=Mt(!1),[l,{open:d,close:f}]=Mt(!1),[m,{open:v,close:g}]=Mt(!1),[w,{open:b,close:E}]=Mt(!1),{serverData:R,isLoading:T,currentVoiceChannelId:x}=ve(j=>j.testServerStore),{accessToken:p}=ve(j=>j.userStore),h=R.permissions.canChangeRole,S=R.isCreator,C=j=>{navigator.clipboard.writeText(j)},D=async()=>{n(p,x),r(oo(!1)),r(Hi(null)),(await r(_c({accessToken:p,serverId:R.serverId}))).meta.requestStatus==="fulfilled"&&(r(_s({accessToken:p})),r(pa(!0)),r(oy()),t("/main"))};return y.jsxs(y.Fragment,{children:[y.jsxs(Re,{gap:"xs",bg:"#1A1B1E",p:10,w:250,h:"100%",visibleFrom:"sm",children:[y.jsxs(lt,{shadow:"md",width:200,children:[y.jsx(lt.Target,{children:y.jsxs(Le,{justify:"space-between",style:{cursor:"pointer"},children:[T?y.jsx(zo,{height:10,width:"40%",radius:"md"}):y.jsx(Oe,{children:R.serverName}),y.jsx(Df,{})]})}),y.jsxs(lt.Dropdown,{children:[(h||S)&&y.jsx(lt.Item,{leftSection:y.jsx(Vc,{size:16}),onClick:a,children:" "}),h&&y.jsx(lt.Item,{onClick:()=>b(),leftSection:y.jsx(MR,{size:16}),children:" "}),y.jsx(lt.Item,{onClick:d,leftSection:y.jsx(s5,{size:16}),children:"   "}),y.jsx(lt.Item,{onClick:()=>C(R.serverId),leftSection:y.jsx(ey,{size:16}),children:" ID "}),!S&&y.jsx(lt.Item,{onClick:D,leftSection:y.jsx(og,{size:16}),children:"  "}),S&&y.jsx(lt.Item,{onClick:()=>v(),leftSection:y.jsx(og,{size:16}),children:"  "})]})]}),y.jsx(mr,{}),y.jsxs(er.Autosize,{mah:"100%",maw:"100%",scrollbarSize:0,children:[y.jsx(oE,{onClose:e}),y.jsx(iE,{})]}),y.jsx(eE,{})]}),y.jsx(rE,{opened:o,onClose:c}),y.jsx(P8,{opened:l,onClose:f}),y.jsx(U8,{opened:m,onClose:g}),y.jsx(B8,{opened:w,onClose:E})]})},Q8=({onClose:e,opened:t})=>{const r=fo(),n=st(),[o,{open:a,close:c}]=Mt(!1),{serverData:l,isLoading:d}=ve(w=>w.testServerStore),{accessToken:f}=ve(w=>w.userStore),m=l.isCreator,v=w=>{navigator.clipboard.writeText(w)},g=async()=>{(await n(_c({accessToken:f,serverId:l.serverId}))).meta.requestStatus==="fulfilled"&&(n(_s({accessToken:f})),n(pa(!0)),n(oy()),r("/main"))};return y.jsxs(y.Fragment,{children:[y.jsxs(cn,{opened:t,onClose:e,size:"xs",styles:{content:{backgroundColor:"#1A1B1E",color:"#ffffff"},header:{backgroundColor:"#1A1B1E"},body:{height:"calc(100dvh - 60px)"}},children:[y.jsxs(lt,{shadow:"md",width:200,children:[y.jsx(lt.Target,{children:y.jsxs(Le,{justify:"space-between",style:{cursor:"pointer"},children:[d?y.jsx(zo,{height:10,width:"40%",radius:"md"}):y.jsx(Oe,{children:l.serverName}),y.jsx(Df,{})]})}),y.jsxs(lt.Dropdown,{children:[m&&y.jsx(lt.Item,{leftSection:y.jsx(Vc,{size:16}),onClick:a,children:" "}),y.jsx(lt.Item,{onClick:()=>v(l.serverId),leftSection:y.jsx(ey,{size:16}),children:" ID "}),!m&&y.jsx(lt.Item,{onClick:g,leftSection:y.jsx(og,{size:16}),children:"  "})]})]}),y.jsx(mr,{}),y.jsx(oE,{onClose:e}),y.jsx(iE,{}),y.jsx(eE,{})]}),y.jsx(rE,{opened:o,onClose:c})]})},J8=()=>{const e=fo(),t=st(),{showMessage:r}=ur(),{isUserStreamView:n,isOpenHome:o}=ve(C=>C.appStore),{accessToken:a,isLoggedIn:c}=ve(C=>C.userStore),{currentServerId:l,currentChannelId:d,numberOfStarterMessage:f}=ve(C=>C.testServerStore),[m,{open:v,close:g}]=Mt(!1),[w,{open:b,close:E}]=Mt(!1),{sendMessage:R,editMessage:T,deleteMessage:x,sendChatMessage:p,editChatMessage:h,deleteChatMessage:S}=n8({accessToken:a,dispatch:t,serverId:l,showMessage:r});return s8({accessToken:a,dispatch:t,serverId:l}),P.useEffect(()=>{c||e("/")},[c,e]),P.useEffect(()=>{a&&t(Hu({accessToken:a}))},[a,t]),P.useEffect(()=>{l&&a&&t(An({accessToken:a,serverId:l}))},[a,l,t]),P.useEffect(()=>{d&&a&&t(Pu({accessToken:a,channelId:d,numberOfMessages:tn,fromStart:f}))},[a,d,l,t]),y.jsxs(oe,{style:{display:"flex",height:"100dvh"},children:[y.jsx(k8,{}),o?y.jsx(R8,{sendChatMessage:p,editChatMessage:h,deleteChatMessage:S}):y.jsxs(y.Fragment,{children:[y.jsx(Y8,{onClose:g}),n?y.jsx(l8,{}):y.jsx(o8,{openSidebar:v,openDetailsPanel:b,sendMessage:R,editMessage:T,deleteMessage:x}),y.jsx(f8,{}),y.jsx(Q8,{onClose:g,opened:m}),y.jsx(p8,{onClose:E,opened:w})]})]})},Z8=()=>{const e=st(),t=fo(),{accessToken:r}=ve(a=>a.userStore),n=Go({initialValues:{mail:"",accountName:"",password:""},validate:{mail:a=>/^\S+@\S+$/.test(a)?null:"  email",accountName:a=>a.trim().length>0?null:" ",password:a=>a.trim().length>5?null:"  (    6 "}}),o=async a=>{(await e(Uu({mail:a.mail,password:a.password,accountName:a.accountName}))).meta.requestStatus==="fulfilled"&&t("/main")};return P.useEffect(()=>{r&&t("/main")},[r,t]),y.jsx(zn,{w:"100vw",h:"100vh",gap:"md",justify:"center",align:"center",direction:"column",bg:"linear-gradient(135deg, #4a90e2, #7b4397)",children:y.jsxs(ss,{shadow:"sm",padding:"lg",radius:"md",bg:"#1c1c1c",c:"white",w:"30vw",miw:"300px",children:[y.jsx(Oe,{fw:500,mb:"md",children:"  "}),y.jsx("form",{onSubmit:n.onSubmit(o),children:y.jsxs(Re,{gap:"md",children:[y.jsx(Lt,{label:"Email",placeholder:" email",...n.getInputProps("mail"),required:!0}),y.jsx(Lt,{label:"",placeholder:" ",...n.getInputProps("accountName"),required:!0}),y.jsx(Sf,{label:"",placeholder:" ",...n.getInputProps("password"),required:!0}),y.jsx(Le,{justify:"center",mt:"md",children:y.jsx(Ie,{type:"submit",children:""})})]})})]})})},eF=({children:e})=>{const t=ve(c=>c.testServerStore.error),r=ve(c=>c.userStore.error),n=ve(c=>c.chatsStore.error),o=ve(c=>c.rolesStore.error),{showError:a}=ur();return P.useEffect(()=>{t!==""&&a(t)},[t]),P.useEffect(()=>{r!==""&&a(r)},[r]),P.useEffect(()=>{n!==""&&a(n)},[n]),P.useEffect(()=>{o!==""&&a(o)},[o]),y.jsx(y.Fragment,{children:e})},tF=()=>y.jsx(J6,{children:y.jsx(Z6,{children:y.jsx(iA,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:y.jsxs(C1,{defaultColorScheme:"dark",children:[y.jsx(Ns,{}),y.jsx(eF,{children:y.jsxs(Z3,{children:[y.jsx(mc,{path:"/",element:y.jsx(B9,{})}),y.jsx(mc,{path:"/main",element:y.jsx(J8,{})}),y.jsx(mc,{path:"/login",element:y.jsx(z9,{})}),y.jsx(mc,{path:"/register",element:y.jsx(Z8,{})})]})})]})})})}),rF=W5({reducer:{userStore:F9,appStore:W9,testServerStore:Q6,chatsStore:r8,rolesStore:O8}});fk.createRoot(document.getElementById("root")).render(y.jsx(Tk,{store:rF,children:y.jsx(tF,{})}));
